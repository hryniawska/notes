function om(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function sm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lm={exports:{}},ql={},am={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var es=Symbol.for("react.element"),Hy=Symbol.for("react.portal"),$y=Symbol.for("react.fragment"),Vy=Symbol.for("react.strict_mode"),Gy=Symbol.for("react.profiler"),Qy=Symbol.for("react.provider"),Ky=Symbol.for("react.context"),Yy=Symbol.for("react.forward_ref"),qy=Symbol.for("react.suspense"),Xy=Symbol.for("react.memo"),Jy=Symbol.for("react.lazy"),Mf=Symbol.iterator;function Zy(t){return t===null||typeof t!="object"?null:(t=Mf&&t[Mf]||t["@@iterator"],typeof t=="function"?t:null)}var um={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cm=Object.assign,dm={};function Ri(t,e,n){this.props=t,this.context=e,this.refs=dm,this.updater=n||um}Ri.prototype.isReactComponent={};Ri.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ri.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fm(){}fm.prototype=Ri.prototype;function Oc(t,e,n){this.props=t,this.context=e,this.refs=dm,this.updater=n||um}var Fc=Oc.prototype=new fm;Fc.constructor=Oc;cm(Fc,Ri.prototype);Fc.isPureReactComponent=!0;var Of=Array.isArray,hm=Object.prototype.hasOwnProperty,bc={current:null},pm={key:!0,ref:!0,__self:!0,__source:!0};function mm(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)hm.call(e,r)&&!pm.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:es,type:t,key:o,ref:s,props:i,_owner:bc.current}}function e0(t,e){return{$$typeof:es,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zc(t){return typeof t=="object"&&t!==null&&t.$$typeof===es}function t0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ff=/\/+/g;function La(t,e){return typeof t=="object"&&t!==null&&t.key!=null?t0(""+t.key):e.toString(36)}function $s(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case es:case Hy:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+La(s,0):r,Of(i)?(n="",t!=null&&(n=t.replace(Ff,"$&/")+"/"),$s(i,e,n,"",function(u){return u})):i!=null&&(zc(i)&&(i=e0(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Ff,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Of(t))for(var l=0;l<t.length;l++){o=t[l];var a=r+La(o,l);s+=$s(o,e,n,a,i)}else if(a=Zy(t),typeof a=="function")for(t=a.call(t),l=0;!(o=t.next()).done;)o=o.value,a=r+La(o,l++),s+=$s(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Cs(t,e,n){if(t==null)return t;var r=[],i=0;return $s(t,r,"","",function(o){return e.call(n,o,i++)}),r}function n0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rt={current:null},Vs={transition:null},r0={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:Vs,ReactCurrentOwner:bc};J.Children={map:Cs,forEach:function(t,e,n){Cs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cs(t,function(){e++}),e},toArray:function(t){return Cs(t,function(e){return e})||[]},only:function(t){if(!zc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=Ri;J.Fragment=$y;J.Profiler=Gy;J.PureComponent=Oc;J.StrictMode=Vy;J.Suspense=qy;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r0;J.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cm({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=bc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)hm.call(e,a)&&!pm.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:es,type:t.type,key:i,ref:o,props:r,_owner:s}};J.createContext=function(t){return t={$$typeof:Ky,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Qy,_context:t},t.Consumer=t};J.createElement=mm;J.createFactory=function(t){var e=mm.bind(null,t);return e.type=t,e};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:Yy,render:t}};J.isValidElement=zc;J.lazy=function(t){return{$$typeof:Jy,_payload:{_status:-1,_result:t},_init:n0}};J.memo=function(t,e){return{$$typeof:Xy,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=Vs.transition;Vs.transition={};try{t()}finally{Vs.transition=e}};J.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};J.useCallback=function(t,e){return rt.current.useCallback(t,e)};J.useContext=function(t){return rt.current.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t){return rt.current.useDeferredValue(t)};J.useEffect=function(t,e){return rt.current.useEffect(t,e)};J.useId=function(){return rt.current.useId()};J.useImperativeHandle=function(t,e,n){return rt.current.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return rt.current.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return rt.current.useLayoutEffect(t,e)};J.useMemo=function(t,e){return rt.current.useMemo(t,e)};J.useReducer=function(t,e,n){return rt.current.useReducer(t,e,n)};J.useRef=function(t){return rt.current.useRef(t)};J.useState=function(t){return rt.current.useState(t)};J.useSyncExternalStore=function(t,e,n){return rt.current.useSyncExternalStore(t,e,n)};J.useTransition=function(){return rt.current.useTransition()};J.version="18.2.0";am.exports=J;var T=am.exports;const gm=sm(T),i0=om({__proto__:null,default:gm},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0=T,s0=Symbol.for("react.element"),l0=Symbol.for("react.fragment"),a0=Object.prototype.hasOwnProperty,u0=o0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c0={key:!0,ref:!0,__self:!0,__source:!0};function vm(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)a0.call(e,r)&&!c0.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:s0,type:t,key:o,ref:s,props:i,_owner:u0.current}}ql.Fragment=l0;ql.jsx=vm;ql.jsxs=vm;lm.exports=ql;var M=lm.exports,Cu={},_m={exports:{}},Ct={},ym={exports:{}},wm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,$){var G=D.length;D.push($);e:for(;0<G;){var le=G-1>>>1,ae=D[le];if(0<i(ae,$))D[le]=$,D[G]=ae,G=le;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var $=D[0],G=D.pop();if(G!==$){D[0]=G;e:for(var le=0,ae=D.length,Lt=ae>>>1;le<Lt;){var gt=2*(le+1)-1,Xe=D[gt],Je=gt+1,xt=D[Je];if(0>i(Xe,G))Je<ae&&0>i(xt,Xe)?(D[le]=xt,D[Je]=G,le=Je):(D[le]=Xe,D[gt]=G,le=gt);else if(Je<ae&&0>i(xt,G))D[le]=xt,D[Je]=G,le=Je;else break e}}return $}function i(D,$){var G=D.sortIndex-$.sortIndex;return G!==0?G:D.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],u=[],f=1,c=null,d=3,p=!1,_=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(D){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=D)r(u),$.sortIndex=$.expirationTime,e(a,$);else break;$=n(u)}}function S(D){if(E=!1,g(D),!_)if(n(a)!==null)_=!0,xn(N);else{var $=n(u);$!==null&&Tn(S,$.startTime-D)}}function N(D,$){_=!1,E&&(E=!1,m(k),k=-1),p=!0;var G=d;try{for(g($),c=n(a);c!==null&&(!(c.expirationTime>$)||D&&!ie());){var le=c.callback;if(typeof le=="function"){c.callback=null,d=c.priorityLevel;var ae=le(c.expirationTime<=$);$=t.unstable_now(),typeof ae=="function"?c.callback=ae:c===n(a)&&r(a),g($)}else r(a);c=n(a)}if(c!==null)var Lt=!0;else{var gt=n(u);gt!==null&&Tn(S,gt.startTime-$),Lt=!1}return Lt}finally{c=null,d=G,p=!1}}var O=!1,y=null,k=-1,H=5,L=-1;function ie(){return!(t.unstable_now()-L<H)}function ce(){if(y!==null){var D=t.unstable_now();L=D;var $=!0;try{$=y(!0,D)}finally{$?De():(O=!1,y=null)}}else O=!1}var De;if(typeof h=="function")De=function(){h(ce)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,Dt=Be.port2;Be.port1.onmessage=ce,De=function(){Dt.postMessage(null)}}else De=function(){x(ce,0)};function xn(D){y=D,O||(O=!0,De())}function Tn(D,$){k=x(function(){D(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,xn(N))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(D){switch(d){case 1:case 2:case 3:var $=3;break;default:$=d}var G=d;d=$;try{return D()}finally{d=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=d;d=D;try{return $()}finally{d=G}},t.unstable_scheduleCallback=function(D,$,G){var le=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?le+G:le):G=le,D){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=G+ae,D={id:f++,callback:$,priorityLevel:D,startTime:G,expirationTime:ae,sortIndex:-1},G>le?(D.sortIndex=G,e(u,D),n(a)===null&&D===n(u)&&(E?(m(k),k=-1):E=!0,Tn(S,G-le))):(D.sortIndex=ae,e(a,D),_||p||(_=!0,xn(N))),D},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(D){var $=d;return function(){var G=d;d=$;try{return D.apply(this,arguments)}finally{d=G}}}})(wm);ym.exports=wm;var d0=ym.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em=T,Et=d0;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cm=new Set,Co={};function Or(t,e){vi(t,e),vi(t+"Capture",e)}function vi(t,e){for(Co[t]=e,t=0;t<e.length;t++)Cm.add(e[t])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Su=Object.prototype.hasOwnProperty,f0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bf={},zf={};function h0(t){return Su.call(zf,t)?!0:Su.call(bf,t)?!1:f0.test(t)?zf[t]=!0:(bf[t]=!0,!1)}function p0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function m0(t,e,n,r){if(e===null||typeof e>"u"||p0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function it(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ve[t]=new it(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ve[e]=new it(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ve[t]=new it(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ve[t]=new it(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ve[t]=new it(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ve[t]=new it(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ve[t]=new it(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ve[t]=new it(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ve[t]=new it(t,5,!1,t.toLowerCase(),null,!1,!1)});var Uc=/[\-:]([a-z])/g;function jc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Uc,jc);Ve[e]=new it(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Uc,jc);Ve[e]=new it(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Uc,jc);Ve[e]=new it(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ve[t]=new it(t,1,!1,t.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ve[t]=new it(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bc(t,e,n,r){var i=Ve.hasOwnProperty(e)?Ve[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(m0(e,n,i,r)&&(n=null),r||i===null?h0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yn=Em.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ss=Symbol.for("react.element"),Qr=Symbol.for("react.portal"),Kr=Symbol.for("react.fragment"),Wc=Symbol.for("react.strict_mode"),xu=Symbol.for("react.profiler"),Sm=Symbol.for("react.provider"),xm=Symbol.for("react.context"),Hc=Symbol.for("react.forward_ref"),Tu=Symbol.for("react.suspense"),ku=Symbol.for("react.suspense_list"),$c=Symbol.for("react.memo"),Dn=Symbol.for("react.lazy"),Tm=Symbol.for("react.offscreen"),Uf=Symbol.iterator;function ji(t){return t===null||typeof t!="object"?null:(t=Uf&&t[Uf]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,Aa;function to(t){if(Aa===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Aa=e&&e[1]||""}return`
`+Aa+t}var Ma=!1;function Oa(t,e){if(!t||Ma)return"";Ma=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=l);break}}}finally{Ma=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?to(t):""}function g0(t){switch(t.tag){case 5:return to(t.type);case 16:return to("Lazy");case 13:return to("Suspense");case 19:return to("SuspenseList");case 0:case 2:case 15:return t=Oa(t.type,!1),t;case 11:return t=Oa(t.type.render,!1),t;case 1:return t=Oa(t.type,!0),t;default:return""}}function Iu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Kr:return"Fragment";case Qr:return"Portal";case xu:return"Profiler";case Wc:return"StrictMode";case Tu:return"Suspense";case ku:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xm:return(t.displayName||"Context")+".Consumer";case Sm:return(t._context.displayName||"Context")+".Provider";case Hc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $c:return e=t.displayName||null,e!==null?e:Iu(t.type)||"Memo";case Dn:e=t._payload,t=t._init;try{return Iu(t(e))}catch{}}return null}function v0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Iu(e);case 8:return e===Wc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function km(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _0(t){var e=km(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xs(t){t._valueTracker||(t._valueTracker=_0(t))}function Im(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=km(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ol(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ru(t,e){var n=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Rm(t,e){e=e.checked,e!=null&&Bc(t,"checked",e,!1)}function Nu(t,e){Rm(t,e);var n=qn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pu(t,e.type,qn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Bf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pu(t,e,n){(e!=="number"||ol(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var no=Array.isArray;function li(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Du(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(no(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qn(n)}}function Nm(t,e){var n=qn(e.value),r=qn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Hf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Pm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Pm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ts,Dm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ts=Ts||document.createElement("div"),Ts.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ts.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function So(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var so={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y0=["Webkit","ms","Moz","O"];Object.keys(so).forEach(function(t){y0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),so[e]=so[t]})});function Lm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||so.hasOwnProperty(t)&&so[t]?(""+e).trim():e+"px"}function Am(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Lm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var w0=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Au(t,e){if(e){if(w0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function Mu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=null;function Vc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fu=null,ai=null,ui=null;function $f(t){if(t=rs(t)){if(typeof Fu!="function")throw Error(R(280));var e=t.stateNode;e&&(e=ta(e),Fu(t.stateNode,t.type,e))}}function Mm(t){ai?ui?ui.push(t):ui=[t]:ai=t}function Om(){if(ai){var t=ai,e=ui;if(ui=ai=null,$f(t),e)for(t=0;t<e.length;t++)$f(e[t])}}function Fm(t,e){return t(e)}function bm(){}var Fa=!1;function zm(t,e,n){if(Fa)return t(e,n);Fa=!0;try{return Fm(t,e,n)}finally{Fa=!1,(ai!==null||ui!==null)&&(bm(),Om())}}function xo(t,e){var n=t.stateNode;if(n===null)return null;var r=ta(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var bu=!1;if(hn)try{var Bi={};Object.defineProperty(Bi,"passive",{get:function(){bu=!0}}),window.addEventListener("test",Bi,Bi),window.removeEventListener("test",Bi,Bi)}catch{bu=!1}function E0(t,e,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var lo=!1,sl=null,ll=!1,zu=null,C0={onError:function(t){lo=!0,sl=t}};function S0(t,e,n,r,i,o,s,l,a){lo=!1,sl=null,E0.apply(C0,arguments)}function x0(t,e,n,r,i,o,s,l,a){if(S0.apply(this,arguments),lo){if(lo){var u=sl;lo=!1,sl=null}else throw Error(R(198));ll||(ll=!0,zu=u)}}function Fr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Um(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Vf(t){if(Fr(t)!==t)throw Error(R(188))}function T0(t){var e=t.alternate;if(!e){if(e=Fr(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Vf(i),t;if(o===r)return Vf(i),e;o=o.sibling}throw Error(R(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function jm(t){return t=T0(t),t!==null?Bm(t):null}function Bm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Bm(t);if(e!==null)return e;t=t.sibling}return null}var Wm=Et.unstable_scheduleCallback,Gf=Et.unstable_cancelCallback,k0=Et.unstable_shouldYield,I0=Et.unstable_requestPaint,Re=Et.unstable_now,R0=Et.unstable_getCurrentPriorityLevel,Gc=Et.unstable_ImmediatePriority,Hm=Et.unstable_UserBlockingPriority,al=Et.unstable_NormalPriority,N0=Et.unstable_LowPriority,$m=Et.unstable_IdlePriority,Xl=null,Xt=null;function P0(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Xl,t,void 0,(t.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:A0,D0=Math.log,L0=Math.LN2;function A0(t){return t>>>=0,t===0?32:31-(D0(t)/L0|0)|0}var ks=64,Is=4194304;function ro(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ul(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=ro(l):(o&=s,o!==0&&(r=ro(o)))}else s=n&~i,s!==0?r=ro(s):o!==0&&(r=ro(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bt(e),i=1<<n,r|=t[n],e&=~i;return r}function M0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Bt(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=M0(l,e)):a<=e&&(t.expiredLanes|=l),o&=~l}}function Uu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Vm(){var t=ks;return ks<<=1,!(ks&4194240)&&(ks=64),t}function ba(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ts(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bt(e),t[e]=n}function F0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Bt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Qc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var se=0;function Gm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Qm,Kc,Km,Ym,qm,ju=!1,Rs=[],zn=null,Un=null,jn=null,To=new Map,ko=new Map,An=[],b0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qf(t,e){switch(t){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":To.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ko.delete(e.pointerId)}}function Wi(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=rs(e),e!==null&&Kc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function z0(t,e,n,r,i){switch(e){case"focusin":return zn=Wi(zn,t,e,n,r,i),!0;case"dragenter":return Un=Wi(Un,t,e,n,r,i),!0;case"mouseover":return jn=Wi(jn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return To.set(o,Wi(To.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ko.set(o,Wi(ko.get(o)||null,t,e,n,r,i)),!0}return!1}function Xm(t){var e=vr(t.target);if(e!==null){var n=Fr(e);if(n!==null){if(e=n.tag,e===13){if(e=Um(n),e!==null){t.blockedOn=e,qm(t.priority,function(){Km(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ou=r,n.target.dispatchEvent(r),Ou=null}else return e=rs(n),e!==null&&Kc(e),t.blockedOn=n,!1;e.shift()}return!0}function Kf(t,e,n){Gs(t)&&n.delete(e)}function U0(){ju=!1,zn!==null&&Gs(zn)&&(zn=null),Un!==null&&Gs(Un)&&(Un=null),jn!==null&&Gs(jn)&&(jn=null),To.forEach(Kf),ko.forEach(Kf)}function Hi(t,e){t.blockedOn===e&&(t.blockedOn=null,ju||(ju=!0,Et.unstable_scheduleCallback(Et.unstable_NormalPriority,U0)))}function Io(t){function e(i){return Hi(i,t)}if(0<Rs.length){Hi(Rs[0],t);for(var n=1;n<Rs.length;n++){var r=Rs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zn!==null&&Hi(zn,t),Un!==null&&Hi(Un,t),jn!==null&&Hi(jn,t),To.forEach(e),ko.forEach(e),n=0;n<An.length;n++)r=An[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<An.length&&(n=An[0],n.blockedOn===null);)Xm(n),n.blockedOn===null&&An.shift()}var ci=yn.ReactCurrentBatchConfig,cl=!0;function j0(t,e,n,r){var i=se,o=ci.transition;ci.transition=null;try{se=1,Yc(t,e,n,r)}finally{se=i,ci.transition=o}}function B0(t,e,n,r){var i=se,o=ci.transition;ci.transition=null;try{se=4,Yc(t,e,n,r)}finally{se=i,ci.transition=o}}function Yc(t,e,n,r){if(cl){var i=Bu(t,e,n,r);if(i===null)Qa(t,e,r,dl,n),Qf(t,r);else if(z0(i,t,e,n,r))r.stopPropagation();else if(Qf(t,r),e&4&&-1<b0.indexOf(t)){for(;i!==null;){var o=rs(i);if(o!==null&&Qm(o),o=Bu(t,e,n,r),o===null&&Qa(t,e,r,dl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Qa(t,e,r,null,n)}}var dl=null;function Bu(t,e,n,r){if(dl=null,t=Vc(r),t=vr(t),t!==null)if(e=Fr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Um(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return dl=t,null}function Jm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R0()){case Gc:return 1;case Hm:return 4;case al:case N0:return 16;case $m:return 536870912;default:return 16}default:return 16}}var On=null,qc=null,Qs=null;function Zm(){if(Qs)return Qs;var t,e=qc,n=e.length,r,i="value"in On?On.value:On.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Qs=i.slice(t,1<r?1-r:void 0)}function Ks(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ns(){return!0}function Yf(){return!1}function St(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ns:Yf,this.isPropagationStopped=Yf,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),e}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xc=St(Ni),ns=Ce({},Ni,{view:0,detail:0}),W0=St(ns),za,Ua,$i,Jl=Ce({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$i&&($i&&t.type==="mousemove"?(za=t.screenX-$i.screenX,Ua=t.screenY-$i.screenY):Ua=za=0,$i=t),za)},movementY:function(t){return"movementY"in t?t.movementY:Ua}}),qf=St(Jl),H0=Ce({},Jl,{dataTransfer:0}),$0=St(H0),V0=Ce({},ns,{relatedTarget:0}),ja=St(V0),G0=Ce({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Q0=St(G0),K0=Ce({},Ni,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Y0=St(K0),q0=Ce({},Ni,{data:0}),Xf=St(q0),X0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Z0[t])?!!e[t]:!1}function Jc(){return e1}var t1=Ce({},ns,{key:function(t){if(t.key){var e=X0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ks(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?J0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jc,charCode:function(t){return t.type==="keypress"?Ks(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ks(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),n1=St(t1),r1=Ce({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jf=St(r1),i1=Ce({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jc}),o1=St(i1),s1=Ce({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),l1=St(s1),a1=Ce({},Jl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),u1=St(a1),c1=[9,13,27,32],Zc=hn&&"CompositionEvent"in window,ao=null;hn&&"documentMode"in document&&(ao=document.documentMode);var d1=hn&&"TextEvent"in window&&!ao,eg=hn&&(!Zc||ao&&8<ao&&11>=ao),Zf=String.fromCharCode(32),eh=!1;function tg(t,e){switch(t){case"keyup":return c1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ng(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yr=!1;function f1(t,e){switch(t){case"compositionend":return ng(e);case"keypress":return e.which!==32?null:(eh=!0,Zf);case"textInput":return t=e.data,t===Zf&&eh?null:t;default:return null}}function h1(t,e){if(Yr)return t==="compositionend"||!Zc&&tg(t,e)?(t=Zm(),Qs=qc=On=null,Yr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eg&&e.locale!=="ko"?null:e.data;default:return null}}var p1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function th(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!p1[t.type]:e==="textarea"}function rg(t,e,n,r){Mm(r),e=fl(e,"onChange"),0<e.length&&(n=new Xc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var uo=null,Ro=null;function m1(t){pg(t,0)}function Zl(t){var e=Jr(t);if(Im(e))return t}function g1(t,e){if(t==="change")return e}var ig=!1;if(hn){var Ba;if(hn){var Wa="oninput"in document;if(!Wa){var nh=document.createElement("div");nh.setAttribute("oninput","return;"),Wa=typeof nh.oninput=="function"}Ba=Wa}else Ba=!1;ig=Ba&&(!document.documentMode||9<document.documentMode)}function rh(){uo&&(uo.detachEvent("onpropertychange",og),Ro=uo=null)}function og(t){if(t.propertyName==="value"&&Zl(Ro)){var e=[];rg(e,Ro,t,Vc(t)),zm(m1,e)}}function v1(t,e,n){t==="focusin"?(rh(),uo=e,Ro=n,uo.attachEvent("onpropertychange",og)):t==="focusout"&&rh()}function _1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zl(Ro)}function y1(t,e){if(t==="click")return Zl(e)}function w1(t,e){if(t==="input"||t==="change")return Zl(e)}function E1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $t=typeof Object.is=="function"?Object.is:E1;function No(t,e){if($t(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Su.call(e,i)||!$t(t[i],e[i]))return!1}return!0}function ih(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oh(t,e){var n=ih(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ih(n)}}function sg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lg(){for(var t=window,e=ol();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ol(t.document)}return e}function ed(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function C1(t){var e=lg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sg(n.ownerDocument.documentElement,n)){if(r!==null&&ed(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=oh(n,o);var s=oh(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var S1=hn&&"documentMode"in document&&11>=document.documentMode,qr=null,Wu=null,co=null,Hu=!1;function sh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hu||qr==null||qr!==ol(r)||(r=qr,"selectionStart"in r&&ed(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),co&&No(co,r)||(co=r,r=fl(Wu,"onSelect"),0<r.length&&(e=new Xc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qr)))}function Ps(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xr={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionend:Ps("Transition","TransitionEnd")},Ha={},ag={};hn&&(ag=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function ea(t){if(Ha[t])return Ha[t];if(!Xr[t])return t;var e=Xr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ag)return Ha[t]=e[n];return t}var ug=ea("animationend"),cg=ea("animationiteration"),dg=ea("animationstart"),fg=ea("transitionend"),hg=new Map,lh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(t,e){hg.set(t,e),Or(e,[t])}for(var $a=0;$a<lh.length;$a++){var Va=lh[$a],x1=Va.toLowerCase(),T1=Va[0].toUpperCase()+Va.slice(1);ir(x1,"on"+T1)}ir(ug,"onAnimationEnd");ir(cg,"onAnimationIteration");ir(dg,"onAnimationStart");ir("dblclick","onDoubleClick");ir("focusin","onFocus");ir("focusout","onBlur");ir(fg,"onTransitionEnd");vi("onMouseEnter",["mouseout","mouseover"]);vi("onMouseLeave",["mouseout","mouseover"]);vi("onPointerEnter",["pointerout","pointerover"]);vi("onPointerLeave",["pointerout","pointerover"]);Or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Or("onBeforeInput",["compositionend","keypress","textInput","paste"]);Or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k1=new Set("cancel close invalid load scroll toggle".split(" ").concat(io));function ah(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,x0(r,e,void 0,t),t.currentTarget=null}function pg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;ah(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;ah(i,l,u),o=a}}}if(ll)throw t=zu,ll=!1,zu=null,t}function me(t,e){var n=e[Ku];n===void 0&&(n=e[Ku]=new Set);var r=t+"__bubble";n.has(r)||(mg(e,t,2,!1),n.add(r))}function Ga(t,e,n){var r=0;e&&(r|=4),mg(n,t,r,e)}var Ds="_reactListening"+Math.random().toString(36).slice(2);function Po(t){if(!t[Ds]){t[Ds]=!0,Cm.forEach(function(n){n!=="selectionchange"&&(k1.has(n)||Ga(n,!1,t),Ga(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ds]||(e[Ds]=!0,Ga("selectionchange",!1,e))}}function mg(t,e,n,r){switch(Jm(e)){case 1:var i=j0;break;case 4:i=B0;break;default:i=Yc}n=i.bind(null,e,n,t),i=void 0,!bu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Qa(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=vr(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}zm(function(){var u=o,f=Vc(n),c=[];e:{var d=hg.get(t);if(d!==void 0){var p=Xc,_=t;switch(t){case"keypress":if(Ks(n)===0)break e;case"keydown":case"keyup":p=n1;break;case"focusin":_="focus",p=ja;break;case"focusout":_="blur",p=ja;break;case"beforeblur":case"afterblur":p=ja;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=$0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=o1;break;case ug:case cg:case dg:p=Q0;break;case fg:p=l1;break;case"scroll":p=W0;break;case"wheel":p=u1;break;case"copy":case"cut":case"paste":p=Y0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Jf}var E=(e&4)!==0,x=!E&&t==="scroll",m=E?d!==null?d+"Capture":null:d;E=[];for(var h=u,g;h!==null;){g=h;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,m!==null&&(S=xo(h,m),S!=null&&E.push(Do(h,S,g)))),x)break;h=h.return}0<E.length&&(d=new p(d,_,null,n,f),c.push({event:d,listeners:E}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Ou&&(_=n.relatedTarget||n.fromElement)&&(vr(_)||_[pn]))break e;if((p||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=u,_=_?vr(_):null,_!==null&&(x=Fr(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=u),p!==_)){if(E=qf,S="onMouseLeave",m="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(E=Jf,S="onPointerLeave",m="onPointerEnter",h="pointer"),x=p==null?d:Jr(p),g=_==null?d:Jr(_),d=new E(S,h+"leave",p,n,f),d.target=x,d.relatedTarget=g,S=null,vr(f)===u&&(E=new E(m,h+"enter",_,n,f),E.target=g,E.relatedTarget=x,S=E),x=S,p&&_)t:{for(E=p,m=_,h=0,g=E;g;g=Hr(g))h++;for(g=0,S=m;S;S=Hr(S))g++;for(;0<h-g;)E=Hr(E),h--;for(;0<g-h;)m=Hr(m),g--;for(;h--;){if(E===m||m!==null&&E===m.alternate)break t;E=Hr(E),m=Hr(m)}E=null}else E=null;p!==null&&uh(c,d,p,E,!1),_!==null&&x!==null&&uh(c,x,_,E,!0)}}e:{if(d=u?Jr(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var N=g1;else if(th(d))if(ig)N=w1;else{N=_1;var O=v1}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(N=y1);if(N&&(N=N(t,u))){rg(c,N,n,f);break e}O&&O(t,d,u),t==="focusout"&&(O=d._wrapperState)&&O.controlled&&d.type==="number"&&Pu(d,"number",d.value)}switch(O=u?Jr(u):window,t){case"focusin":(th(O)||O.contentEditable==="true")&&(qr=O,Wu=u,co=null);break;case"focusout":co=Wu=qr=null;break;case"mousedown":Hu=!0;break;case"contextmenu":case"mouseup":case"dragend":Hu=!1,sh(c,n,f);break;case"selectionchange":if(S1)break;case"keydown":case"keyup":sh(c,n,f)}var y;if(Zc)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Yr?tg(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(eg&&n.locale!=="ko"&&(Yr||k!=="onCompositionStart"?k==="onCompositionEnd"&&Yr&&(y=Zm()):(On=f,qc="value"in On?On.value:On.textContent,Yr=!0)),O=fl(u,k),0<O.length&&(k=new Xf(k,t,null,n,f),c.push({event:k,listeners:O}),y?k.data=y:(y=ng(n),y!==null&&(k.data=y)))),(y=d1?f1(t,n):h1(t,n))&&(u=fl(u,"onBeforeInput"),0<u.length&&(f=new Xf("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=y))}pg(c,e)})}function Do(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=xo(t,n),o!=null&&r.unshift(Do(t,o,i)),o=xo(t,e),o!=null&&r.push(Do(t,o,i))),t=t.return}return r}function Hr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uh(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=xo(n,o),a!=null&&s.unshift(Do(n,a,l))):i||(a=xo(n,o),a!=null&&s.push(Do(n,a,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var I1=/\r\n?/g,R1=/\u0000|\uFFFD/g;function ch(t){return(typeof t=="string"?t:""+t).replace(I1,`
`).replace(R1,"")}function Ls(t,e,n){if(e=ch(e),ch(t)!==e&&n)throw Error(R(425))}function hl(){}var $u=null,Vu=null;function Gu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qu=typeof setTimeout=="function"?setTimeout:void 0,N1=typeof clearTimeout=="function"?clearTimeout:void 0,dh=typeof Promise=="function"?Promise:void 0,P1=typeof queueMicrotask=="function"?queueMicrotask:typeof dh<"u"?function(t){return dh.resolve(null).then(t).catch(D1)}:Qu;function D1(t){setTimeout(function(){throw t})}function Ka(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Io(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Io(e)}function Bn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Pi=Math.random().toString(36).slice(2),qt="__reactFiber$"+Pi,Lo="__reactProps$"+Pi,pn="__reactContainer$"+Pi,Ku="__reactEvents$"+Pi,L1="__reactListeners$"+Pi,A1="__reactHandles$"+Pi;function vr(t){var e=t[qt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pn]||n[qt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fh(t);t!==null;){if(n=t[qt])return n;t=fh(t)}return e}t=n,n=t.parentNode}return null}function rs(t){return t=t[qt]||t[pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function ta(t){return t[Lo]||null}var Yu=[],Zr=-1;function or(t){return{current:t}}function _e(t){0>Zr||(t.current=Yu[Zr],Yu[Zr]=null,Zr--)}function pe(t,e){Zr++,Yu[Zr]=t.current,t.current=e}var Xn={},qe=or(Xn),ut=or(!1),kr=Xn;function _i(t,e){var n=t.type.contextTypes;if(!n)return Xn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ct(t){return t=t.childContextTypes,t!=null}function pl(){_e(ut),_e(qe)}function hh(t,e,n){if(qe.current!==Xn)throw Error(R(168));pe(qe,e),pe(ut,n)}function gg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(R(108,v0(t)||"Unknown",i));return Ce({},n,r)}function ml(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xn,kr=qe.current,pe(qe,t),pe(ut,ut.current),!0}function ph(t,e,n){var r=t.stateNode;if(!r)throw Error(R(169));n?(t=gg(t,e,kr),r.__reactInternalMemoizedMergedChildContext=t,_e(ut),_e(qe),pe(qe,t)):_e(ut),pe(ut,n)}var ln=null,na=!1,Ya=!1;function vg(t){ln===null?ln=[t]:ln.push(t)}function M1(t){na=!0,vg(t)}function sr(){if(!Ya&&ln!==null){Ya=!0;var t=0,e=se;try{var n=ln;for(se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ln=null,na=!1}catch(i){throw ln!==null&&(ln=ln.slice(t+1)),Wm(Gc,sr),i}finally{se=e,Ya=!1}}return null}var ei=[],ti=0,gl=null,vl=0,Tt=[],kt=0,Ir=null,an=1,un="";function dr(t,e){ei[ti++]=vl,ei[ti++]=gl,gl=t,vl=e}function _g(t,e,n){Tt[kt++]=an,Tt[kt++]=un,Tt[kt++]=Ir,Ir=t;var r=an;t=un;var i=32-Bt(r)-1;r&=~(1<<i),n+=1;var o=32-Bt(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,an=1<<32-Bt(e)+i|n<<i|r,un=o+t}else an=1<<o|n<<i|r,un=t}function td(t){t.return!==null&&(dr(t,1),_g(t,1,0))}function nd(t){for(;t===gl;)gl=ei[--ti],ei[ti]=null,vl=ei[--ti],ei[ti]=null;for(;t===Ir;)Ir=Tt[--kt],Tt[kt]=null,un=Tt[--kt],Tt[kt]=null,an=Tt[--kt],Tt[kt]=null}var wt=null,yt=null,ye=!1,bt=null;function yg(t,e){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wt=t,yt=Bn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wt=t,yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ir!==null?{id:an,overflow:un}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wt=t,yt=null,!0):!1;default:return!1}}function qu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xu(t){if(ye){var e=yt;if(e){var n=e;if(!mh(t,e)){if(qu(t))throw Error(R(418));e=Bn(n.nextSibling);var r=wt;e&&mh(t,e)?yg(r,n):(t.flags=t.flags&-4097|2,ye=!1,wt=t)}}else{if(qu(t))throw Error(R(418));t.flags=t.flags&-4097|2,ye=!1,wt=t}}}function gh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wt=t}function As(t){if(t!==wt)return!1;if(!ye)return gh(t),ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gu(t.type,t.memoizedProps)),e&&(e=yt)){if(qu(t))throw wg(),Error(R(418));for(;e;)yg(t,e),e=Bn(e.nextSibling)}if(gh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yt=Bn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yt=null}}else yt=wt?Bn(t.stateNode.nextSibling):null;return!0}function wg(){for(var t=yt;t;)t=Bn(t.nextSibling)}function yi(){yt=wt=null,ye=!1}function rd(t){bt===null?bt=[t]:bt.push(t)}var O1=yn.ReactCurrentBatchConfig;function Mt(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var _l=or(null),yl=null,ni=null,id=null;function od(){id=ni=yl=null}function sd(t){var e=_l.current;_e(_l),t._currentValue=e}function Ju(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function di(t,e){yl=t,id=ni=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(lt=!0),t.firstContext=null)}function Nt(t){var e=t._currentValue;if(id!==t)if(t={context:t,memoizedValue:e,next:null},ni===null){if(yl===null)throw Error(R(308));ni=t,yl.dependencies={lanes:0,firstContext:t}}else ni=ni.next=t;return e}var _r=null;function ld(t){_r===null?_r=[t]:_r.push(t)}function Eg(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ld(e)):(n.next=i.next,i.next=n),e.interleaved=n,mn(t,r)}function mn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ln=!1;function ad(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,mn(t,n)}return i=r.interleaved,i===null?(e.next=e,ld(r)):(e.next=i.next,i.next=e),r.interleaved=e,mn(t,n)}function Ys(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qc(t,n)}}function vh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wl(t,e,n,r){var i=t.updateQueue;Ln=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=a))}if(o!==null){var c=i.baseState;s=0,f=u=a=null,l=o;do{var d=l.lane,p=l.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,E=l;switch(d=e,p=n,E.tag){case 1:if(_=E.payload,typeof _=="function"){c=_.call(p,c,d);break e}c=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,d=typeof _=="function"?_.call(p,c,d):_,d==null)break e;c=Ce({},c,d);break e;case 2:Ln=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else p={eventTime:p,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,a=c):f=f.next=p,s|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(f===null&&(a=c),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Nr|=s,t.lanes=s,t.memoizedState=c}}function _h(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(R(191,i));i.call(r)}}}var Sg=new Em.Component().refs;function Zu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ra={isMounted:function(t){return(t=t._reactInternals)?Fr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nt(),i=$n(t),o=dn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Wn(t,o,i),e!==null&&(Wt(e,t,i,r),Ys(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nt(),i=$n(t),o=dn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Wn(t,o,i),e!==null&&(Wt(e,t,i,r),Ys(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nt(),r=$n(t),i=dn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wn(t,i,r),e!==null&&(Wt(e,t,r,n),Ys(e,t,r))}};function yh(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!No(n,r)||!No(i,o):!0}function xg(t,e,n){var r=!1,i=Xn,o=e.contextType;return typeof o=="object"&&o!==null?o=Nt(o):(i=ct(e)?kr:qe.current,r=e.contextTypes,o=(r=r!=null)?_i(t,i):Xn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ra,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function wh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ra.enqueueReplaceState(e,e.state,null)}function ec(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Sg,ad(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Nt(o):(o=ct(e)?kr:qe.current,i.context=_i(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Zu(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ra.enqueueReplaceState(i,i.state,null),wl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;l===Sg&&(l=i.refs={}),s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function Ms(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Eh(t){var e=t._init;return e(t._payload)}function Tg(t){function e(m,h){if(t){var g=m.deletions;g===null?(m.deletions=[h],m.flags|=16):g.push(h)}}function n(m,h){if(!t)return null;for(;h!==null;)e(m,h),h=h.sibling;return null}function r(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function i(m,h){return m=Vn(m,h),m.index=0,m.sibling=null,m}function o(m,h,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<h?(m.flags|=2,h):g):(m.flags|=2,h)):(m.flags|=1048576,h)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,h,g,S){return h===null||h.tag!==6?(h=nu(g,m.mode,S),h.return=m,h):(h=i(h,g),h.return=m,h)}function a(m,h,g,S){var N=g.type;return N===Kr?f(m,h,g.props.children,S,g.key):h!==null&&(h.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Dn&&Eh(N)===h.type)?(S=i(h,g.props),S.ref=Vi(m,h,g),S.return=m,S):(S=tl(g.type,g.key,g.props,null,m.mode,S),S.ref=Vi(m,h,g),S.return=m,S)}function u(m,h,g,S){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=ru(g,m.mode,S),h.return=m,h):(h=i(h,g.children||[]),h.return=m,h)}function f(m,h,g,S,N){return h===null||h.tag!==7?(h=xr(g,m.mode,S,N),h.return=m,h):(h=i(h,g),h.return=m,h)}function c(m,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=nu(""+h,m.mode,g),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ss:return g=tl(h.type,h.key,h.props,null,m.mode,g),g.ref=Vi(m,null,h),g.return=m,g;case Qr:return h=ru(h,m.mode,g),h.return=m,h;case Dn:var S=h._init;return c(m,S(h._payload),g)}if(no(h)||ji(h))return h=xr(h,m.mode,g,null),h.return=m,h;Ms(m,h)}return null}function d(m,h,g,S){var N=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return N!==null?null:l(m,h,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ss:return g.key===N?a(m,h,g,S):null;case Qr:return g.key===N?u(m,h,g,S):null;case Dn:return N=g._init,d(m,h,N(g._payload),S)}if(no(g)||ji(g))return N!==null?null:f(m,h,g,S,null);Ms(m,g)}return null}function p(m,h,g,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(g)||null,l(h,m,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ss:return m=m.get(S.key===null?g:S.key)||null,a(h,m,S,N);case Qr:return m=m.get(S.key===null?g:S.key)||null,u(h,m,S,N);case Dn:var O=S._init;return p(m,h,g,O(S._payload),N)}if(no(S)||ji(S))return m=m.get(g)||null,f(h,m,S,N,null);Ms(h,S)}return null}function _(m,h,g,S){for(var N=null,O=null,y=h,k=h=0,H=null;y!==null&&k<g.length;k++){y.index>k?(H=y,y=null):H=y.sibling;var L=d(m,y,g[k],S);if(L===null){y===null&&(y=H);break}t&&y&&L.alternate===null&&e(m,y),h=o(L,h,k),O===null?N=L:O.sibling=L,O=L,y=H}if(k===g.length)return n(m,y),ye&&dr(m,k),N;if(y===null){for(;k<g.length;k++)y=c(m,g[k],S),y!==null&&(h=o(y,h,k),O===null?N=y:O.sibling=y,O=y);return ye&&dr(m,k),N}for(y=r(m,y);k<g.length;k++)H=p(y,m,k,g[k],S),H!==null&&(t&&H.alternate!==null&&y.delete(H.key===null?k:H.key),h=o(H,h,k),O===null?N=H:O.sibling=H,O=H);return t&&y.forEach(function(ie){return e(m,ie)}),ye&&dr(m,k),N}function E(m,h,g,S){var N=ji(g);if(typeof N!="function")throw Error(R(150));if(g=N.call(g),g==null)throw Error(R(151));for(var O=N=null,y=h,k=h=0,H=null,L=g.next();y!==null&&!L.done;k++,L=g.next()){y.index>k?(H=y,y=null):H=y.sibling;var ie=d(m,y,L.value,S);if(ie===null){y===null&&(y=H);break}t&&y&&ie.alternate===null&&e(m,y),h=o(ie,h,k),O===null?N=ie:O.sibling=ie,O=ie,y=H}if(L.done)return n(m,y),ye&&dr(m,k),N;if(y===null){for(;!L.done;k++,L=g.next())L=c(m,L.value,S),L!==null&&(h=o(L,h,k),O===null?N=L:O.sibling=L,O=L);return ye&&dr(m,k),N}for(y=r(m,y);!L.done;k++,L=g.next())L=p(y,m,k,L.value,S),L!==null&&(t&&L.alternate!==null&&y.delete(L.key===null?k:L.key),h=o(L,h,k),O===null?N=L:O.sibling=L,O=L);return t&&y.forEach(function(ce){return e(m,ce)}),ye&&dr(m,k),N}function x(m,h,g,S){if(typeof g=="object"&&g!==null&&g.type===Kr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ss:e:{for(var N=g.key,O=h;O!==null;){if(O.key===N){if(N=g.type,N===Kr){if(O.tag===7){n(m,O.sibling),h=i(O,g.props.children),h.return=m,m=h;break e}}else if(O.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Dn&&Eh(N)===O.type){n(m,O.sibling),h=i(O,g.props),h.ref=Vi(m,O,g),h.return=m,m=h;break e}n(m,O);break}else e(m,O);O=O.sibling}g.type===Kr?(h=xr(g.props.children,m.mode,S,g.key),h.return=m,m=h):(S=tl(g.type,g.key,g.props,null,m.mode,S),S.ref=Vi(m,h,g),S.return=m,m=S)}return s(m);case Qr:e:{for(O=g.key;h!==null;){if(h.key===O)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(m,h.sibling),h=i(h,g.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else e(m,h);h=h.sibling}h=ru(g,m.mode,S),h.return=m,m=h}return s(m);case Dn:return O=g._init,x(m,h,O(g._payload),S)}if(no(g))return _(m,h,g,S);if(ji(g))return E(m,h,g,S);Ms(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(m,h.sibling),h=i(h,g),h.return=m,m=h):(n(m,h),h=nu(g,m.mode,S),h.return=m,m=h),s(m)):n(m,h)}return x}var wi=Tg(!0),kg=Tg(!1),is={},Jt=or(is),Ao=or(is),Mo=or(is);function yr(t){if(t===is)throw Error(R(174));return t}function ud(t,e){switch(pe(Mo,e),pe(Ao,t),pe(Jt,is),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lu(e,t)}_e(Jt),pe(Jt,e)}function Ei(){_e(Jt),_e(Ao),_e(Mo)}function Ig(t){yr(Mo.current);var e=yr(Jt.current),n=Lu(e,t.type);e!==n&&(pe(Ao,t),pe(Jt,n))}function cd(t){Ao.current===t&&(_e(Jt),_e(Ao))}var we=or(0);function El(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qa=[];function dd(){for(var t=0;t<qa.length;t++)qa[t]._workInProgressVersionPrimary=null;qa.length=0}var qs=yn.ReactCurrentDispatcher,Xa=yn.ReactCurrentBatchConfig,Rr=0,Ee=null,Le=null,be=null,Cl=!1,fo=!1,Oo=0,F1=0;function Ge(){throw Error(R(321))}function fd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$t(t[n],e[n]))return!1;return!0}function hd(t,e,n,r,i,o){if(Rr=o,Ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qs.current=t===null||t.memoizedState===null?j1:B1,t=n(r,i),fo){o=0;do{if(fo=!1,Oo=0,25<=o)throw Error(R(301));o+=1,be=Le=null,e.updateQueue=null,qs.current=W1,t=n(r,i)}while(fo)}if(qs.current=Sl,e=Le!==null&&Le.next!==null,Rr=0,be=Le=Ee=null,Cl=!1,e)throw Error(R(300));return t}function pd(){var t=Oo!==0;return Oo=0,t}function Yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?Ee.memoizedState=be=t:be=be.next=t,be}function Pt(){if(Le===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var e=be===null?Ee.memoizedState:be.next;if(e!==null)be=e,Le=t;else{if(t===null)throw Error(R(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},be===null?Ee.memoizedState=be=t:be=be.next=t}return be}function Fo(t,e){return typeof e=="function"?e(t):e}function Ja(t){var e=Pt(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=Le,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var f=u.lane;if((Rr&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,s=r):a=a.next=c,Ee.lanes|=f,Nr|=f}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,$t(r,e.memoizedState)||(lt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ee.lanes|=o,Nr|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Za(t){var e=Pt(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);$t(o,e.memoizedState)||(lt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Rg(){}function Ng(t,e){var n=Ee,r=Pt(),i=e(),o=!$t(r.memoizedState,i);if(o&&(r.memoizedState=i,lt=!0),r=r.queue,md(Lg.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,bo(9,Dg.bind(null,n,r,i,e),void 0,null),je===null)throw Error(R(349));Rr&30||Pg(n,e,i)}return i}function Pg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Dg(t,e,n,r){e.value=n,e.getSnapshot=r,Ag(e)&&Mg(t)}function Lg(t,e,n){return n(function(){Ag(e)&&Mg(t)})}function Ag(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$t(t,n)}catch{return!0}}function Mg(t){var e=mn(t,1);e!==null&&Wt(e,t,1,-1)}function Ch(t){var e=Yt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fo,lastRenderedState:t},e.queue=t,t=t.dispatch=U1.bind(null,Ee,t),[e.memoizedState,t]}function bo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Og(){return Pt().memoizedState}function Xs(t,e,n,r){var i=Yt();Ee.flags|=t,i.memoizedState=bo(1|e,n,void 0,r===void 0?null:r)}function ia(t,e,n,r){var i=Pt();r=r===void 0?null:r;var o=void 0;if(Le!==null){var s=Le.memoizedState;if(o=s.destroy,r!==null&&fd(r,s.deps)){i.memoizedState=bo(e,n,o,r);return}}Ee.flags|=t,i.memoizedState=bo(1|e,n,o,r)}function Sh(t,e){return Xs(8390656,8,t,e)}function md(t,e){return ia(2048,8,t,e)}function Fg(t,e){return ia(4,2,t,e)}function bg(t,e){return ia(4,4,t,e)}function zg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ug(t,e,n){return n=n!=null?n.concat([t]):null,ia(4,4,zg.bind(null,e,t),n)}function gd(){}function jg(t,e){var n=Pt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Bg(t,e){var n=Pt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Wg(t,e,n){return Rr&21?($t(n,e)||(n=Vm(),Ee.lanes|=n,Nr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,lt=!0),t.memoizedState=n)}function b1(t,e){var n=se;se=n!==0&&4>n?n:4,t(!0);var r=Xa.transition;Xa.transition={};try{t(!1),e()}finally{se=n,Xa.transition=r}}function Hg(){return Pt().memoizedState}function z1(t,e,n){var r=$n(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$g(t))Vg(e,n);else if(n=Eg(t,e,n,r),n!==null){var i=nt();Wt(n,t,r,i),Gg(n,e,r)}}function U1(t,e,n){var r=$n(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($g(t))Vg(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,$t(l,s)){var a=e.interleaved;a===null?(i.next=i,ld(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=Eg(t,e,i,r),n!==null&&(i=nt(),Wt(n,t,r,i),Gg(n,e,r))}}function $g(t){var e=t.alternate;return t===Ee||e!==null&&e===Ee}function Vg(t,e){fo=Cl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Gg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qc(t,n)}}var Sl={readContext:Nt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},j1={readContext:Nt,useCallback:function(t,e){return Yt().memoizedState=[t,e===void 0?null:e],t},useContext:Nt,useEffect:Sh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xs(4194308,4,zg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xs(4,2,t,e)},useMemo:function(t,e){var n=Yt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Yt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=z1.bind(null,Ee,t),[r.memoizedState,t]},useRef:function(t){var e=Yt();return t={current:t},e.memoizedState=t},useState:Ch,useDebugValue:gd,useDeferredValue:function(t){return Yt().memoizedState=t},useTransition:function(){var t=Ch(!1),e=t[0];return t=b1.bind(null,t[1]),Yt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ee,i=Yt();if(ye){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),je===null)throw Error(R(349));Rr&30||Pg(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Sh(Lg.bind(null,r,o,t),[t]),r.flags|=2048,bo(9,Dg.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Yt(),e=je.identifierPrefix;if(ye){var n=un,r=an;n=(r&~(1<<32-Bt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Oo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=F1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},B1={readContext:Nt,useCallback:jg,useContext:Nt,useEffect:md,useImperativeHandle:Ug,useInsertionEffect:Fg,useLayoutEffect:bg,useMemo:Bg,useReducer:Ja,useRef:Og,useState:function(){return Ja(Fo)},useDebugValue:gd,useDeferredValue:function(t){var e=Pt();return Wg(e,Le.memoizedState,t)},useTransition:function(){var t=Ja(Fo)[0],e=Pt().memoizedState;return[t,e]},useMutableSource:Rg,useSyncExternalStore:Ng,useId:Hg,unstable_isNewReconciler:!1},W1={readContext:Nt,useCallback:jg,useContext:Nt,useEffect:md,useImperativeHandle:Ug,useInsertionEffect:Fg,useLayoutEffect:bg,useMemo:Bg,useReducer:Za,useRef:Og,useState:function(){return Za(Fo)},useDebugValue:gd,useDeferredValue:function(t){var e=Pt();return Le===null?e.memoizedState=t:Wg(e,Le.memoizedState,t)},useTransition:function(){var t=Za(Fo)[0],e=Pt().memoizedState;return[t,e]},useMutableSource:Rg,useSyncExternalStore:Ng,useId:Hg,unstable_isNewReconciler:!1};function Ci(t,e){try{var n="",r=e;do n+=g0(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function eu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var H1=typeof WeakMap=="function"?WeakMap:Map;function Qg(t,e,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Tl||(Tl=!0,dc=r),tc(t,e)},n}function Kg(t,e,n){n=dn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){tc(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){tc(t,e),typeof r!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function xh(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new H1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rw.bind(null,t,e,n),e.then(t,t))}function Th(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function kh(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dn(-1,1),e.tag=2,Wn(n,e,1))),n.lanes|=1),t)}var $1=yn.ReactCurrentOwner,lt=!1;function et(t,e,n,r){e.child=t===null?kg(e,null,n,r):wi(e,t.child,n,r)}function Ih(t,e,n,r,i){n=n.render;var o=e.ref;return di(e,i),r=hd(t,e,n,r,o,i),n=pd(),t!==null&&!lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gn(t,e,i)):(ye&&n&&td(e),e.flags|=1,et(t,e,r,i),e.child)}function Rh(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!xd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Yg(t,e,o,r,i)):(t=tl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:No,n(s,r)&&t.ref===e.ref)return gn(t,e,i)}return e.flags|=1,t=Vn(o,r),t.ref=e.ref,t.return=e,e.child=t}function Yg(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(No(o,r)&&t.ref===e.ref)if(lt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(lt=!0);else return e.lanes=t.lanes,gn(t,e,i)}return nc(t,e,n,r,i)}function qg(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(ii,vt),vt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pe(ii,vt),vt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,pe(ii,vt),vt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,pe(ii,vt),vt|=r;return et(t,e,i,n),e.child}function Xg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nc(t,e,n,r,i){var o=ct(n)?kr:qe.current;return o=_i(e,o),di(e,i),n=hd(t,e,n,r,o,i),r=pd(),t!==null&&!lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gn(t,e,i)):(ye&&r&&td(e),e.flags|=1,et(t,e,n,i),e.child)}function Nh(t,e,n,r,i){if(ct(n)){var o=!0;ml(e)}else o=!1;if(di(e,i),e.stateNode===null)Js(t,e),xg(e,n,r),ec(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Nt(u):(u=ct(n)?kr:qe.current,u=_i(e,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&wh(e,s,r,u),Ln=!1;var d=e.memoizedState;s.state=d,wl(e,r,s,i),a=e.memoizedState,l!==r||d!==a||ut.current||Ln?(typeof f=="function"&&(Zu(e,n,f,r),a=e.memoizedState),(l=Ln||yh(e,n,l,r,d,a,u))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Cg(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Mt(e.type,l),s.props=u,c=e.pendingProps,d=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=Nt(a):(a=ct(n)?kr:qe.current,a=_i(e,a));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==c||d!==a)&&wh(e,s,r,a),Ln=!1,d=e.memoizedState,s.state=d,wl(e,r,s,i);var _=e.memoizedState;l!==c||d!==_||ut.current||Ln?(typeof p=="function"&&(Zu(e,n,p,r),_=e.memoizedState),(u=Ln||yh(e,n,u,r,d,_,a)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,_,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,_,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),s.props=r,s.state=_,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return rc(t,e,n,r,o,i)}function rc(t,e,n,r,i,o){Xg(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&ph(e,n,!1),gn(t,e,o);r=e.stateNode,$1.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=wi(e,t.child,null,o),e.child=wi(e,null,l,o)):et(t,e,l,o),e.memoizedState=r.state,i&&ph(e,n,!0),e.child}function Jg(t){var e=t.stateNode;e.pendingContext?hh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hh(t,e.context,!1),ud(t,e.containerInfo)}function Ph(t,e,n,r,i){return yi(),rd(i),e.flags|=256,et(t,e,n,r),e.child}var ic={dehydrated:null,treeContext:null,retryLane:0};function oc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Zg(t,e,n){var r=e.pendingProps,i=we.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pe(we,i&1),t===null)return Xu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=la(s,r,0,null),t=xr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=oc(n),e.memoizedState=ic,t):vd(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return V1(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Vn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Vn(l,o):(o=xr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?oc(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=ic,r}return o=t.child,t=o.sibling,r=Vn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vd(t,e){return e=la({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Os(t,e,n,r){return r!==null&&rd(r),wi(e,t.child,null,n),t=vd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function V1(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=eu(Error(R(422))),Os(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=la({mode:"visible",children:r.children},i,0,null),o=xr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&wi(e,t.child,null,s),e.child.memoizedState=oc(s),e.memoizedState=ic,o);if(!(e.mode&1))return Os(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(R(419)),r=eu(o,r,void 0),Os(t,e,s,r)}if(l=(s&t.childLanes)!==0,lt||l){if(r=je,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,mn(t,i),Wt(r,t,i,-1))}return Sd(),r=eu(Error(R(421))),Os(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iw.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,yt=Bn(i.nextSibling),wt=e,ye=!0,bt=null,t!==null&&(Tt[kt++]=an,Tt[kt++]=un,Tt[kt++]=Ir,an=t.id,un=t.overflow,Ir=e),e=vd(e,r.children),e.flags|=4096,e)}function Dh(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ju(t.return,e,n)}function tu(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ev(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(et(t,e,r.children,n),r=we.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dh(t,n,e);else if(t.tag===19)Dh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pe(we,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&El(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),tu(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&El(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}tu(e,!0,n,null,o);break;case"together":tu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Js(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Nr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=Vn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function G1(t,e,n){switch(e.tag){case 3:Jg(e),yi();break;case 5:Ig(e);break;case 1:ct(e.type)&&ml(e);break;case 4:ud(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pe(_l,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pe(we,we.current&1),e.flags|=128,null):n&e.child.childLanes?Zg(t,e,n):(pe(we,we.current&1),t=gn(t,e,n),t!==null?t.sibling:null);pe(we,we.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ev(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pe(we,we.current),r)break;return null;case 22:case 23:return e.lanes=0,qg(t,e,n)}return gn(t,e,n)}var tv,sc,nv,rv;tv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sc=function(){};nv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,yr(Jt.current);var o=null;switch(n){case"input":i=Ru(t,i),r=Ru(t,r),o=[];break;case"select":i=Ce({},i,{value:void 0}),r=Ce({},r,{value:void 0}),o=[];break;case"textarea":i=Du(t,i),r=Du(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hl)}Au(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Co.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Co.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&me("scroll",t),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};rv=function(t,e,n,r){n!==r&&(e.flags|=4)};function Gi(t,e){if(!ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Q1(t,e,n){var r=e.pendingProps;switch(nd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(e),null;case 1:return ct(e.type)&&pl(),Qe(e),null;case 3:return r=e.stateNode,Ei(),_e(ut),_e(qe),dd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(As(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bt!==null&&(pc(bt),bt=null))),sc(t,e),Qe(e),null;case 5:cd(e);var i=yr(Mo.current);if(n=e.type,t!==null&&e.stateNode!=null)nv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(R(166));return Qe(e),null}if(t=yr(Jt.current),As(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[qt]=e,r[Lo]=o,t=(e.mode&1)!==0,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(i=0;i<io.length;i++)me(io[i],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":jf(r,o),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},me("invalid",r);break;case"textarea":Wf(r,o),me("invalid",r)}Au(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ls(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ls(r.textContent,l,t),i=["children",""+l]):Co.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&me("scroll",r)}switch(n){case"input":xs(r),Bf(r,o,!0);break;case"textarea":xs(r),Hf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=hl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Pm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[qt]=e,t[Lo]=r,tv(t,e,!1,!1),e.stateNode=t;e:{switch(s=Mu(n,r),n){case"dialog":me("cancel",t),me("close",t),i=r;break;case"iframe":case"object":case"embed":me("load",t),i=r;break;case"video":case"audio":for(i=0;i<io.length;i++)me(io[i],t);i=r;break;case"source":me("error",t),i=r;break;case"img":case"image":case"link":me("error",t),me("load",t),i=r;break;case"details":me("toggle",t),i=r;break;case"input":jf(t,r),i=Ru(t,r),me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ce({},r,{value:void 0}),me("invalid",t);break;case"textarea":Wf(t,r),i=Du(t,r),me("invalid",t);break;default:i=r}Au(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?Am(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Dm(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&So(t,a):typeof a=="number"&&So(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Co.hasOwnProperty(o)?a!=null&&o==="onScroll"&&me("scroll",t):a!=null&&Bc(t,o,a,s))}switch(n){case"input":xs(t),Bf(t,r,!1);break;case"textarea":xs(t),Hf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qn(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?li(t,!!r.multiple,o,!1):r.defaultValue!=null&&li(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qe(e),null;case 6:if(t&&e.stateNode!=null)rv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(R(166));if(n=yr(Mo.current),yr(Jt.current),As(e)){if(r=e.stateNode,n=e.memoizedProps,r[qt]=e,(o=r.nodeValue!==n)&&(t=wt,t!==null))switch(t.tag){case 3:Ls(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ls(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qt]=e,e.stateNode=r}return Qe(e),null;case 13:if(_e(we),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ye&&yt!==null&&e.mode&1&&!(e.flags&128))wg(),yi(),e.flags|=98560,o=!1;else if(o=As(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(R(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(R(317));o[qt]=e}else yi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qe(e),o=!1}else bt!==null&&(pc(bt),bt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||we.current&1?Oe===0&&(Oe=3):Sd())),e.updateQueue!==null&&(e.flags|=4),Qe(e),null);case 4:return Ei(),sc(t,e),t===null&&Po(e.stateNode.containerInfo),Qe(e),null;case 10:return sd(e.type._context),Qe(e),null;case 17:return ct(e.type)&&pl(),Qe(e),null;case 19:if(_e(we),o=e.memoizedState,o===null)return Qe(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Gi(o,!1);else{if(Oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=El(t),s!==null){for(e.flags|=128,Gi(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pe(we,we.current&1|2),e.child}t=t.sibling}o.tail!==null&&Re()>Si&&(e.flags|=128,r=!0,Gi(o,!1),e.lanes=4194304)}else{if(!r)if(t=El(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ye)return Qe(e),null}else 2*Re()-o.renderingStartTime>Si&&n!==1073741824&&(e.flags|=128,r=!0,Gi(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Re(),e.sibling=null,n=we.current,pe(we,r?n&1|2:n&1),e):(Qe(e),null);case 22:case 23:return Cd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vt&1073741824&&(Qe(e),e.subtreeFlags&6&&(e.flags|=8192)):Qe(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function K1(t,e){switch(nd(e),e.tag){case 1:return ct(e.type)&&pl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ei(),_e(ut),_e(qe),dd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cd(e),null;case 13:if(_e(we),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));yi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _e(we),null;case 4:return Ei(),null;case 10:return sd(e.type._context),null;case 22:case 23:return Cd(),null;case 24:return null;default:return null}}var Fs=!1,Ke=!1,Y1=typeof WeakSet=="function"?WeakSet:Set,F=null;function ri(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(t,e,r)}else n.current=null}function lc(t,e,n){try{n()}catch(r){Te(t,e,r)}}var Lh=!1;function q1(t,e){if($u=cl,t=lg(),ed(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,f=0,c=t,d=null;t:for(;;){for(var p;c!==n||i!==0&&c.nodeType!==3||(l=s+i),c!==o||r!==0&&c.nodeType!==3||(a=s+r),c.nodeType===3&&(s+=c.nodeValue.length),(p=c.firstChild)!==null;)d=c,c=p;for(;;){if(c===t)break t;if(d===n&&++u===i&&(l=s),d===o&&++f===r&&(a=s),(p=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vu={focusedElem:t,selectionRange:n},cl=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,x=_.memoizedState,m=e.stateNode,h=m.getSnapshotBeforeUpdate(e.elementType===e.type?E:Mt(e.type,E),x);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(S){Te(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return _=Lh,Lh=!1,_}function ho(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&lc(e,n,o)}i=i.next}while(i!==r)}}function oa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ac(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function iv(t){var e=t.alternate;e!==null&&(t.alternate=null,iv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qt],delete e[Lo],delete e[Ku],delete e[L1],delete e[A1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ov(t){return t.tag===5||t.tag===3||t.tag===4}function Ah(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ov(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hl));else if(r!==4&&(t=t.child,t!==null))for(uc(t,e,n),t=t.sibling;t!==null;)uc(t,e,n),t=t.sibling}function cc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cc(t,e,n),t=t.sibling;t!==null;)cc(t,e,n),t=t.sibling}var He=null,Ot=!1;function Rn(t,e,n){for(n=n.child;n!==null;)sv(t,e,n),n=n.sibling}function sv(t,e,n){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Xl,n)}catch{}switch(n.tag){case 5:Ke||ri(n,e);case 6:var r=He,i=Ot;He=null,Rn(t,e,n),He=r,Ot=i,He!==null&&(Ot?(t=He,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Ot?(t=He,n=n.stateNode,t.nodeType===8?Ka(t.parentNode,n):t.nodeType===1&&Ka(t,n),Io(t)):Ka(He,n.stateNode));break;case 4:r=He,i=Ot,He=n.stateNode.containerInfo,Ot=!0,Rn(t,e,n),He=r,Ot=i;break;case 0:case 11:case 14:case 15:if(!Ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&lc(n,e,s),i=i.next}while(i!==r)}Rn(t,e,n);break;case 1:if(!Ke&&(ri(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Te(n,e,l)}Rn(t,e,n);break;case 21:Rn(t,e,n);break;case 22:n.mode&1?(Ke=(r=Ke)||n.memoizedState!==null,Rn(t,e,n),Ke=r):Rn(t,e,n);break;default:Rn(t,e,n)}}function Mh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Y1),e.forEach(function(r){var i=ow.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function At(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:He=l.stateNode,Ot=!1;break e;case 3:He=l.stateNode.containerInfo,Ot=!0;break e;case 4:He=l.stateNode.containerInfo,Ot=!0;break e}l=l.return}if(He===null)throw Error(R(160));sv(o,s,i),He=null,Ot=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Te(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lv(e,t),e=e.sibling}function lv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(At(e,t),Kt(t),r&4){try{ho(3,t,t.return),oa(3,t)}catch(E){Te(t,t.return,E)}try{ho(5,t,t.return)}catch(E){Te(t,t.return,E)}}break;case 1:At(e,t),Kt(t),r&512&&n!==null&&ri(n,n.return);break;case 5:if(At(e,t),Kt(t),r&512&&n!==null&&ri(n,n.return),t.flags&32){var i=t.stateNode;try{So(i,"")}catch(E){Te(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Rm(i,o),Mu(l,s);var u=Mu(l,o);for(s=0;s<a.length;s+=2){var f=a[s],c=a[s+1];f==="style"?Am(i,c):f==="dangerouslySetInnerHTML"?Dm(i,c):f==="children"?So(i,c):Bc(i,f,c,u)}switch(l){case"input":Nu(i,o);break;case"textarea":Nm(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?li(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?li(i,!!o.multiple,o.defaultValue,!0):li(i,!!o.multiple,o.multiple?[]:"",!1))}i[Lo]=o}catch(E){Te(t,t.return,E)}}break;case 6:if(At(e,t),Kt(t),r&4){if(t.stateNode===null)throw Error(R(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(E){Te(t,t.return,E)}}break;case 3:if(At(e,t),Kt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Io(e.containerInfo)}catch(E){Te(t,t.return,E)}break;case 4:At(e,t),Kt(t);break;case 13:At(e,t),Kt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(wd=Re())),r&4&&Mh(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ke=(u=Ke)||f,At(e,t),Ke=u):At(e,t),Kt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(F=t,f=t.child;f!==null;){for(c=F=f;F!==null;){switch(d=F,p=d.child,d.tag){case 0:case 11:case 14:case 15:ho(4,d,d.return);break;case 1:ri(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(E){Te(r,n,E)}}break;case 5:ri(d,d.return);break;case 22:if(d.memoizedState!==null){Fh(c);continue}}p!==null?(p.return=d,F=p):Fh(c)}f=f.sibling}e:for(f=null,c=t;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=c.stateNode,a=c.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Lm("display",s))}catch(E){Te(t,t.return,E)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(E){Te(t,t.return,E)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:At(e,t),Kt(t),r&4&&Mh(t);break;case 21:break;default:At(e,t),Kt(t)}}function Kt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ov(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(So(i,""),r.flags&=-33);var o=Ah(t);cc(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Ah(t);uc(t,l,s);break;default:throw Error(R(161))}}catch(a){Te(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function X1(t,e,n){F=t,av(t)}function av(t,e,n){for(var r=(t.mode&1)!==0;F!==null;){var i=F,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Fs;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ke;l=Fs;var u=Ke;if(Fs=s,(Ke=a)&&!u)for(F=i;F!==null;)s=F,a=s.child,s.tag===22&&s.memoizedState!==null?bh(i):a!==null?(a.return=s,F=a):bh(i);for(;o!==null;)F=o,av(o),o=o.sibling;F=i,Fs=l,Ke=u}Oh(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,F=o):Oh(t)}}function Oh(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ke||oa(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ke)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&_h(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_h(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&Io(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ke||e.flags&512&&ac(e)}catch(d){Te(e,e.return,d)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function Fh(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function bh(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{oa(4,e)}catch(a){Te(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Te(e,i,a)}}var o=e.return;try{ac(e)}catch(a){Te(e,o,a)}break;case 5:var s=e.return;try{ac(e)}catch(a){Te(e,s,a)}}}catch(a){Te(e,e.return,a)}if(e===t){F=null;break}var l=e.sibling;if(l!==null){l.return=e.return,F=l;break}F=e.return}}var J1=Math.ceil,xl=yn.ReactCurrentDispatcher,_d=yn.ReactCurrentOwner,Rt=yn.ReactCurrentBatchConfig,ee=0,je=null,Pe=null,$e=0,vt=0,ii=or(0),Oe=0,zo=null,Nr=0,sa=0,yd=0,po=null,st=null,wd=0,Si=1/0,sn=null,Tl=!1,dc=null,Hn=null,bs=!1,Fn=null,kl=0,mo=0,fc=null,Zs=-1,el=0;function nt(){return ee&6?Re():Zs!==-1?Zs:Zs=Re()}function $n(t){return t.mode&1?ee&2&&$e!==0?$e&-$e:O1.transition!==null?(el===0&&(el=Vm()),el):(t=se,t!==0||(t=window.event,t=t===void 0?16:Jm(t.type)),t):1}function Wt(t,e,n,r){if(50<mo)throw mo=0,fc=null,Error(R(185));ts(t,n,r),(!(ee&2)||t!==je)&&(t===je&&(!(ee&2)&&(sa|=n),Oe===4&&Mn(t,$e)),dt(t,r),n===1&&ee===0&&!(e.mode&1)&&(Si=Re()+500,na&&sr()))}function dt(t,e){var n=t.callbackNode;O0(t,e);var r=ul(t,t===je?$e:0);if(r===0)n!==null&&Gf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gf(n),e===1)t.tag===0?M1(zh.bind(null,t)):vg(zh.bind(null,t)),P1(function(){!(ee&6)&&sr()}),n=null;else{switch(Gm(r)){case 1:n=Gc;break;case 4:n=Hm;break;case 16:n=al;break;case 536870912:n=$m;break;default:n=al}n=gv(n,uv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uv(t,e){if(Zs=-1,el=0,ee&6)throw Error(R(327));var n=t.callbackNode;if(fi()&&t.callbackNode!==n)return null;var r=ul(t,t===je?$e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Il(t,r);else{e=r;var i=ee;ee|=2;var o=dv();(je!==t||$e!==e)&&(sn=null,Si=Re()+500,Sr(t,e));do try{tw();break}catch(l){cv(t,l)}while(1);od(),xl.current=o,ee=i,Pe!==null?e=0:(je=null,$e=0,e=Oe)}if(e!==0){if(e===2&&(i=Uu(t),i!==0&&(r=i,e=hc(t,i))),e===1)throw n=zo,Sr(t,0),Mn(t,r),dt(t,Re()),n;if(e===6)Mn(t,r);else{if(i=t.current.alternate,!(r&30)&&!Z1(i)&&(e=Il(t,r),e===2&&(o=Uu(t),o!==0&&(r=o,e=hc(t,o))),e===1))throw n=zo,Sr(t,0),Mn(t,r),dt(t,Re()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(R(345));case 2:fr(t,st,sn);break;case 3:if(Mn(t,r),(r&130023424)===r&&(e=wd+500-Re(),10<e)){if(ul(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){nt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Qu(fr.bind(null,t,st,sn),e);break}fr(t,st,sn);break;case 4:if(Mn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Bt(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*J1(r/1960))-r,10<r){t.timeoutHandle=Qu(fr.bind(null,t,st,sn),r);break}fr(t,st,sn);break;case 5:fr(t,st,sn);break;default:throw Error(R(329))}}}return dt(t,Re()),t.callbackNode===n?uv.bind(null,t):null}function hc(t,e){var n=po;return t.current.memoizedState.isDehydrated&&(Sr(t,e).flags|=256),t=Il(t,e),t!==2&&(e=st,st=n,e!==null&&pc(e)),t}function pc(t){st===null?st=t:st.push.apply(st,t)}function Z1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!$t(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mn(t,e){for(e&=~yd,e&=~sa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bt(e),r=1<<n;t[n]=-1,e&=~r}}function zh(t){if(ee&6)throw Error(R(327));fi();var e=ul(t,0);if(!(e&1))return dt(t,Re()),null;var n=Il(t,e);if(t.tag!==0&&n===2){var r=Uu(t);r!==0&&(e=r,n=hc(t,r))}if(n===1)throw n=zo,Sr(t,0),Mn(t,e),dt(t,Re()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fr(t,st,sn),dt(t,Re()),null}function Ed(t,e){var n=ee;ee|=1;try{return t(e)}finally{ee=n,ee===0&&(Si=Re()+500,na&&sr())}}function Pr(t){Fn!==null&&Fn.tag===0&&!(ee&6)&&fi();var e=ee;ee|=1;var n=Rt.transition,r=se;try{if(Rt.transition=null,se=1,t)return t()}finally{se=r,Rt.transition=n,ee=e,!(ee&6)&&sr()}}function Cd(){vt=ii.current,_e(ii)}function Sr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,N1(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(nd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pl();break;case 3:Ei(),_e(ut),_e(qe),dd();break;case 5:cd(r);break;case 4:Ei();break;case 13:_e(we);break;case 19:_e(we);break;case 10:sd(r.type._context);break;case 22:case 23:Cd()}n=n.return}if(je=t,Pe=t=Vn(t.current,null),$e=vt=e,Oe=0,zo=null,yd=sa=Nr=0,st=po=null,_r!==null){for(e=0;e<_r.length;e++)if(n=_r[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}_r=null}return t}function cv(t,e){do{var n=Pe;try{if(od(),qs.current=Sl,Cl){for(var r=Ee.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cl=!1}if(Rr=0,be=Le=Ee=null,fo=!1,Oo=0,_d.current=null,n===null||n.return===null){Oe=1,zo=e,Pe=null;break}e:{var o=t,s=n.return,l=n,a=e;if(e=$e,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=l,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Th(s);if(p!==null){p.flags&=-257,kh(p,s,l,o,e),p.mode&1&&xh(o,u,e),e=p,a=u;var _=e.updateQueue;if(_===null){var E=new Set;E.add(a),e.updateQueue=E}else _.add(a);break e}else{if(!(e&1)){xh(o,u,e),Sd();break e}a=Error(R(426))}}else if(ye&&l.mode&1){var x=Th(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),kh(x,s,l,o,e),rd(Ci(a,l));break e}}o=a=Ci(a,l),Oe!==4&&(Oe=2),po===null?po=[o]:po.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=Qg(o,a,e);vh(o,m);break e;case 1:l=a;var h=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Hn===null||!Hn.has(g)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=Kg(o,l,e);vh(o,S);break e}}o=o.return}while(o!==null)}hv(n)}catch(N){e=N,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(1)}function dv(){var t=xl.current;return xl.current=Sl,t===null?Sl:t}function Sd(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),je===null||!(Nr&268435455)&&!(sa&268435455)||Mn(je,$e)}function Il(t,e){var n=ee;ee|=2;var r=dv();(je!==t||$e!==e)&&(sn=null,Sr(t,e));do try{ew();break}catch(i){cv(t,i)}while(1);if(od(),ee=n,xl.current=r,Pe!==null)throw Error(R(261));return je=null,$e=0,Oe}function ew(){for(;Pe!==null;)fv(Pe)}function tw(){for(;Pe!==null&&!k0();)fv(Pe)}function fv(t){var e=mv(t.alternate,t,vt);t.memoizedProps=t.pendingProps,e===null?hv(t):Pe=e,_d.current=null}function hv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=K1(n,e),n!==null){n.flags&=32767,Pe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Oe=6,Pe=null;return}}else if(n=Q1(n,e,vt),n!==null){Pe=n;return}if(e=e.sibling,e!==null){Pe=e;return}Pe=e=t}while(e!==null);Oe===0&&(Oe=5)}function fr(t,e,n){var r=se,i=Rt.transition;try{Rt.transition=null,se=1,nw(t,e,n,r)}finally{Rt.transition=i,se=r}return null}function nw(t,e,n,r){do fi();while(Fn!==null);if(ee&6)throw Error(R(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(F0(t,o),t===je&&(Pe=je=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bs||(bs=!0,gv(al,function(){return fi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Rt.transition,Rt.transition=null;var s=se;se=1;var l=ee;ee|=4,_d.current=null,q1(t,n),lv(n,t),C1(Vu),cl=!!$u,Vu=$u=null,t.current=n,X1(n),I0(),ee=l,se=s,Rt.transition=o}else t.current=n;if(bs&&(bs=!1,Fn=t,kl=i),o=t.pendingLanes,o===0&&(Hn=null),P0(n.stateNode),dt(t,Re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tl)throw Tl=!1,t=dc,dc=null,t;return kl&1&&t.tag!==0&&fi(),o=t.pendingLanes,o&1?t===fc?mo++:(mo=0,fc=t):mo=0,sr(),null}function fi(){if(Fn!==null){var t=Gm(kl),e=Rt.transition,n=se;try{if(Rt.transition=null,se=16>t?16:t,Fn===null)var r=!1;else{if(t=Fn,Fn=null,kl=0,ee&6)throw Error(R(331));var i=ee;for(ee|=4,F=t.current;F!==null;){var o=F,s=o.child;if(F.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(F=u;F!==null;){var f=F;switch(f.tag){case 0:case 11:case 15:ho(8,f,o)}var c=f.child;if(c!==null)c.return=f,F=c;else for(;F!==null;){f=F;var d=f.sibling,p=f.return;if(iv(f),f===u){F=null;break}if(d!==null){d.return=p,F=d;break}F=p}}}var _=o.alternate;if(_!==null){var E=_.child;if(E!==null){_.child=null;do{var x=E.sibling;E.sibling=null,E=x}while(E!==null)}}F=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,F=s;else e:for(;F!==null;){if(o=F,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ho(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,F=m;break e}F=o.return}}var h=t.current;for(F=h;F!==null;){s=F;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,F=g;else e:for(s=h;F!==null;){if(l=F,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:oa(9,l)}}catch(N){Te(l,l.return,N)}if(l===s){F=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,F=S;break e}F=l.return}}if(ee=i,sr(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Xl,t)}catch{}r=!0}return r}finally{se=n,Rt.transition=e}}return!1}function Uh(t,e,n){e=Ci(n,e),e=Qg(t,e,1),t=Wn(t,e,1),e=nt(),t!==null&&(ts(t,1,e),dt(t,e))}function Te(t,e,n){if(t.tag===3)Uh(t,t,n);else for(;e!==null;){if(e.tag===3){Uh(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hn===null||!Hn.has(r))){t=Ci(n,t),t=Kg(e,t,1),e=Wn(e,t,1),t=nt(),e!==null&&(ts(e,1,t),dt(e,t));break}}e=e.return}}function rw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nt(),t.pingedLanes|=t.suspendedLanes&n,je===t&&($e&n)===n&&(Oe===4||Oe===3&&($e&130023424)===$e&&500>Re()-wd?Sr(t,0):yd|=n),dt(t,e)}function pv(t,e){e===0&&(t.mode&1?(e=Is,Is<<=1,!(Is&130023424)&&(Is=4194304)):e=1);var n=nt();t=mn(t,e),t!==null&&(ts(t,e,n),dt(t,n))}function iw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pv(t,n)}function ow(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(e),pv(t,n)}var mv;mv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ut.current)lt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return lt=!1,G1(t,e,n);lt=!!(t.flags&131072)}else lt=!1,ye&&e.flags&1048576&&_g(e,vl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Js(t,e),t=e.pendingProps;var i=_i(e,qe.current);di(e,n),i=hd(null,e,r,t,i,n);var o=pd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ct(r)?(o=!0,ml(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ad(e),i.updater=ra,e.stateNode=i,i._reactInternals=e,ec(e,r,t,n),e=rc(null,e,r,!0,o,n)):(e.tag=0,ye&&o&&td(e),et(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Js(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=lw(r),t=Mt(r,t),i){case 0:e=nc(null,e,r,t,n);break e;case 1:e=Nh(null,e,r,t,n);break e;case 11:e=Ih(null,e,r,t,n);break e;case 14:e=Rh(null,e,r,Mt(r.type,t),n);break e}throw Error(R(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),nc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),Nh(t,e,r,i,n);case 3:e:{if(Jg(e),t===null)throw Error(R(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Cg(t,e),wl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ci(Error(R(423)),e),e=Ph(t,e,r,n,i);break e}else if(r!==i){i=Ci(Error(R(424)),e),e=Ph(t,e,r,n,i);break e}else for(yt=Bn(e.stateNode.containerInfo.firstChild),wt=e,ye=!0,bt=null,n=kg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yi(),r===i){e=gn(t,e,n);break e}et(t,e,r,n)}e=e.child}return e;case 5:return Ig(e),t===null&&Xu(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Gu(r,i)?s=null:o!==null&&Gu(r,o)&&(e.flags|=32),Xg(t,e),et(t,e,s,n),e.child;case 6:return t===null&&Xu(e),null;case 13:return Zg(t,e,n);case 4:return ud(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wi(e,null,r,n):et(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),Ih(t,e,r,i,n);case 7:return et(t,e,e.pendingProps,n),e.child;case 8:return et(t,e,e.pendingProps.children,n),e.child;case 12:return et(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,pe(_l,r._currentValue),r._currentValue=s,o!==null)if($t(o.value,s)){if(o.children===i.children&&!ut.current){e=gn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=dn(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ju(o.return,n,e),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(R(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ju(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}et(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,di(e,n),i=Nt(i),r=r(i),e.flags|=1,et(t,e,r,n),e.child;case 14:return r=e.type,i=Mt(r,e.pendingProps),i=Mt(r.type,i),Rh(t,e,r,i,n);case 15:return Yg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),Js(t,e),e.tag=1,ct(r)?(t=!0,ml(e)):t=!1,di(e,n),xg(e,r,i),ec(e,r,i,n),rc(null,e,r,!0,t,n);case 19:return ev(t,e,n);case 22:return qg(t,e,n)}throw Error(R(156,e.tag))};function gv(t,e){return Wm(t,e)}function sw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(t,e,n,r){return new sw(t,e,n,r)}function xd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lw(t){if(typeof t=="function")return xd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hc)return 11;if(t===$c)return 14}return 2}function Vn(t,e){var n=t.alternate;return n===null?(n=It(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")xd(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Kr:return xr(n.children,i,o,e);case Wc:s=8,i|=8;break;case xu:return t=It(12,n,e,i|2),t.elementType=xu,t.lanes=o,t;case Tu:return t=It(13,n,e,i),t.elementType=Tu,t.lanes=o,t;case ku:return t=It(19,n,e,i),t.elementType=ku,t.lanes=o,t;case Tm:return la(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Sm:s=10;break e;case xm:s=9;break e;case Hc:s=11;break e;case $c:s=14;break e;case Dn:s=16,r=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=It(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function xr(t,e,n,r){return t=It(7,t,r,e),t.lanes=n,t}function la(t,e,n,r){return t=It(22,t,r,e),t.elementType=Tm,t.lanes=n,t.stateNode={isHidden:!1},t}function nu(t,e,n){return t=It(6,t,null,e),t.lanes=n,t}function ru(t,e,n){return e=It(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aw(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ba(0),this.expirationTimes=ba(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Td(t,e,n,r,i,o,s,l,a){return t=new aw(t,e,n,l,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=It(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ad(o),t}function uw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function vv(t){if(!t)return Xn;t=t._reactInternals;e:{if(Fr(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(ct(n))return gg(t,n,e)}return e}function _v(t,e,n,r,i,o,s,l,a){return t=Td(n,r,!0,t,i,o,s,l,a),t.context=vv(null),n=t.current,r=nt(),i=$n(n),o=dn(r,i),o.callback=e??null,Wn(n,o,i),t.current.lanes=i,ts(t,i,r),dt(t,r),t}function aa(t,e,n,r){var i=e.current,o=nt(),s=$n(i);return n=vv(n),e.context===null?e.context=n:e.pendingContext=n,e=dn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wn(i,e,s),t!==null&&(Wt(t,i,s,o),Ys(t,i,s)),s}function Rl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kd(t,e){jh(t,e),(t=t.alternate)&&jh(t,e)}function cw(){return null}var yv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Id(t){this._internalRoot=t}ua.prototype.render=Id.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));aa(t,e,null,null)};ua.prototype.unmount=Id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pr(function(){aa(null,t,null,null)}),e[pn]=null}};function ua(t){this._internalRoot=t}ua.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ym();t={blockedOn:null,target:t,priority:e};for(var n=0;n<An.length&&e!==0&&e<An[n].priority;n++);An.splice(n,0,t),n===0&&Xm(t)}};function Rd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ca(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bh(){}function dw(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Rl(s);o.call(u)}}var s=_v(e,r,t,0,null,!1,!1,"",Bh);return t._reactRootContainer=s,t[pn]=s.current,Po(t.nodeType===8?t.parentNode:t),Pr(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Rl(a);l.call(u)}}var a=Td(t,0,!1,null,null,!1,!1,"",Bh);return t._reactRootContainer=a,t[pn]=a.current,Po(t.nodeType===8?t.parentNode:t),Pr(function(){aa(e,a,n,r)}),a}function da(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=Rl(s);l.call(a)}}aa(e,s,t,i)}else s=dw(n,e,t,i,r);return Rl(s)}Qm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ro(e.pendingLanes);n!==0&&(Qc(e,n|1),dt(e,Re()),!(ee&6)&&(Si=Re()+500,sr()))}break;case 13:Pr(function(){var r=mn(t,1);if(r!==null){var i=nt();Wt(r,t,1,i)}}),kd(t,1)}};Kc=function(t){if(t.tag===13){var e=mn(t,134217728);if(e!==null){var n=nt();Wt(e,t,134217728,n)}kd(t,134217728)}};Km=function(t){if(t.tag===13){var e=$n(t),n=mn(t,e);if(n!==null){var r=nt();Wt(n,t,e,r)}kd(t,e)}};Ym=function(){return se};qm=function(t,e){var n=se;try{return se=t,e()}finally{se=n}};Fu=function(t,e,n){switch(e){case"input":if(Nu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ta(r);if(!i)throw Error(R(90));Im(r),Nu(r,i)}}}break;case"textarea":Nm(t,n);break;case"select":e=n.value,e!=null&&li(t,!!n.multiple,e,!1)}};Fm=Ed;bm=Pr;var fw={usingClientEntryPoint:!1,Events:[rs,Jr,ta,Mm,Om,Ed]},Qi={findFiberByHostInstance:vr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},hw={bundleType:Qi.bundleType,version:Qi.version,rendererPackageName:Qi.rendererPackageName,rendererConfig:Qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jm(t),t===null?null:t.stateNode},findFiberByHostInstance:Qi.findFiberByHostInstance||cw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zs.isDisabled&&zs.supportsFiber)try{Xl=zs.inject(hw),Xt=zs}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fw;Ct.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rd(e))throw Error(R(200));return uw(t,e,null,n)};Ct.createRoot=function(t,e){if(!Rd(t))throw Error(R(299));var n=!1,r="",i=yv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Td(t,1,!1,null,null,n,!1,r,i),t[pn]=e.current,Po(t.nodeType===8?t.parentNode:t),new Id(e)};Ct.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=jm(e),t=t===null?null:t.stateNode,t};Ct.flushSync=function(t){return Pr(t)};Ct.hydrate=function(t,e,n){if(!ca(e))throw Error(R(200));return da(null,t,e,!0,n)};Ct.hydrateRoot=function(t,e,n){if(!Rd(t))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=yv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=_v(e,null,t,1,n??null,i,!1,o,s),t[pn]=e.current,Po(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ua(e)};Ct.render=function(t,e,n){if(!ca(e))throw Error(R(200));return da(null,t,e,!1,n)};Ct.unmountComponentAtNode=function(t){if(!ca(t))throw Error(R(40));return t._reactRootContainer?(Pr(function(){da(null,null,t,!1,function(){t._reactRootContainer=null,t[pn]=null})}),!0):!1};Ct.unstable_batchedUpdates=Ed;Ct.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ca(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return da(t,e,n,!1,r)};Ct.version="18.2.0-next-9e3b772b8-20220608";function wv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wv)}catch(t){console.error(t)}}wv(),_m.exports=Ct;var Nd=_m.exports;const pw=sm(Nd),mw=om({__proto__:null,default:pw},[Nd]);var Wh=Nd;Cu.createRoot=Wh.createRoot,Cu.hydrateRoot=Wh.hydrateRoot;const oi={"folders-list":"_folders-list_1vm81_1","new-folder-input":"_new-folder-input_1vm81_6","folders-column":"_folders-column_1vm81_19","archive-link":"_archive-link_1vm81_29","archive-link-mobile":"_archive-link-mobile_1vm81_35","folders-title":"_folders-title_1vm81_39"},gw="_folder_1j9ao_1",vw="_active_1j9ao_2",_w="_archive_1j9ao_43",iu={folder:gw,active:vw,archive:_w},yw="/notes/assets/folder-d54eaf28.svg",Ev="/notes/assets/remove-c70a69c1.svg";function Cv(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Cv(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function fa(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Cv(t))&&(r&&(r+=" "),r+=e);return r}function ou({children:t,active:e,icon:n}){return M.jsxs("div",{className:fa(iu.folder,e&&iu.active,n==="archive"&&iu.archive),role:"listitem",children:[M.jsx("img",{src:n==="archive"?Ev:yw,alt:n==="archive"?"Ikona archiwum":"Ikona folderu"}),t]})}const ww="_title_1e1wm_1",Ew={title:ww};function Sv({children:t,className:e}){return M.jsx("p",{className:fa(Ew.title,e),children:t})}const Cw={"top-bar":"_top-bar_1vl9z_1"};function Pd({children:t}){return M.jsx("div",{className:Cw["top-bar"],children:t})}const Sw={"add-new-button":"_add-new-button_129ot_1"};function xv({children:t,...e}){return M.jsx("button",{className:Sw["add-new-button"],...e,children:t})}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ve(){return ve=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ve.apply(this,arguments)}var Ie;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ie||(Ie={}));const Hh="popstate";function xw(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return Uo("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Jn(i)}return kw(e,n,null,t)}function K(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tw(){return Math.random().toString(36).substr(2,8)}function $h(t,e){return{usr:t.state,key:t.key,idx:e}}function Uo(t,e,n,r){return n===void 0&&(n=null),ve({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?wn(e):e,{state:n,key:e&&e.key||r||Tw()})}function Jn(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function wn(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function kw(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=Ie.Pop,a=null,u=f();u==null&&(u=0,s.replaceState(ve({},s.state,{idx:u}),""));function f(){return(s.state||{idx:null}).idx}function c(){l=Ie.Pop;let x=f(),m=x==null?null:x-u;u=x,a&&a({action:l,location:E.location,delta:m})}function d(x,m){l=Ie.Push;let h=Uo(E.location,x,m);n&&n(h,x),u=f()+1;let g=$h(h,u),S=E.createHref(h);try{s.pushState(g,"",S)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(S)}o&&a&&a({action:l,location:E.location,delta:1})}function p(x,m){l=Ie.Replace;let h=Uo(E.location,x,m);n&&n(h,x),u=f();let g=$h(h,u),S=E.createHref(h);s.replaceState(g,"",S),o&&a&&a({action:l,location:E.location,delta:0})}function _(x){let m=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof x=="string"?x:Jn(x);return h=h.replace(/ $/,"%20"),K(m,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,m)}let E={get action(){return l},get location(){return t(i,s)},listen(x){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(Hh,c),a=x,()=>{i.removeEventListener(Hh,c),a=null}},createHref(x){return e(i,x)},createURL:_,encodeLocation(x){let m=_(x);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:p,go(x){return s.go(x)}};return E}var oe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(oe||(oe={}));const Iw=new Set(["lazy","caseSensitive","path","id","index","children"]);function Rw(t){return t.index===!0}function Nl(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,String(o)],l=typeof i.id=="string"?i.id:s.join("-");if(K(i.index!==!0||!i.children,"Cannot specify children on an index route"),K(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),Rw(i)){let a=ve({},i,e(i),{id:l});return r[l]=a,a}else{let a=ve({},i,e(i),{id:l,children:void 0});return r[l]=a,i.children&&(a.children=Nl(i.children,e,s,r)),a}})}function mr(t,e,n){return n===void 0&&(n="/"),nl(t,e,n,!1)}function nl(t,e,n,r){let i=typeof e=="string"?wn(e):e,o=Vt(i.pathname||"/",n);if(o==null)return null;let s=Tv(t);Pw(s);let l=null;for(let a=0;l==null&&a<s.length;++a){let u=Bw(o);l=Uw(s[a],u,r)}return l}function Nw(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Tv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let a={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(K(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=Zt([r,a.relativePath]),f=n.concat(a);o.children&&o.children.length>0&&(K(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Tv(o.children,e,f,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:bw(u,o.index),routesMeta:f})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let a of kv(o.path))i(o,s,a)}),e}function kv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=kv(r.join("/")),l=[];return l.push(...s.map(a=>a===""?o:[o,a].join("/"))),i&&l.push(...s),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function Pw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Dw=/^:[\w-]+$/,Lw=3,Aw=2,Mw=1,Ow=10,Fw=-2,Vh=t=>t==="*";function bw(t,e){let n=t.split("/"),r=n.length;return n.some(Vh)&&(r+=Fw),e&&(r+=Aw),n.filter(i=>!Vh(i)).reduce((i,o)=>i+(Dw.test(o)?Lw:o===""?Mw:Ow),r)}function zw(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Uw(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",c=Pl({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},f),d=a.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=Pl({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},f)),!c)return null;Object.assign(i,c.params),s.push({params:i,pathname:Zt([o,c.pathname]),pathnameBase:Vw(Zt([o,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(o=Zt([o,c.pathnameBase]))}return s}function Pl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=jw(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,f,c)=>{let{paramName:d,isOptional:p}=f;if(d==="*"){let E=l[c]||"";s=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const _=l[c];return p&&!_?u[d]=void 0:u[d]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function jw(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Dr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Bw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dr(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Vt(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Ww=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hw=t=>Ww.test(t);function $w(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?wn(t):t,o;if(n)if(Hw(n))o=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Dr(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?o=Gh(n.substring(1),"/"):o=Gh(n,e)}else o=e;return{pathname:o,search:Gw(r),hash:Qw(i)}}function Gh(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function su(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Iv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dd(t,e){let n=Iv(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ld(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=wn(t):(i=ve({},t),K(!i.pathname||!i.pathname.includes("?"),su("?","pathname","search",i)),K(!i.pathname||!i.pathname.includes("#"),su("#","pathname","hash",i)),K(!i.search||!i.search.includes("#"),su("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let c=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),c-=1;i.pathname=d.join("/")}l=c>=0?e[c]:"/"}let a=$w(i,l),u=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||f)&&(a.pathname+="/"),a}const Zt=t=>t.join("/").replace(/\/\/+/g,"/"),Vw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Gw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Qw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,os=function(e,n){n===void 0&&(n=302);let r=n;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let i=new Headers(r.headers);return i.set("Location",e),new Response(null,ve({},r,{headers:i}))};class Dl{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function jo(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Rv=["post","put","patch","delete"],Kw=new Set(Rv),Yw=["get",...Rv],qw=new Set(Yw),Xw=new Set([301,302,303,307,308]),Jw=new Set([307,308]),lu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Zw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ki={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ad=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eE=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Nv="remix-router-transitions";function tE(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;K(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let v=t.detectErrorBoundary;i=w=>({hasErrorBoundary:v(w)})}else i=eE;let o={},s=Nl(t.routes,i,void 0,o),l,a=t.basename||"/",u=t.dataStrategy||oE,f=t.patchRoutesOnNavigation,c=ve({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),d=null,p=new Set,_=null,E=null,x=null,m=t.hydrationData!=null,h=mr(s,t.history.location,a),g=!1,S=null;if(h==null&&!f){let v=ot(404,{pathname:t.history.location.pathname}),{matches:w,route:C}=rp(s);h=w,S={[C.id]:v}}h&&!t.hydrationData&&_s(h,s,t.history.location.pathname).active&&(h=null);let N;if(h)if(h.some(v=>v.route.lazy))N=!1;else if(!h.some(v=>v.route.loader))N=!0;else if(c.v7_partialHydration){let v=t.hydrationData?t.hydrationData.loaderData:null,w=t.hydrationData?t.hydrationData.errors:null;if(w){let C=h.findIndex(I=>w[I.route.id]!==void 0);N=h.slice(0,C+1).every(I=>!gc(I.route,v,w))}else N=h.every(C=>!gc(C.route,v,w))}else N=t.hydrationData!=null;else if(N=!1,h=[],c.v7_partialHydration){let v=_s(null,s,t.history.location.pathname);v.active&&v.matches&&(g=!0,h=v.matches)}let O,y={historyAction:t.history.action,location:t.history.location,matches:h,initialized:N,navigation:lu,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||S,fetchers:new Map,blockers:new Map},k=Ie.Pop,H=!1,L,ie=!1,ce=new Map,De=null,Be=!1,Dt=!1,xn=[],Tn=new Set,D=new Map,$=0,G=-1,le=new Map,ae=new Set,Lt=new Map,gt=new Map,Xe=new Set,Je=new Map,xt=new Map,ms;function ky(){if(d=t.history.listen(v=>{let{action:w,location:C,delta:I}=v;if(ms){ms(),ms=void 0;return}Dr(xt.size===0||I!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let A=Pf({currentLocation:y.location,nextLocation:C,historyAction:w});if(A&&I!=null){let B=new Promise(V=>{ms=V});t.history.go(I*-1),vs(A,{state:"blocked",location:C,proceed(){vs(A,{state:"proceeding",proceed:void 0,reset:void 0,location:C}),B.then(()=>t.history.go(I))},reset(){let V=new Map(y.blockers);V.set(A,Ki),Ze({blockers:V})}});return}return ar(w,C)}),n){yE(e,ce);let v=()=>wE(e,ce);e.addEventListener("pagehide",v),De=()=>e.removeEventListener("pagehide",v)}return y.initialized||ar(Ie.Pop,y.location,{initialHydration:!0}),O}function Iy(){d&&d(),De&&De(),p.clear(),L&&L.abort(),y.fetchers.forEach((v,w)=>gs(w)),y.blockers.forEach((v,w)=>Nf(w))}function Ry(v){return p.add(v),()=>p.delete(v)}function Ze(v,w){w===void 0&&(w={}),y=ve({},y,v);let C=[],I=[];c.v7_fetcherPersist&&y.fetchers.forEach((A,B)=>{A.state==="idle"&&(Xe.has(B)?I.push(B):C.push(B))}),Xe.forEach(A=>{!y.fetchers.has(A)&&!D.has(A)&&I.push(A)}),[...p].forEach(A=>A(y,{deletedFetchers:I,viewTransitionOpts:w.viewTransitionOpts,flushSync:w.flushSync===!0})),c.v7_fetcherPersist?(C.forEach(A=>y.fetchers.delete(A)),I.forEach(A=>gs(A))):I.forEach(A=>Xe.delete(A))}function Ur(v,w,C){var I,A;let{flushSync:B}=C===void 0?{}:C,V=y.actionData!=null&&y.navigation.formMethod!=null&&Ft(y.navigation.formMethod)&&y.navigation.state==="loading"&&((I=v.state)==null?void 0:I._isRedirect)!==!0,z;w.actionData?Object.keys(w.actionData).length>0?z=w.actionData:z=null:V?z=y.actionData:z=null;let U=w.loaderData?tp(y.loaderData,w.loaderData,w.matches||[],w.errors):y.loaderData,b=y.blockers;b.size>0&&(b=new Map(b),b.forEach((Z,We)=>b.set(We,Ki)));let j=H===!0||y.navigation.formMethod!=null&&Ft(y.navigation.formMethod)&&((A=v.state)==null?void 0:A._isRedirect)!==!0;l&&(s=l,l=void 0),Be||k===Ie.Pop||(k===Ie.Push?t.history.push(v,v.state):k===Ie.Replace&&t.history.replace(v,v.state));let Q;if(k===Ie.Pop){let Z=ce.get(y.location.pathname);Z&&Z.has(v.pathname)?Q={currentLocation:y.location,nextLocation:v}:ce.has(v.pathname)&&(Q={currentLocation:v,nextLocation:y.location})}else if(ie){let Z=ce.get(y.location.pathname);Z?Z.add(v.pathname):(Z=new Set([v.pathname]),ce.set(y.location.pathname,Z)),Q={currentLocation:y.location,nextLocation:v}}Ze(ve({},w,{actionData:z,loaderData:U,historyAction:k,location:v,initialized:!0,navigation:lu,revalidation:"idle",restoreScrollPosition:Lf(v,w.matches||y.matches),preventScrollReset:j,blockers:b}),{viewTransitionOpts:Q,flushSync:B===!0}),k=Ie.Pop,H=!1,ie=!1,Be=!1,Dt=!1,xn=[]}async function Cf(v,w){if(typeof v=="number"){t.history.go(v);return}let C=mc(y.location,y.matches,a,c.v7_prependBasename,v,c.v7_relativeSplatPath,w==null?void 0:w.fromRouteId,w==null?void 0:w.relative),{path:I,submission:A,error:B}=Qh(c.v7_normalizeFormMethod,!1,C,w),V=y.location,z=Uo(y.location,I,w&&w.state);z=ve({},z,t.history.encodeLocation(z));let U=w&&w.replace!=null?w.replace:void 0,b=Ie.Push;U===!0?b=Ie.Replace:U===!1||A!=null&&Ft(A.formMethod)&&A.formAction===y.location.pathname+y.location.search&&(b=Ie.Replace);let j=w&&"preventScrollReset"in w?w.preventScrollReset===!0:void 0,Q=(w&&w.flushSync)===!0,Z=Pf({currentLocation:V,nextLocation:z,historyAction:b});if(Z){vs(Z,{state:"blocked",location:z,proceed(){vs(Z,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),Cf(v,w)},reset(){let We=new Map(y.blockers);We.set(Z,Ki),Ze({blockers:We})}});return}return await ar(b,z,{submission:A,pendingError:B,preventScrollReset:j,replace:w&&w.replace,enableViewTransition:w&&w.viewTransition,flushSync:Q})}function Ny(){if(Ra(),Ze({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){ar(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}ar(k||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation,enableViewTransition:ie===!0})}}async function ar(v,w,C){L&&L.abort(),L=null,k=v,Be=(C&&C.startUninterruptedRevalidation)===!0,Uy(y.location,y.matches),H=(C&&C.preventScrollReset)===!0,ie=(C&&C.enableViewTransition)===!0;let I=l||s,A=C&&C.overrideNavigation,B=C!=null&&C.initialHydration&&y.matches&&y.matches.length>0&&!g?y.matches:mr(I,w,a),V=(C&&C.flushSync)===!0;if(B&&y.initialized&&!Dt&&dE(y.location,w)&&!(C&&C.submission&&Ft(C.submission.formMethod))){Ur(w,{matches:B},{flushSync:V});return}let z=_s(B,I,w.pathname);if(z.active&&z.matches&&(B=z.matches),!B){let{error:de,notFoundMatches:re,route:Se}=Na(w.pathname);Ur(w,{matches:re,loaderData:{},errors:{[Se.id]:de}},{flushSync:V});return}L=new AbortController;let U=$r(t.history,w,L.signal,C&&C.submission),b;if(C&&C.pendingError)b=[gr(B).route.id,{type:oe.error,error:C.pendingError}];else if(C&&C.submission&&Ft(C.submission.formMethod)){let de=await Py(U,w,C.submission,B,z.active,{replace:C.replace,flushSync:V});if(de.shortCircuited)return;if(de.pendingActionResult){let[re,Se]=de.pendingActionResult;if(_t(Se)&&jo(Se.error)&&Se.error.status===404){L=null,Ur(w,{matches:de.matches,loaderData:{},errors:{[re]:Se.error}});return}}B=de.matches||B,b=de.pendingActionResult,A=au(w,C.submission),V=!1,z.active=!1,U=$r(t.history,U.url,U.signal)}let{shortCircuited:j,matches:Q,loaderData:Z,errors:We}=await Dy(U,w,B,z.active,A,C&&C.submission,C&&C.fetcherSubmission,C&&C.replace,C&&C.initialHydration===!0,V,b);j||(L=null,Ur(w,ve({matches:Q||B},np(b),{loaderData:Z,errors:We})))}async function Py(v,w,C,I,A,B){B===void 0&&(B={}),Ra();let V=vE(w,C);if(Ze({navigation:V},{flushSync:B.flushSync===!0}),A){let b=await ys(I,w.pathname,v.signal);if(b.type==="aborted")return{shortCircuited:!0};if(b.type==="error"){let j=gr(b.partialMatches).route.id;return{matches:b.partialMatches,pendingActionResult:[j,{type:oe.error,error:b.error}]}}else if(b.matches)I=b.matches;else{let{notFoundMatches:j,error:Q,route:Z}=Na(w.pathname);return{matches:j,pendingActionResult:[Z.id,{type:oe.error,error:Q}]}}}let z,U=oo(I,w);if(!U.route.action&&!U.route.lazy)z={type:oe.error,error:ot(405,{method:v.method,pathname:w.pathname,routeId:U.route.id})};else if(z=(await Fi("action",y,v,[U],I,null))[U.route.id],v.signal.aborted)return{shortCircuited:!0};if(wr(z)){let b;return B&&B.replace!=null?b=B.replace:b=Jh(z.response.headers.get("Location"),new URL(v.url),a,t.history)===y.location.pathname+y.location.search,await ur(v,z,!0,{submission:C,replace:b}),{shortCircuited:!0}}if(bn(z))throw ot(400,{type:"defer-action"});if(_t(z)){let b=gr(I,U.route.id);return(B&&B.replace)!==!0&&(k=Ie.Push),{matches:I,pendingActionResult:[b.route.id,z]}}return{matches:I,pendingActionResult:[U.route.id,z]}}async function Dy(v,w,C,I,A,B,V,z,U,b,j){let Q=A||au(w,B),Z=B||V||op(Q),We=!Be&&(!c.v7_partialHydration||!U);if(I){if(We){let xe=Sf(j);Ze(ve({navigation:Q},xe!==void 0?{actionData:xe}:{}),{flushSync:b})}let te=await ys(C,w.pathname,v.signal);if(te.type==="aborted")return{shortCircuited:!0};if(te.type==="error"){let xe=gr(te.partialMatches).route.id;return{matches:te.partialMatches,loaderData:{},errors:{[xe]:te.error}}}else if(te.matches)C=te.matches;else{let{error:xe,notFoundMatches:Br,route:Ui}=Na(w.pathname);return{matches:Br,loaderData:{},errors:{[Ui.id]:xe}}}}let de=l||s,[re,Se]=Yh(t.history,y,C,Z,w,c.v7_partialHydration&&U===!0,c.v7_skipActionErrorRevalidation,Dt,xn,Tn,Xe,Lt,ae,de,a,j);if(Pa(te=>!(C&&C.some(xe=>xe.route.id===te))||re&&re.some(xe=>xe.route.id===te)),G=++$,re.length===0&&Se.length===0){let te=If();return Ur(w,ve({matches:C,loaderData:{},errors:j&&_t(j[1])?{[j[0]]:j[1].error}:null},np(j),te?{fetchers:new Map(y.fetchers)}:{}),{flushSync:b}),{shortCircuited:!0}}if(We){let te={};if(!I){te.navigation=Q;let xe=Sf(j);xe!==void 0&&(te.actionData=xe)}Se.length>0&&(te.fetchers=Ly(Se)),Ze(te,{flushSync:b})}Se.forEach(te=>{In(te.key),te.controller&&D.set(te.key,te.controller)});let jr=()=>Se.forEach(te=>In(te.key));L&&L.signal.addEventListener("abort",jr);let{loaderResults:bi,fetcherResults:on}=await xf(y,C,re,Se,v);if(v.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",jr),Se.forEach(te=>D.delete(te.key));let Qt=Us(bi);if(Qt)return await ur(v,Qt.result,!0,{replace:z}),{shortCircuited:!0};if(Qt=Us(on),Qt)return ae.add(Qt.key),await ur(v,Qt.result,!0,{replace:z}),{shortCircuited:!0};let{loaderData:Da,errors:zi}=ep(y,C,bi,j,Se,on,Je);Je.forEach((te,xe)=>{te.subscribe(Br=>{(Br||te.done)&&Je.delete(xe)})}),c.v7_partialHydration&&U&&y.errors&&(zi=ve({},y.errors,zi));let cr=If(),ws=Rf(G),Es=cr||ws||Se.length>0;return ve({matches:C,loaderData:Da,errors:zi},Es?{fetchers:new Map(y.fetchers)}:{})}function Sf(v){if(v&&!_t(v[1]))return{[v[0]]:v[1].data};if(y.actionData)return Object.keys(y.actionData).length===0?null:y.actionData}function Ly(v){return v.forEach(w=>{let C=y.fetchers.get(w.key),I=Yi(void 0,C?C.data:void 0);y.fetchers.set(w.key,I)}),new Map(y.fetchers)}function Ay(v,w,C,I){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");In(v);let A=(I&&I.flushSync)===!0,B=l||s,V=mc(y.location,y.matches,a,c.v7_prependBasename,C,c.v7_relativeSplatPath,w,I==null?void 0:I.relative),z=mr(B,V,a),U=_s(z,B,V);if(U.active&&U.matches&&(z=U.matches),!z){rn(v,w,ot(404,{pathname:V}),{flushSync:A});return}let{path:b,submission:j,error:Q}=Qh(c.v7_normalizeFormMethod,!0,V,I);if(Q){rn(v,w,Q,{flushSync:A});return}let Z=oo(z,b),We=(I&&I.preventScrollReset)===!0;if(j&&Ft(j.formMethod)){My(v,w,b,Z,z,U.active,A,We,j);return}Lt.set(v,{routeId:w,path:b}),Oy(v,w,b,Z,z,U.active,A,We,j)}async function My(v,w,C,I,A,B,V,z,U){Ra(),Lt.delete(v);function b(Ne){if(!Ne.route.action&&!Ne.route.lazy){let Wr=ot(405,{method:U.formMethod,pathname:C,routeId:w});return rn(v,w,Wr,{flushSync:V}),!0}return!1}if(!B&&b(I))return;let j=y.fetchers.get(v);kn(v,_E(U,j),{flushSync:V});let Q=new AbortController,Z=$r(t.history,C,Q.signal,U);if(B){let Ne=await ys(A,new URL(Z.url).pathname,Z.signal,v);if(Ne.type==="aborted")return;if(Ne.type==="error"){rn(v,w,Ne.error,{flushSync:V});return}else if(Ne.matches){if(A=Ne.matches,I=oo(A,C),b(I))return}else{rn(v,w,ot(404,{pathname:C}),{flushSync:V});return}}D.set(v,Q);let We=$,re=(await Fi("action",y,Z,[I],A,v))[I.route.id];if(Z.signal.aborted){D.get(v)===Q&&D.delete(v);return}if(c.v7_fetcherPersist&&Xe.has(v)){if(wr(re)||_t(re)){kn(v,Nn(void 0));return}}else{if(wr(re))if(D.delete(v),G>We){kn(v,Nn(void 0));return}else return ae.add(v),kn(v,Yi(U)),ur(Z,re,!1,{fetcherSubmission:U,preventScrollReset:z});if(_t(re)){rn(v,w,re.error);return}}if(bn(re))throw ot(400,{type:"defer-action"});let Se=y.navigation.location||y.location,jr=$r(t.history,Se,Q.signal),bi=l||s,on=y.navigation.state!=="idle"?mr(bi,y.navigation.location,a):y.matches;K(on,"Didn't find any matches after fetcher action");let Qt=++$;le.set(v,Qt);let Da=Yi(U,re.data);y.fetchers.set(v,Da);let[zi,cr]=Yh(t.history,y,on,U,Se,!1,c.v7_skipActionErrorRevalidation,Dt,xn,Tn,Xe,Lt,ae,bi,a,[I.route.id,re]);cr.filter(Ne=>Ne.key!==v).forEach(Ne=>{let Wr=Ne.key,Af=y.fetchers.get(Wr),Wy=Yi(void 0,Af?Af.data:void 0);y.fetchers.set(Wr,Wy),In(Wr),Ne.controller&&D.set(Wr,Ne.controller)}),Ze({fetchers:new Map(y.fetchers)});let ws=()=>cr.forEach(Ne=>In(Ne.key));Q.signal.addEventListener("abort",ws);let{loaderResults:Es,fetcherResults:te}=await xf(y,on,zi,cr,jr);if(Q.signal.aborted)return;Q.signal.removeEventListener("abort",ws),le.delete(v),D.delete(v),cr.forEach(Ne=>D.delete(Ne.key));let xe=Us(Es);if(xe)return ur(jr,xe.result,!1,{preventScrollReset:z});if(xe=Us(te),xe)return ae.add(xe.key),ur(jr,xe.result,!1,{preventScrollReset:z});let{loaderData:Br,errors:Ui}=ep(y,on,Es,void 0,cr,te,Je);if(y.fetchers.has(v)){let Ne=Nn(re.data);y.fetchers.set(v,Ne)}Rf(Qt),y.navigation.state==="loading"&&Qt>G?(K(k,"Expected pending action"),L&&L.abort(),Ur(y.navigation.location,{matches:on,loaderData:Br,errors:Ui,fetchers:new Map(y.fetchers)})):(Ze({errors:Ui,loaderData:tp(y.loaderData,Br,on,Ui),fetchers:new Map(y.fetchers)}),Dt=!1)}async function Oy(v,w,C,I,A,B,V,z,U){let b=y.fetchers.get(v);kn(v,Yi(U,b?b.data:void 0),{flushSync:V});let j=new AbortController,Q=$r(t.history,C,j.signal);if(B){let re=await ys(A,new URL(Q.url).pathname,Q.signal,v);if(re.type==="aborted")return;if(re.type==="error"){rn(v,w,re.error,{flushSync:V});return}else if(re.matches)A=re.matches,I=oo(A,C);else{rn(v,w,ot(404,{pathname:C}),{flushSync:V});return}}D.set(v,j);let Z=$,de=(await Fi("loader",y,Q,[I],A,v))[I.route.id];if(bn(de)&&(de=await Md(de,Q.signal,!0)||de),D.get(v)===j&&D.delete(v),!Q.signal.aborted){if(Xe.has(v)){kn(v,Nn(void 0));return}if(wr(de))if(G>Z){kn(v,Nn(void 0));return}else{ae.add(v),await ur(Q,de,!1,{preventScrollReset:z});return}if(_t(de)){rn(v,w,de.error);return}K(!bn(de),"Unhandled fetcher deferred data"),kn(v,Nn(de.data))}}async function ur(v,w,C,I){let{submission:A,fetcherSubmission:B,preventScrollReset:V,replace:z}=I===void 0?{}:I;w.response.headers.has("X-Remix-Revalidate")&&(Dt=!0);let U=w.response.headers.get("Location");K(U,"Expected a Location header on the redirect Response"),U=Jh(U,new URL(v.url),a,t.history);let b=Uo(y.location,U,{_isRedirect:!0});if(n){let re=!1;if(w.response.headers.has("X-Remix-Reload-Document"))re=!0;else if(Ad.test(U)){const Se=t.history.createURL(U);re=Se.origin!==e.location.origin||Vt(Se.pathname,a)==null}if(re){z?e.location.replace(U):e.location.assign(U);return}}L=null;let j=z===!0||w.response.headers.has("X-Remix-Replace")?Ie.Replace:Ie.Push,{formMethod:Q,formAction:Z,formEncType:We}=y.navigation;!A&&!B&&Q&&Z&&We&&(A=op(y.navigation));let de=A||B;if(Jw.has(w.response.status)&&de&&Ft(de.formMethod))await ar(j,b,{submission:ve({},de,{formAction:U}),preventScrollReset:V||H,enableViewTransition:C?ie:void 0});else{let re=au(b,A);await ar(j,b,{overrideNavigation:re,fetcherSubmission:B,preventScrollReset:V||H,enableViewTransition:C?ie:void 0})}}async function Fi(v,w,C,I,A,B){let V,z={};try{V=await sE(u,v,w,C,I,A,B,o,i)}catch(U){return I.forEach(b=>{z[b.route.id]={type:oe.error,error:U}}),z}for(let[U,b]of Object.entries(V))if(fE(b)){let j=b.result;z[U]={type:oe.redirect,response:uE(j,C,U,A,a,c.v7_relativeSplatPath)}}else z[U]=await aE(b);return z}async function xf(v,w,C,I,A){let B=v.matches,V=Fi("loader",v,A,C,w,null),z=Promise.all(I.map(async j=>{if(j.matches&&j.match&&j.controller){let Z=(await Fi("loader",v,$r(t.history,j.path,j.controller.signal),[j.match],j.matches,j.key))[j.match.route.id];return{[j.key]:Z}}else return Promise.resolve({[j.key]:{type:oe.error,error:ot(404,{pathname:j.path})}})})),U=await V,b=(await z).reduce((j,Q)=>Object.assign(j,Q),{});return await Promise.all([mE(w,U,A.signal,B,v.loaderData),gE(w,b,I)]),{loaderResults:U,fetcherResults:b}}function Ra(){Dt=!0,xn.push(...Pa()),Lt.forEach((v,w)=>{D.has(w)&&Tn.add(w),In(w)})}function kn(v,w,C){C===void 0&&(C={}),y.fetchers.set(v,w),Ze({fetchers:new Map(y.fetchers)},{flushSync:(C&&C.flushSync)===!0})}function rn(v,w,C,I){I===void 0&&(I={});let A=gr(y.matches,w);gs(v),Ze({errors:{[A.route.id]:C},fetchers:new Map(y.fetchers)},{flushSync:(I&&I.flushSync)===!0})}function Tf(v){return gt.set(v,(gt.get(v)||0)+1),Xe.has(v)&&Xe.delete(v),y.fetchers.get(v)||Zw}function gs(v){let w=y.fetchers.get(v);D.has(v)&&!(w&&w.state==="loading"&&le.has(v))&&In(v),Lt.delete(v),le.delete(v),ae.delete(v),c.v7_fetcherPersist&&Xe.delete(v),Tn.delete(v),y.fetchers.delete(v)}function Fy(v){let w=(gt.get(v)||0)-1;w<=0?(gt.delete(v),Xe.add(v),c.v7_fetcherPersist||gs(v)):gt.set(v,w),Ze({fetchers:new Map(y.fetchers)})}function In(v){let w=D.get(v);w&&(w.abort(),D.delete(v))}function kf(v){for(let w of v){let C=Tf(w),I=Nn(C.data);y.fetchers.set(w,I)}}function If(){let v=[],w=!1;for(let C of ae){let I=y.fetchers.get(C);K(I,"Expected fetcher: "+C),I.state==="loading"&&(ae.delete(C),v.push(C),w=!0)}return kf(v),w}function Rf(v){let w=[];for(let[C,I]of le)if(I<v){let A=y.fetchers.get(C);K(A,"Expected fetcher: "+C),A.state==="loading"&&(In(C),le.delete(C),w.push(C))}return kf(w),w.length>0}function by(v,w){let C=y.blockers.get(v)||Ki;return xt.get(v)!==w&&xt.set(v,w),C}function Nf(v){y.blockers.delete(v),xt.delete(v)}function vs(v,w){let C=y.blockers.get(v)||Ki;K(C.state==="unblocked"&&w.state==="blocked"||C.state==="blocked"&&w.state==="blocked"||C.state==="blocked"&&w.state==="proceeding"||C.state==="blocked"&&w.state==="unblocked"||C.state==="proceeding"&&w.state==="unblocked","Invalid blocker state transition: "+C.state+" -> "+w.state);let I=new Map(y.blockers);I.set(v,w),Ze({blockers:I})}function Pf(v){let{currentLocation:w,nextLocation:C,historyAction:I}=v;if(xt.size===0)return;xt.size>1&&Dr(!1,"A router only supports one blocker at a time");let A=Array.from(xt.entries()),[B,V]=A[A.length-1],z=y.blockers.get(B);if(!(z&&z.state==="proceeding")&&V({currentLocation:w,nextLocation:C,historyAction:I}))return B}function Na(v){let w=ot(404,{pathname:v}),C=l||s,{matches:I,route:A}=rp(C);return Pa(),{notFoundMatches:I,route:A,error:w}}function Pa(v){let w=[];return Je.forEach((C,I)=>{(!v||v(I))&&(C.cancel(),w.push(I),Je.delete(I))}),w}function zy(v,w,C){if(_=v,x=w,E=C||null,!m&&y.navigation===lu){m=!0;let I=Lf(y.location,y.matches);I!=null&&Ze({restoreScrollPosition:I})}return()=>{_=null,x=null,E=null}}function Df(v,w){return E&&E(v,w.map(I=>Nw(I,y.loaderData)))||v.key}function Uy(v,w){if(_&&x){let C=Df(v,w);_[C]=x()}}function Lf(v,w){if(_){let C=Df(v,w),I=_[C];if(typeof I=="number")return I}return null}function _s(v,w,C){if(f)if(v){if(Object.keys(v[0].params).length>0)return{active:!0,matches:nl(w,C,a,!0)}}else return{active:!0,matches:nl(w,C,a,!0)||[]};return{active:!1,matches:null}}async function ys(v,w,C,I){if(!f)return{type:"success",matches:v};let A=v;for(;;){let B=l==null,V=l||s,z=o;try{await f({signal:C,path:w,matches:A,fetcherKey:I,patch:(j,Q)=>{C.aborted||Xh(j,Q,V,z,i)}})}catch(j){return{type:"error",error:j,partialMatches:A}}finally{B&&!C.aborted&&(s=[...s])}if(C.aborted)return{type:"aborted"};let U=mr(V,w,a);if(U)return{type:"success",matches:U};let b=nl(V,w,a,!0);if(!b||A.length===b.length&&A.every((j,Q)=>j.route.id===b[Q].route.id))return{type:"success",matches:null};A=b}}function jy(v){o={},l=Nl(v,i,void 0,o)}function By(v,w){let C=l==null;Xh(v,w,l||s,o,i),C&&(s=[...s],Ze({}))}return O={get basename(){return a},get future(){return c},get state(){return y},get routes(){return s},get window(){return e},initialize:ky,subscribe:Ry,enableScrollRestoration:zy,navigate:Cf,fetch:Ay,revalidate:Ny,createHref:v=>t.history.createHref(v),encodeLocation:v=>t.history.encodeLocation(v),getFetcher:Tf,deleteFetcher:Fy,dispose:Iy,getBlocker:by,deleteBlocker:Nf,patchRoutes:By,_internalFetchControllers:D,_internalActiveDeferreds:Je,_internalSetRoutes:jy},O}function nE(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function mc(t,e,n,r,i,o,s,l){let a,u;if(s){a=[];for(let c of e)if(a.push(c),c.route.id===s){u=c;break}}else a=e,u=e[e.length-1];let f=Ld(i||".",Dd(a,o),Vt(t.pathname,n)||t.pathname,l==="path");if(i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&u){let c=Od(f.search);if(u.route.index&&!c)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&c){let d=new URLSearchParams(f.search),p=d.getAll("index");d.delete("index"),p.filter(E=>E).forEach(E=>d.append("index",E));let _=d.toString();f.search=_?"?"+_:""}}return r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:Zt([n,f.pathname])),Jn(f)}function Qh(t,e,n,r){if(!r||!nE(r))return{path:n};if(r.formMethod&&!pE(r.formMethod))return{path:n,error:ot(405,{method:r.formMethod})};let i=()=>({path:n,error:ot(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),l=Lv(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ft(s))return i();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,_)=>{let[E,x]=_;return""+p+E+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!Ft(s))return i();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}K(typeof FormData=="function","FormData is not available in this environment");let a,u;if(r.formData)a=vc(r.formData),u=r.formData;else if(r.body instanceof FormData)a=vc(r.body),u=r.body;else if(r.body instanceof URLSearchParams)a=r.body,u=Zh(a);else if(r.body==null)a=new URLSearchParams,u=new FormData;else try{a=new URLSearchParams(r.body),u=Zh(a)}catch{return i()}let f={formMethod:s,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Ft(f.formMethod))return{path:n,submission:f};let c=wn(n);return e&&c.search&&Od(c.search)&&a.append("index",""),c.search="?"+a,{path:Jn(c),submission:f}}function Kh(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function Yh(t,e,n,r,i,o,s,l,a,u,f,c,d,p,_,E){let x=E?_t(E[1])?E[1].error:E[1].data:void 0,m=t.createURL(e.location),h=t.createURL(i),g=n;o&&e.errors?g=Kh(n,Object.keys(e.errors)[0],!0):E&&_t(E[1])&&(g=Kh(n,E[0]));let S=E?E[1].statusCode:void 0,N=s&&S&&S>=400,O=g.filter((k,H)=>{let{route:L}=k;if(L.lazy)return!0;if(L.loader==null)return!1;if(o)return gc(L,e.loaderData,e.errors);if(rE(e.loaderData,e.matches[H],k)||a.some(De=>De===k.route.id))return!0;let ie=e.matches[H],ce=k;return qh(k,ve({currentUrl:m,currentParams:ie.params,nextUrl:h,nextParams:ce.params},r,{actionResult:x,actionStatus:S,defaultShouldRevalidate:N?!1:l||m.pathname+m.search===h.pathname+h.search||m.search!==h.search||Pv(ie,ce)}))}),y=[];return c.forEach((k,H)=>{if(o||!n.some(Be=>Be.route.id===k.routeId)||f.has(H))return;let L=mr(p,k.path,_);if(!L){y.push({key:H,routeId:k.routeId,path:k.path,matches:null,match:null,controller:null});return}let ie=e.fetchers.get(H),ce=oo(L,k.path),De=!1;d.has(H)?De=!1:u.has(H)?(u.delete(H),De=!0):ie&&ie.state!=="idle"&&ie.data===void 0?De=l:De=qh(ce,ve({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:h,nextParams:n[n.length-1].params},r,{actionResult:x,actionStatus:S,defaultShouldRevalidate:N?!1:l})),De&&y.push({key:H,routeId:k.routeId,path:k.path,matches:L,match:ce,controller:new AbortController})}),[O,y]}function gc(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function rE(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Pv(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function qh(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Xh(t,e,n,r,i){var o;let s;if(t){let u=r[t];K(u,"No route found to patch children into: routeId = "+t),u.children||(u.children=[]),s=u.children}else s=n;let l=e.filter(u=>!s.some(f=>Dv(u,f))),a=Nl(l,i,[t||"_","patch",String(((o=s)==null?void 0:o.length)||"0")],r);s.push(...a)}function Dv(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>Dv(n,o))}):!1}async function iE(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];K(i,"No route found in manifest");let o={};for(let s in r){let a=i[s]!==void 0&&s!=="hasErrorBoundary";Dr(!a,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!a&&!Iw.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,ve({},e(i),{lazy:void 0}))}async function oE(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,o,s)=>Object.assign(i,{[n[s].route.id]:o}),{})}async function sE(t,e,n,r,i,o,s,l,a,u){let f=o.map(p=>p.route.lazy?iE(p.route,a,l):void 0),c=o.map((p,_)=>{let E=f[_],x=i.some(h=>h.route.id===p.route.id);return ve({},p,{shouldLoad:x,resolve:async h=>(h&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(x=!0),x?lE(e,r,p,E,h,u):Promise.resolve({type:oe.data,result:void 0}))})}),d=await t({matches:c,request:r,params:o[0].params,fetcherKey:s,context:u});try{await Promise.all(f)}catch{}return d}async function lE(t,e,n,r,i,o){let s,l,a=u=>{let f,c=new Promise((_,E)=>f=E);l=()=>f(),e.signal.addEventListener("abort",l);let d=_=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:o},..._!==void 0?[_]:[]),p=(async()=>{try{return{type:"data",result:await(i?i(E=>d(E)):d())}}catch(_){return{type:"error",result:_}}})();return Promise.race([p,c])};try{let u=n.route[t];if(r)if(u){let f,[c]=await Promise.all([a(u).catch(d=>{f=d}),r]);if(f!==void 0)throw f;s=c}else if(await r,u=n.route[t],u)s=await a(u);else if(t==="action"){let f=new URL(e.url),c=f.pathname+f.search;throw ot(405,{method:e.method,pathname:c,routeId:n.route.id})}else return{type:oe.data,result:void 0};else if(u)s=await a(u);else{let f=new URL(e.url),c=f.pathname+f.search;throw ot(404,{pathname:c})}K(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:oe.error,result:u}}finally{l&&e.signal.removeEventListener("abort",l)}return s}async function aE(t){let{result:e,type:n}=t;if(Av(e)){let c;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(d){return{type:oe.error,error:d}}return n===oe.error?{type:oe.error,error:new Dl(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:oe.data,data:c,statusCode:e.status,headers:e.headers}}if(n===oe.error){if(ip(e)){var r,i;if(e.data instanceof Error){var o,s;return{type:oe.error,error:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:oe.error,error:new Dl(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:jo(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:oe.error,error:e,statusCode:jo(e)?e.status:void 0}}if(hE(e)){var l,a;return{type:oe.deferred,deferredData:e,statusCode:(l=e.init)==null?void 0:l.status,headers:((a=e.init)==null?void 0:a.headers)&&new Headers(e.init.headers)}}if(ip(e)){var u,f;return{type:oe.data,data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}}return{type:oe.data,data:e}}function uE(t,e,n,r,i,o){let s=t.headers.get("Location");if(K(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ad.test(s)){let l=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=mc(new URL(e.url),l,i,!0,s,o),t.headers.set("Location",s)}return t}function Jh(t,e,n,r){let i=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Ad.test(t)){let o=t,s=o.startsWith("//")?new URL(e.protocol+o):new URL(o);if(i.includes(s.protocol))throw new Error("Invalid redirect location");let l=Vt(s.pathname,n)!=null;if(s.origin===e.origin&&l)return s.pathname+s.search+s.hash}try{let o=r.createURL(t);if(i.includes(o.protocol))throw new Error("Invalid redirect location")}catch{}return t}function $r(t,e,n,r){let i=t.createURL(Lv(e)).toString(),o={signal:n};if(r&&Ft(r.formMethod)){let{formMethod:s,formEncType:l}=r;o.method=s.toUpperCase(),l==="application/json"?(o.headers=new Headers({"Content-Type":l}),o.body=JSON.stringify(r.json)):l==="text/plain"?o.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?o.body=vc(r.formData):o.body=r.formData}return new Request(i,o)}function vc(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Zh(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function cE(t,e,n,r,i){let o={},s=null,l,a=!1,u={},f=n&&_t(n[1])?n[1].error:void 0;return t.forEach(c=>{if(!(c.route.id in e))return;let d=c.route.id,p=e[d];if(K(!wr(p),"Cannot handle redirect results in processLoaderData"),_t(p)){let _=p.error;if(f!==void 0&&(_=f,f=void 0),s=s||{},i)s[d]=_;else{let E=gr(t,d);s[E.route.id]==null&&(s[E.route.id]=_)}o[d]=void 0,a||(a=!0,l=jo(p.error)?p.error.status:500),p.headers&&(u[d]=p.headers)}else bn(p)?(r.set(d,p.deferredData),o[d]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!a&&(l=p.statusCode),p.headers&&(u[d]=p.headers)):(o[d]=p.data,p.statusCode&&p.statusCode!==200&&!a&&(l=p.statusCode),p.headers&&(u[d]=p.headers))}),f!==void 0&&n&&(s={[n[0]]:f},o[n[0]]=void 0),{loaderData:o,errors:s,statusCode:l||200,loaderHeaders:u}}function ep(t,e,n,r,i,o,s){let{loaderData:l,errors:a}=cE(e,n,r,s,!1);return i.forEach(u=>{let{key:f,match:c,controller:d}=u,p=o[f];if(K(p,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(_t(p)){let _=gr(t.matches,c==null?void 0:c.route.id);a&&a[_.route.id]||(a=ve({},a,{[_.route.id]:p.error})),t.fetchers.delete(f)}else if(wr(p))K(!1,"Unhandled fetcher revalidation redirect");else if(bn(p))K(!1,"Unhandled fetcher deferred data");else{let _=Nn(p.data);t.fetchers.set(f,_)}}),{loaderData:l,errors:a}}function tp(t,e,n,r){let i=ve({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function np(t){return t?_t(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function gr(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function rp(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ot(t,e){let{pathname:n,routeId:r,method:i,type:o,message:s}=e===void 0?{}:e,l="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(l="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(l="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",a='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Dl(t||500,l,new Error(a),!0)}function Us(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(wr(i))return{key:r,result:i}}}function Lv(t){let e=typeof t=="string"?wn(t):t;return Jn(ve({},e,{hash:""}))}function dE(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function fE(t){return Av(t.result)&&Xw.has(t.result.status)}function bn(t){return t.type===oe.deferred}function _t(t){return t.type===oe.error}function wr(t){return(t&&t.type)===oe.redirect}function ip(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function hE(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Av(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function pE(t){return qw.has(t.toLowerCase())}function Ft(t){return Kw.has(t.toLowerCase())}async function mE(t,e,n,r,i){let o=Object.entries(e);for(let s=0;s<o.length;s++){let[l,a]=o[s],u=t.find(d=>(d==null?void 0:d.route.id)===l);if(!u)continue;let f=r.find(d=>d.route.id===u.route.id),c=f!=null&&!Pv(f,u)&&(i&&i[u.route.id])!==void 0;bn(a)&&c&&await Md(a,n,!1).then(d=>{d&&(e[l]=d)})}}async function gE(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:o,controller:s}=n[r],l=e[i];t.find(u=>(u==null?void 0:u.route.id)===o)&&bn(l)&&(K(s,"Expected an AbortController for revalidating fetcher deferred result"),await Md(l,s.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function Md(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:oe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:oe.error,error:i}}return{type:oe.data,data:t.deferredData.data}}}function Od(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function oo(t,e){let n=typeof e=="string"?wn(e).search:e.search;if(t[t.length-1].route.index&&Od(n||""))return t[t.length-1];let r=Iv(t);return r[r.length-1]}function op(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function au(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function vE(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Yi(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function _E(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Nn(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function yE(t,e){try{let n=t.sessionStorage.getItem(Nv);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function wE(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Nv,JSON.stringify(n))}catch(r){Dr(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bo(){return Bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bo.apply(this,arguments)}const ss=T.createContext(null),Fd=T.createContext(null),nn=T.createContext(null),ha=T.createContext(null),En=T.createContext({outlet:null,matches:[],isDataRoute:!1}),Mv=T.createContext(null);function EE(t,e){let{relative:n}=e===void 0?{}:e;ls()||K(!1);let{basename:r,navigator:i}=T.useContext(nn),{hash:o,pathname:s,search:l}=Di(t,{relative:n}),a=s;return r!=="/"&&(a=s==="/"?r:Zt([r,s])),i.createHref({pathname:a,search:l,hash:o})}function ls(){return T.useContext(ha)!=null}function lr(){return ls()||K(!1),T.useContext(ha).location}function Ov(t){T.useContext(nn).static||T.useLayoutEffect(t)}function CE(){let{isDataRoute:t}=T.useContext(En);return t?bE():SE()}function SE(){ls()||K(!1);let t=T.useContext(ss),{basename:e,future:n,navigator:r}=T.useContext(nn),{matches:i}=T.useContext(En),{pathname:o}=lr(),s=JSON.stringify(Dd(i,n.v7_relativeSplatPath)),l=T.useRef(!1);return Ov(()=>{l.current=!0}),T.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let c=Ld(u,JSON.parse(s),o,f.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Zt([e,c.pathname])),(f.replace?r.replace:r.push)(c,f.state,f)},[e,r,s,o,t])}const xE=T.createContext(null);function TE(t){let e=T.useContext(En).outlet;return e&&T.createElement(xE.Provider,{value:t},e)}function Di(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(nn),{matches:i}=T.useContext(En),{pathname:o}=lr(),s=JSON.stringify(Dd(i,r.v7_relativeSplatPath));return T.useMemo(()=>Ld(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function kE(t,e,n,r){ls()||K(!1);let{navigator:i}=T.useContext(nn),{matches:o}=T.useContext(En),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=lr(),f;if(e){var c;let x=typeof e=="string"?wn(e):e;a==="/"||(c=x.pathname)!=null&&c.startsWith(a)||K(!1),f=x}else f=u;let d=f.pathname||"/",p=d;if(a!=="/"){let x=a.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(x.length).join("/")}let _=mr(t,{pathname:p}),E=DE(_&&_.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Zt([a,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?a:Zt([a,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return e&&E?T.createElement(ha.Provider,{value:{location:Bo({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ie.Pop}},E):E}function IE(){let t=FE(),e=jo(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,o)}const RE=T.createElement(IE,null);class NE extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(En.Provider,{value:this.props.routeContext},T.createElement(Mv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PE(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(ss);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(En.Provider,{value:e},r)}function DE(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=s.findIndex(c=>c.route.id&&(l==null?void 0:l[c.route.id])!==void 0);f>=0||K(!1),s=s.slice(0,Math.min(s.length,f+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<s.length;f++){let c=s[f];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=f),c.route.id){let{loaderData:d,errors:p}=n,_=c.route.loader&&d[c.route.id]===void 0&&(!p||p[c.route.id]===void 0);if(c.route.lazy||_){a=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((f,c,d)=>{let p,_=!1,E=null,x=null;n&&(p=l&&c.route.id?l[c.route.id]:void 0,E=c.route.errorElement||RE,a&&(u<0&&d===0?(zE("route-fallback",!1),_=!0,x=null):u===d&&(_=!0,x=c.route.hydrateFallbackElement||null)));let m=e.concat(s.slice(0,d+1)),h=()=>{let g;return p?g=E:_?g=x:c.route.Component?g=T.createElement(c.route.Component,null):c.route.element?g=c.route.element:g=f,T.createElement(PE,{match:c,routeContext:{outlet:f,matches:m,isDataRoute:n!=null},children:g})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?T.createElement(NE,{location:n.location,revalidation:n.revalidation,component:E,error:p,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):h()},null)}var Fv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Fv||{}),Zn=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Zn||{});function LE(t){let e=T.useContext(ss);return e||K(!1),e}function bd(t){let e=T.useContext(Fd);return e||K(!1),e}function AE(t){let e=T.useContext(En);return e||K(!1),e}function pa(t){let e=AE(),n=e.matches[e.matches.length-1];return n.route.id||K(!1),n.route.id}function ME(){return pa(Zn.UseRouteId)}function OE(){return bd(Zn.UseNavigation).navigation}function zd(){let t=bd(Zn.UseLoaderData),e=pa(Zn.UseLoaderData);if(t.errors&&t.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return t.loaderData[e]}function FE(){var t;let e=T.useContext(Mv),n=bd(Zn.UseRouteError),r=pa(Zn.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function bE(){let{router:t}=LE(Fv.UseNavigateStable),e=pa(Zn.UseNavigateStable),n=T.useRef(!1);return Ov(()=>{n.current=!0}),T.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Bo({fromRouteId:e},o)))},[t,e])}const sp={};function zE(t,e,n){!e&&!sp[t]&&(sp[t]=!0)}function UE(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function bv(t){return TE(t.context)}function jE(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ie.Pop,navigator:o,static:s=!1,future:l}=t;ls()&&K(!1);let a=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:a,navigator:o,static:s,future:Bo({v7_relativeSplatPath:!1},l)}),[a,l,o,s]);typeof r=="string"&&(r=wn(r));let{pathname:f="/",search:c="",hash:d="",state:p=null,key:_="default"}=r,E=T.useMemo(()=>{let x=Vt(f,a);return x==null?null:{location:{pathname:x,search:c,hash:d,state:p,key:_},navigationType:i}},[a,f,c,d,p,_,i]);return E==null?null:T.createElement(nn.Provider,{value:u},T.createElement(ha.Provider,{children:n,value:E}))}new Promise(()=>{});function BE(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:T.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:T.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:T.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function er(){return er=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},er.apply(this,arguments)}function Ud(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const rl="get",uu="application/x-www-form-urlencoded";function ma(t){return t!=null&&typeof t.tagName=="string"}function WE(t){return ma(t)&&t.tagName.toLowerCase()==="button"}function HE(t){return ma(t)&&t.tagName.toLowerCase()==="form"}function $E(t){return ma(t)&&t.tagName.toLowerCase()==="input"}function VE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GE(t,e){return t.button===0&&(!e||e==="_self")&&!VE(t)}let js=null;function QE(){if(js===null)try{new FormData(document.createElement("form"),0),js=!1}catch{js=!0}return js}const KE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cu(t){return t!=null&&!KE.has(t)?null:t}function YE(t,e){let n,r,i,o,s;if(HE(t)){let l=t.getAttribute("action");r=l?Vt(l,e):null,n=t.getAttribute("method")||rl,i=cu(t.getAttribute("enctype"))||uu,o=new FormData(t)}else if(WE(t)||$E(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=t.getAttribute("formaction")||l.getAttribute("action");if(r=a?Vt(a,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||rl,i=cu(t.getAttribute("formenctype"))||cu(l.getAttribute("enctype"))||uu,o=new FormData(l,t),!QE()){let{name:u,type:f,value:c}=t;if(f==="image"){let d=u?u+".":"";o.append(d+"x","0"),o.append(d+"y","0")}else u&&o.append(u,c)}}else{if(ma(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rl,r=null,i=uu,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}const qE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],XE=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],JE=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"],ZE="6";try{window.__reactRouterVersion=ZE}catch{}function eC(t,e){return tE({basename:e==null?void 0:e.basename,future:er({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:xw({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||tC(),routes:t,mapRouteProperties:BE,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function tC(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=er({},e,{errors:nC(e.errors)})),e}function nC(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Dl(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const zv=T.createContext({isTransitioning:!1}),rC=T.createContext(new Map),iC="startTransition",lp=i0[iC],oC="flushSync",ap=mw[oC];function sC(t){lp?lp(t):t()}function qi(t){ap?ap(t):t()}let lC=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function aC(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=T.useState(n.state),[s,l]=T.useState(),[a,u]=T.useState({isTransitioning:!1}),[f,c]=T.useState(),[d,p]=T.useState(),[_,E]=T.useState(),x=T.useRef(new Map),{v7_startTransition:m}=r||{},h=T.useCallback(k=>{m?sC(k):k()},[m]),g=T.useCallback((k,H)=>{let{deletedFetchers:L,flushSync:ie,viewTransitionOpts:ce}=H;k.fetchers.forEach((Be,Dt)=>{Be.data!==void 0&&x.current.set(Dt,Be.data)}),L.forEach(Be=>x.current.delete(Be));let De=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!ce||De){ie?qi(()=>o(k)):h(()=>o(k));return}if(ie){qi(()=>{d&&(f&&f.resolve(),d.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})});let Be=n.window.document.startViewTransition(()=>{qi(()=>o(k))});Be.finished.finally(()=>{qi(()=>{c(void 0),p(void 0),l(void 0),u({isTransitioning:!1})})}),qi(()=>p(Be));return}d?(f&&f.resolve(),d.skipTransition(),E({state:k,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})):(l(k),u({isTransitioning:!0,flushSync:!1,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation}))},[n.window,d,f,x,h]);T.useLayoutEffect(()=>n.subscribe(g),[n,g]),T.useEffect(()=>{a.isTransitioning&&!a.flushSync&&c(new lC)},[a]),T.useEffect(()=>{if(f&&s&&n.window){let k=s,H=f.promise,L=n.window.document.startViewTransition(async()=>{h(()=>o(k)),await H});L.finished.finally(()=>{c(void 0),p(void 0),l(void 0),u({isTransitioning:!1})}),p(L)}},[h,s,f,n.window]),T.useEffect(()=>{f&&s&&i.location.key===s.location.key&&f.resolve()},[f,d,i.location,s]),T.useEffect(()=>{!a.isTransitioning&&_&&(l(_.state),u({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),E(void 0))},[a.isTransitioning,_]),T.useEffect(()=>{},[]);let S=T.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:k=>n.navigate(k),push:(k,H,L)=>n.navigate(k,{state:H,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(k,H,L)=>n.navigate(k,{replace:!0,state:H,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[n]),N=n.basename||"/",O=T.useMemo(()=>({router:n,navigator:S,static:!1,basename:N}),[n,S,N]),y=T.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return T.useEffect(()=>UE(r,n.future),[r,n.future]),T.createElement(T.Fragment,null,T.createElement(ss.Provider,{value:O},T.createElement(Fd.Provider,{value:i},T.createElement(rC.Provider,{value:x.current},T.createElement(zv.Provider,{value:a},T.createElement(jE,{basename:N,location:i.location,navigationType:i.historyAction,navigator:S,future:y},i.initialized||n.future.v7_partialHydration?T.createElement(uC,{routes:n.routes,future:n.future,state:i}):e))))),null)}const uC=T.memo(cC);function cC(t){let{routes:e,future:n,state:r}=t;return kE(e,void 0,r,n)}const dC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Uv=T.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:a,to:u,preventScrollReset:f,viewTransition:c}=e,d=Ud(e,qE),{basename:p}=T.useContext(nn),_,E=!1;if(typeof u=="string"&&fC.test(u)&&(_=u,dC))try{let g=new URL(window.location.href),S=u.startsWith("//")?new URL(g.protocol+u):new URL(u),N=Vt(S.pathname,p);S.origin===g.origin&&N!=null?u=N+S.search+S.hash:E=!0}catch{}let x=EE(u,{relative:i}),m=hC(u,{replace:s,state:l,target:a,preventScrollReset:f,relative:i,viewTransition:c});function h(g){r&&r(g),g.defaultPrevented||m(g)}return T.createElement("a",er({},d,{href:_||x,onClick:E||o?r:h,ref:n,target:a}))}),il=T.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:l,to:a,viewTransition:u,children:f}=e,c=Ud(e,XE),d=Di(a,{relative:c.relative}),p=lr(),_=T.useContext(Fd),{navigator:E,basename:x}=T.useContext(nn),m=_!=null&&_C(d)&&u===!0,h=E.encodeLocation?E.encodeLocation(d).pathname:d.pathname,g=p.pathname,S=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(g=g.toLowerCase(),S=S?S.toLowerCase():null,h=h.toLowerCase()),S&&x&&(S=Vt(S,x)||S);const N=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let O=g===h||!s&&g.startsWith(h)&&g.charAt(N)==="/",y=S!=null&&(S===h||!s&&S.startsWith(h)&&S.charAt(h.length)==="/"),k={isActive:O,isPending:y,isTransitioning:m},H=O?r:void 0,L;typeof o=="function"?L=o(k):L=[o,O?"active":null,y?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let ie=typeof l=="function"?l(k):l;return T.createElement(Uv,er({},c,{"aria-current":H,className:L,ref:n,style:ie,to:a,viewTransition:u}),typeof f=="function"?f(k):f)}),go=T.forwardRef((t,e)=>{let{fetcherKey:n,navigate:r,reloadDocument:i,replace:o,state:s,method:l=rl,action:a,onSubmit:u,relative:f,preventScrollReset:c,viewTransition:d}=t,p=Ud(t,JE),_=Bv(),E=vC(a,{relative:f}),x=l.toLowerCase()==="get"?"get":"post",m=h=>{if(u&&u(h),h.defaultPrevented)return;h.preventDefault();let g=h.nativeEvent.submitter,S=(g==null?void 0:g.getAttribute("formmethod"))||l;_(g||h.currentTarget,{fetcherKey:n,method:S,navigate:r,replace:o,state:s,relative:f,preventScrollReset:c,viewTransition:d})};return T.createElement("form",er({ref:e,method:x,action:E,onSubmit:i?u:m},p))});var Ll;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ll||(Ll={}));var up;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(up||(up={}));function jv(t){let e=T.useContext(ss);return e||K(!1),e}function hC(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:l}=e===void 0?{}:e,a=CE(),u=lr(),f=Di(t,{relative:s});return T.useCallback(c=>{if(GE(c,n)){c.preventDefault();let d=r!==void 0?r:Jn(u)===Jn(f);a(t,{replace:d,state:i,preventScrollReset:o,relative:s,viewTransition:l})}},[u,a,f,r,i,n,t,o,s,l])}function pC(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let mC=0,gC=()=>"__"+String(++mC)+"__";function Bv(){let{router:t}=jv(Ll.UseSubmit),{basename:e}=T.useContext(nn),n=ME();return T.useCallback(function(r,i){i===void 0&&(i={}),pC();let{action:o,method:s,encType:l,formData:a,body:u}=YE(r,e);if(i.navigate===!1){let f=i.fetcherKey||gC();t.fetch(f,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:a,body:u,formMethod:i.method||s,formEncType:i.encType||l,flushSync:i.flushSync})}else t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:a,body:u,formMethod:i.method||s,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function vC(t,e){let{relative:n}=e===void 0?{}:e,{basename:r}=T.useContext(nn),i=T.useContext(En);i||K(!1);let[o]=i.matches.slice(-1),s=er({},Di(t||".",{relative:n})),l=lr();if(t==null){s.search=l.search;let a=new URLSearchParams(s.search),u=a.getAll("index");if(u.some(c=>c==="")){a.delete("index"),u.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();s.search=c?"?"+c:""}}return(!t||t===".")&&o.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Zt([r,s.pathname])),Jn(s)}function _C(t,e){e===void 0&&(e={});let n=T.useContext(zv);n==null&&K(!1);let{basename:r}=jv(Ll.useViewTransitionState),i=Di(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Vt(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Vt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Pl(i.pathname,s)!=null||Pl(i.pathname,o)!=null}const yC=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P=function(t,e){if(!t)throw Li(e)},Li=function(t){return new Error("Firebase Database ("+Wv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],a=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},jd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,f=o>>2,c=(o&3)<<4|l>>4;let d=(l&15)<<2|u>>6,p=u&63;a||(p=64,s||(d=64)),r.push(n[f],n[c],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||u==null||c==null)throw new EC;const d=o<<2|l>>4;if(r.push(d),u!==64){const p=l<<4&240|u>>2;if(r.push(p),c!==64){const _=u<<6&192|c;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class EC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $v=function(t){const e=Hv(t);return jd.encodeByteArray(e,!0)},Al=function(t){return $v(t).replace(/\./g,"")},_c=function(t){try{return jd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(t){return Vv(void 0,t)}function Vv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!SC(n)||(t[n]=Vv(t[n],e[n]));return t}function SC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=()=>xC().__FIREBASE_DEFAULTS__,kC=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_c(t[1]);return e&&JSON.parse(e)},Gv=()=>{try{return yC()||TC()||kC()||IC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RC=t=>{var e,n;return(n=(e=Gv())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},NC=t=>{const e=RC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Qv=()=>{var t;return(t=Gv())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function PC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t},l="";return[Al(JSON.stringify(n)),Al(JSON.stringify(s)),l].join(".")}const vo={};function LC(){const t={prod:[],emulator:[]};for(const e of Object.keys(vo))vo[e]?t.emulator.push(e):t.prod.push(e);return t}function AC(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let cp=!1;function MC(t,e){if(typeof window>"u"||typeof document>"u"||!Bd(window.location.host)||vo[t]===e||vo[t]||cp)return;vo[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",o=LC().prod.length>0;function s(){const d=document.getElementById(r);d&&d.remove()}function l(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function a(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{cp=!0,s()},d}function f(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function c(){const d=AC(r),p=n("text"),_=document.getElementById(p)||document.createElement("span"),E=n("learnmore"),x=document.getElementById(E)||document.createElement("a"),m=n("preprendIcon"),h=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const g=d.element;l(g),f(x,E);const S=u();a(h,m),g.append(h,_,x,S),document.body.appendChild(g)}o?(_.innerText="Preview backend disconnected.",h.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(h.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",c):c()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(OC())}function FC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yv(){return Wv.NODE_ADMIN===!0}function bC(){try{return typeof indexedDB=="object"}catch{return!1}}function zC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="FirebaseError";class as extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=UC,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qv.prototype.create)}}class qv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?jC(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new as(i,l,r)}}function jC(t,e){return t.replace(BC,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const BC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(t){return JSON.parse(t)}function Ae(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=Wo(_c(o[0])||""),n=Wo(_c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},WC=function(t){const e=Xv(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},HC=function(t){const e=Xv(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function dp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ml(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Ol(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(fp(o)&&fp(s)){if(!Ol(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)r[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const d=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,f;for(let c=0;c<80;c++){c<40?c<20?(u=l^o&(s^l),f=1518500249):(u=o^s^l,f=1859775393):c<60?(u=o&s|l&(o|s),f=2400959708):(u=o^s^l,f=3395469782);const d=(i<<5|i>>>27)+u+a+f+r[c]&4294967295;a=l,l=s,s=(o<<30|o>>>2)&4294967295,o=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function Wd(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,P(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},va=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t){return t&&t._delegate?t._delegate:t}class Ho{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ga;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YC(e))try{this.getOrInitializeService({instanceIdentifier:hr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hr){return this.instances.has(e)}getOptions(e=hr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hr){return this.component?this.component.multipleInstances?e:hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KC(t){return t===hr?void 0:t}function YC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const XC={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},JC=fe.INFO,ZC={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},eS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ZC[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jv{constructor(e){this.name=e,this._logLevel=JC,this._logHandler=eS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const tS=(t,e)=>e.some(n=>t instanceof n);let hp,pp;function nS(){return hp||(hp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rS(){return pp||(pp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zv=new WeakMap,yc=new WeakMap,e_=new WeakMap,du=new WeakMap,Hd=new WeakMap;function iS(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Gn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Zv.set(n,t)}).catch(()=>{}),Hd.set(e,t),e}function oS(t){if(yc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});yc.set(t,e)}let wc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||e_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sS(t){wc=t(wc)}function lS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fu(this),e,...n);return e_.set(r,e.sort?e.sort():[e]),Gn(r)}:rS().includes(t)?function(...e){return t.apply(fu(this),e),Gn(Zv.get(this))}:function(...e){return Gn(t.apply(fu(this),e))}}function aS(t){return typeof t=="function"?lS(t):(t instanceof IDBTransaction&&oS(t),tS(t,nS())?new Proxy(t,wc):t)}function Gn(t){if(t instanceof IDBRequest)return iS(t);if(du.has(t))return du.get(t);const e=aS(t);return e!==t&&(du.set(t,e),Hd.set(e,t)),e}const fu=t=>Hd.get(t);function uS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=Gn(s);return r&&s.addEventListener("upgradeneeded",a=>{r(Gn(s.result),a.oldVersion,a.newVersion,Gn(s.transaction),a)}),n&&s.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{o&&a.addEventListener("close",()=>o()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const cS=["get","getKey","getAll","getAllKeys","count"],dS=["put","add","delete","clear"],hu=new Map;function mp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hu.get(e))return hu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||cS.includes(n)))return;const o=async function(s,...l){const a=this.transaction(s,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return hu.set(e,o),o}sS(t=>({...t,get:(e,n,r)=>mp(e,n)||t.get(e,n,r),has:(e,n)=>!!mp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ec="@firebase/app",gp="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn=new Jv("@firebase/app"),pS="@firebase/app-compat",mS="@firebase/analytics-compat",gS="@firebase/analytics",vS="@firebase/app-check-compat",_S="@firebase/app-check",yS="@firebase/auth",wS="@firebase/auth-compat",ES="@firebase/database",CS="@firebase/data-connect",SS="@firebase/database-compat",xS="@firebase/functions",TS="@firebase/functions-compat",kS="@firebase/installations",IS="@firebase/installations-compat",RS="@firebase/messaging",NS="@firebase/messaging-compat",PS="@firebase/performance",DS="@firebase/performance-compat",LS="@firebase/remote-config",AS="@firebase/remote-config-compat",MS="@firebase/storage",OS="@firebase/storage-compat",FS="@firebase/firestore",bS="@firebase/ai",zS="@firebase/firestore-compat",US="firebase",jS="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc="[DEFAULT]",BS={[Ec]:"fire-core",[pS]:"fire-core-compat",[gS]:"fire-analytics",[mS]:"fire-analytics-compat",[_S]:"fire-app-check",[vS]:"fire-app-check-compat",[yS]:"fire-auth",[wS]:"fire-auth-compat",[ES]:"fire-rtdb",[CS]:"fire-data-connect",[SS]:"fire-rtdb-compat",[xS]:"fire-fn",[TS]:"fire-fn-compat",[kS]:"fire-iid",[IS]:"fire-iid-compat",[RS]:"fire-fcm",[NS]:"fire-fcm-compat",[PS]:"fire-perf",[DS]:"fire-perf-compat",[LS]:"fire-rc",[AS]:"fire-rc-compat",[MS]:"fire-gcs",[OS]:"fire-gcs-compat",[FS]:"fire-fst",[zS]:"fire-fst-compat",[bS]:"fire-vertex","fire-js":"fire-js",[US]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new Map,WS=new Map,Sc=new Map;function vp(t,e){try{t.container.addComponent(e)}catch(n){vn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bl(t){const e=t.name;if(Sc.has(e))return vn.debug(`There were multiple attempts to register component ${e}.`),!1;Sc.set(e,t);for(const n of Fl.values())vp(n,t);for(const n of WS.values())vp(n,t);return!0}function HS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $S(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qn=new qv("app","Firebase",VS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=jS;function t_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Cc,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Qn.create("bad-app-name",{appName:String(i)});if(n||(n=Qv()),!n)throw Qn.create("no-options");const o=Fl.get(i);if(o){if(Ol(n,o.options)&&Ol(r,o.config))return o;throw Qn.create("duplicate-app",{appName:i})}const s=new qC(i);for(const a of Sc.values())s.addComponent(a);const l=new GS(n,r,s);return Fl.set(i,l),l}function KS(t=Cc){const e=Fl.get(t);if(!e&&t===Cc&&Qv())return t_();if(!e)throw Qn.create("no-app",{appName:t});return e}function hi(t,e,n){let r=BS[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vn.warn(s.join(" "));return}bl(new Ho(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="firebase-heartbeat-database",qS=1,$o="firebase-heartbeat-store";let pu=null;function n_(){return pu||(pu=uS(YS,qS,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($o)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qn.create("idb-open",{originalErrorMessage:t.message})})),pu}async function XS(t){try{const n=(await n_()).transaction($o),r=await n.objectStore($o).get(r_(t));return await n.done,r}catch(e){if(e instanceof as)vn.warn(e.message);else{const n=Qn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vn.warn(n.message)}}}async function _p(t,e){try{const r=(await n_()).transaction($o,"readwrite");await r.objectStore($o).put(e,r_(t)),await r.done}catch(n){if(n instanceof as)vn.warn(n.message);else{const r=Qn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vn.warn(r.message)}}}function r_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=1024,ZS=30;class ex{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=yp();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>ZS){const s=rx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yp(),{heartbeatsToSend:r,unsentEntries:i}=tx(this._heartbeatsCache.heartbeats),o=Al(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return vn.warn(n),""}}}function yp(){return new Date().toISOString().substring(0,10)}function tx(t,e=JS){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),wp(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bC()?zC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _p(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _p(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function wp(t){return Al(JSON.stringify({version:2,heartbeats:t})).length}function rx(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t){bl(new Ho("platform-logger",e=>new fS(e),"PRIVATE")),bl(new Ho("heartbeat",e=>new ex(e),"PRIVATE")),hi(Ec,gp,t),hi(Ec,gp,"esm2020"),hi("fire-js","")}ix("");var ox="firebase",sx="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hi(ox,sx,"app");const Ep="@firebase/database",Cp="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i_="";function lx(t){i_=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ae(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Wo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Cn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ax(e)}}catch{}return new ux},Er=o_("localStorage"),xc=o_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new Jv("@firebase/database"),cx=function(){let t=1;return function(){return t++}}(),s_=function(t){const e=GC(t),n=new VC;n.update(e);const r=n.digest();return jd.encodeByteArray(r)},us=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=us.apply(null,r):typeof r=="object"?e+=Ae(r):e+=r,e+=" "}return e};let Tr=null,Sp=!0;const dx=function(t,e){P(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(pi.logLevel=fe.VERBOSE,Tr=pi.log.bind(pi),e&&xc.set("logging_enabled",!0)):typeof t=="function"?Tr=t:(Tr=null,xc.remove("logging_enabled"))},Ye=function(...t){if(Sp===!0&&(Sp=!1,Tr===null&&xc.get("logging_enabled")===!0&&dx(!0)),Tr){const e=us.apply(null,t);Tr(e)}},cs=function(t){return function(...e){Ye(t,...e)}},Tc=function(...t){const e="FIREBASE INTERNAL ERROR: "+us(...t);pi.error(e)},_n=function(...t){const e=`FIREBASE FATAL ERROR: ${us(...t)}`;throw pi.error(e),new Error(e)},ft=function(...t){const e="FIREBASE WARNING: "+us(...t);pi.warn(e)},fx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ft("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},l_=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},hx=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ti="[MIN_NAME]",Lr="[MAX_NAME]",Ai=function(t,e){if(t===e)return 0;if(t===Ti||e===Lr)return-1;if(e===Ti||t===Lr)return 1;{const n=xp(t),r=xp(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},px=function(t,e){return t===e?0:t<e?-1:1},Xi=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ae(e))},$d=function(t){if(typeof t!="object"||t===null)return Ae(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ae(e[r]),n+=":",n+=$d(t[e[r]]);return n+="}",n},a_=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ht(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const u_=function(t){P(!l_(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,l,a;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=l+r,s=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(a=e;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const f=u.join("");let c="";for(a=0;a<64;a+=8){let d=parseInt(f.substr(a,8),2).toString(16);d.length===1&&(d="0"+d),c=c+d}return c.toLowerCase()},mx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function vx(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const _x=new RegExp("^-?(0*)\\d{1,10}$"),yx=-2147483648,wx=2147483647,xp=function(t){if(_x.test(t)){const e=Number(t);if(e>=yx&&e<=wx)return e}return null},Mi=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ft("Exception was thrown by user callback.",n),e},Math.floor(0))}},Ex=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},_o=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,$S(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ft(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ye("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ft(e)}}class mi{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}mi.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="5",c_="v",d_="s",f_="r",h_="f",p_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,m_="ls",g_="p",kc="ac",v_="websocket",__="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n,r,i,o=!1,s="",l=!1,a=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Er.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Er.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function xx(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function w_(t,e,n){P(typeof e=="string","typeof type must == string"),P(typeof n=="object","typeof params must == object");let r;if(e===v_)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===__)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);xx(t)&&(n.ns=t.namespace);const i=[];return ht(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.counters_={}}incrementCounter(e,n=1){Cn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return CC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu={},gu={};function Gd(t){const e=t.toString();return mu[e]||(mu[e]=new Tx),mu[e]}function kx(t,e){const n=t.toString();return gu[n]||(gu[n]=e()),gu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Mi(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="start",Rx="close",Nx="pLPCommand",Px="pRTLPCB",E_="id",C_="pw",S_="ser",Dx="cb",Lx="seg",Ax="ts",Mx="d",Ox="dframe",x_=1870,T_=30,Fx=x_-T_,bx=25e3,zx=3e4;class si{constructor(e,n,r,i,o,s,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cs(e),this.stats_=Gd(n),this.urlFn=a=>(this.appCheckToken&&(a[kc]=this.appCheckToken),w_(n,__,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Ix(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(zx)),hx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Qd((...o)=>{const[s,l,a,u,f]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Tp)this.id=l,this.password=a;else if(s===Rx)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,l]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Tp]="t",r[S_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Dx]=this.scriptTagHolder.uniqueCallbackIdentifier),r[c_]=Vd,this.transportSessionId&&(r[d_]=this.transportSessionId),this.lastSessionId&&(r[m_]=this.lastSessionId),this.applicationId&&(r[g_]=this.applicationId),this.appCheckToken&&(r[kc]=this.appCheckToken),typeof location<"u"&&location.hostname&&p_.test(location.hostname)&&(r[f_]=h_);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){si.forceAllow_=!0}static forceDisallow(){si.forceDisallow_=!0}static isAvailable(){return si.forceAllow_?!0:!si.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mx()&&!gx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ae(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=$v(n),i=a_(r,Fx);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Ox]="t",r[E_]=e,r[C_]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ae(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Qd{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=cx(),window[Nx+this.uniqueCallbackIdentifier]=e,window[Px+this.uniqueCallbackIdentifier]=n,this.myIFrame=Qd.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(l){Ye("frame writing exception"),l.stack&&Ye(l.stack),Ye(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ye("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[E_]=this.myID,e[C_]=this.myPW,e[S_]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+T_+r.length<=x_;){const s=this.pendingSegs.shift();r=r+"&"+Lx+i+"="+s.seg+"&"+Ax+i+"="+s.ts+"&"+Mx+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(bx)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ye("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=16384,jx=45e3;let zl=null;typeof MozWebSocket<"u"?zl=MozWebSocket:typeof WebSocket<"u"&&(zl=WebSocket);class zt{constructor(e,n,r,i,o,s,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cs(this.connId),this.stats_=Gd(n),this.connURL=zt.connectionURL_(n,s,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[c_]=Vd,typeof location<"u"&&location.hostname&&p_.test(location.hostname)&&(s[f_]=h_),n&&(s[d_]=n),r&&(s[m_]=r),i&&(s[kc]=i),o&&(s[g_]=o),w_(e,v_,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Er.set("previous_websocket_failure",!0);try{let r;Yv(),this.mySock=new zl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){zt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&zl!==null&&!zt.forceDisallow_}static previouslyFailed(){return Er.isInMemoryStorage||Er.get("previous_websocket_failure")===!0}markConnectionHealthy(){Er.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Wo(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(P(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ae(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=a_(n,Ux);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(jx))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}zt.responsesRequiredToBeHealthy=2;zt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{static get ALL_TRANSPORTS(){return[si,zt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=zt&&zt.isAvailable();let r=n&&!zt.previouslyFailed();if(e.webSocketOnly&&(n||ft("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[zt];else{const i=this.transports_=[];for(const o of Vo.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Vo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Vo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=6e4,Wx=5e3,Hx=10*1024,$x=100*1024,vu="t",kp="d",Vx="s",Ip="r",Gx="e",Rp="o",Np="a",Pp="n",Dp="p",Qx="h";class Kx{constructor(e,n,r,i,o,s,l,a,u,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cs("c:"+this.id+":"),this.transportManager_=new Vo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=_o(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>$x?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Hx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(vu in e){const n=e[vu];n===Np?this.upgradeIfSecondaryHealthy_():n===Ip?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Rp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Xi("t",e),r=Xi("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Dp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Np,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Pp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Xi("t",e),r=Xi("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Xi(vu,e);if(kp in e){const r=e[kp];if(n===Qx){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Pp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Vx?this.onConnectionShutdown_(r):n===Ip?this.onReset_(r):n===Gx?Tc("Server Error: "+r):n===Rp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Tc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Vd!==r&&ft("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),_o(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Bx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):_o(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Wx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Dp,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Er.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e){this.allowedEvents_=e,this.listeners_={},P(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){P(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends I_{static getInstance(){return new Ul}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Kv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return P(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=32,Ap=768;class ue{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ne(){return new ue("")}function X(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function tr(t){return t.pieces_.length-t.pieceNum_}function he(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ue(t.pieces_,e)}function R_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Yx(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function N_(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function P_(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ue(e,0)}function Me(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ue)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ue(n,0)}function q(t){return t.pieceNum_>=t.pieces_.length}function tt(t,e){const n=X(t),r=X(e);if(n===null)return e;if(n===r)return tt(he(t),he(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function D_(t,e){if(tr(t)!==tr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ut(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(tr(t)>tr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class qx{constructor(e,n){this.errorPrefix_=n,this.parts_=N_(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=va(this.parts_[r]);L_(this)}}function Xx(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=va(e),L_(t)}function Jx(t){const e=t.parts_.pop();t.byteLength_-=va(e),t.parts_.length>0&&(t.byteLength_-=1)}function L_(t){if(t.byteLength_>Ap)throw new Error(t.errorPrefix_+"has a key path longer than "+Ap+" bytes ("+t.byteLength_+").");if(t.parts_.length>Lp)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Lp+") or object contains a cycle "+pr(t))}function pr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd extends I_{static getInstance(){return new Kd}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return P(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=1e3,Zx=60*5*1e3,Mp=30*1e3,eT=1.3,tT=3e4,nT="server_kill",Op=3;class fn extends k_{constructor(e,n,r,i,o,s,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=fn.nextPersistentConnectionId_++,this.log_=cs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ji,this.maxReconnectDelay_=Zx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Yv())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Kd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ul.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(Ae(o)),P(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new ga,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const l=s.d;s.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),P(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),P(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,l=>{const a=l.d,u=l.s;fn.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Cn(e,"w")){const r=xi(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();ft(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||HC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Mp)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=WC(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),P(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ae(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Tc("Unrecognized action received from server: "+Ae(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){P(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ji,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ji,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tT&&(this.reconnectDelay_=Ji),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*eT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+fn.nextConnectionId_++,o=this.lastSessionId;let s=!1,l=null;const a=function(){l?l.close():(s=!0,r())},u=function(c){P(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(c)};this.realtime_={close:a,sendRequest:u};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,d]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);s?Ye("getToken() completed but was canceled"):(Ye("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=d&&d.token,l=new Kx(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{ft(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(nT)},o))}catch(c){this.log_("Failed to get token: "+c),s||(this.repoInfo_.nodeAdmin&&ft(c),a())}}}interrupt(e){Ye("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ye("Resuming connection for reason: "+e),delete this.interruptReasons_[e],dp(this.interruptReasons_)&&(this.reconnectDelay_=Ji,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>$d(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ue(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ye("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Op&&(this.reconnectDelay_=Mp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ye("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Op&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+i_.replace(/\./g,"-")]=1,Kv()?e["framework.cordova"]=1:FC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ul.getInstance().currentlyOnline();return dp(this.interruptReasons_)&&e}}fn.nextPersistentConnectionId_=0;fn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Y(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Y(Ti,e),i=new Y(Ti,n);return this.compare(r,i)!==0}minPost(){return Y.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs;class A_ extends _a{static get __EMPTY_NODE(){return Bs}static set __EMPTY_NODE(e){Bs=e}compare(e,n){return Ai(e.name,n.name)}isDefinedOn(e){throw Li("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Y.MIN}maxPost(){return new Y(Lr,Bs)}makePost(e,n){return P(typeof e=="string","KeyIndex indexValue must always be a string."),new Y(e,Bs)}toString(){return".key"}}const gi=new A_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ze{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ze.RED,this.left=i??at.EMPTY_NODE,this.right=o??at.EMPTY_NODE}copy(e,n,r,i,o){return new ze(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return at.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return at.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ze.RED=!0;ze.BLACK=!1;class rT{copy(e,n,r,i,o){return this}insert(e,n,r){return new ze(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class at{constructor(e,n=at.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new at(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ze.BLACK,null,null))}remove(e){return new at(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ze.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ws(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ws(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ws(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ws(this.root_,null,this.comparator_,!0,e)}}at.EMPTY_NODE=new rT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t,e){return Ai(t.name,e.name)}function Yd(t,e){return Ai(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic;function oT(t){Ic=t}const M_=function(t){return typeof t=="number"?"number:"+u_(t):"string:"+t},O_=function(t){if(t.isLeafNode()){const e=t.val();P(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Cn(e,".sv"),"Priority must be a string or number.")}else P(t===Ic||t.isEmpty(),"priority of unexpected type.");P(t===Ic||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp;class Fe{static set __childrenNodeConstructor(e){Fp=e}static get __childrenNodeConstructor(){return Fp}constructor(e,n=Fe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,P(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),O_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Fe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Fe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return q(e)?this:X(e)===".priority"?this.priorityNode_:Fe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Fe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=X(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(P(r!==".priority"||tr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Fe.__childrenNodeConstructor.EMPTY_NODE.updateChild(he(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+M_(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=u_(this.value_):e+=this.value_,this.lazyHash_=s_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Fe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Fe.__childrenNodeConstructor?-1:(P(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Fe.VALUE_TYPE_ORDER.indexOf(n),o=Fe.VALUE_TYPE_ORDER.indexOf(r);return P(i>=0,"Unknown leaf type: "+n),P(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Fe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F_,b_;function sT(t){F_=t}function lT(t){b_=t}class aT extends _a{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Ai(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Y.MIN}maxPost(){return new Y(Lr,new Fe("[PRIORITY-POST]",b_))}makePost(e,n){const r=F_(e);return new Y(n,new Fe("[PRIORITY-POST]",r))}toString(){return".priority"}}const ke=new aT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=Math.log(2);class cT{constructor(e){const n=o=>parseInt(Math.log(o)/uT,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const jl=function(t,e,n,r){t.sort(e);const i=function(a,u){const f=u-a;let c,d;if(f===0)return null;if(f===1)return c=t[a],d=n?n(c):c,new ze(d,c.node,ze.BLACK,null,null);{const p=parseInt(f/2,10)+a,_=i(a,p),E=i(p+1,u);return c=t[p],d=n?n(c):c,new ze(d,c.node,ze.BLACK,_,E)}},o=function(a){let u=null,f=null,c=t.length;const d=function(_,E){const x=c-_,m=c;c-=_;const h=i(x+1,m),g=t[x],S=n?n(g):g;p(new ze(S,g.node,E,null,h))},p=function(_){u?(u.left=_,u=_):(f=_,u=_)};for(let _=0;_<a.count;++_){const E=a.nextBitIsOne(),x=Math.pow(2,a.count-(_+1));E?d(x,ze.BLACK):(d(x,ze.BLACK),d(x,ze.RED))}return f},s=new cT(t.length),l=o(s);return new at(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u;const Vr={};class cn{static get Default(){return P(Vr&&ke,"ChildrenNode.ts has not been loaded"),_u=_u||new cn({".priority":Vr},{".priority":ke}),_u}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=xi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof at?n:null}hasIndex(e){return Cn(this.indexSet_,e.toString())}addIndex(e,n){P(e!==gi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(Y.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let l;i?l=jl(r,e.getCompare()):l=Vr;const a=e.toString(),u={...this.indexSet_};u[a]=e;const f={...this.indexes_};return f[a]=l,new cn(f,u)}addToIndexes(e,n){const r=Ml(this.indexes_,(i,o)=>{const s=xi(this.indexSet_,o);if(P(s,"Missing index implementation for "+o),i===Vr)if(s.isDefinedOn(e.node)){const l=[],a=n.getIterator(Y.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),jl(l,s.getCompare())}else return Vr;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new Y(e.name,l))),a.insert(e,e.node)}});return new cn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ml(this.indexes_,i=>{if(i===Vr)return i;{const o=n.get(e.name);return o?i.remove(new Y(e.name,o)):i}});return new cn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zi;class W{static get EMPTY_NODE(){return Zi||(Zi=new W(new at(Yd),null,cn.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&O_(this.priorityNode_),this.children_.isEmpty()&&P(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Zi}updatePriority(e){return this.children_.isEmpty()?this:new W(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Zi:n}}getChild(e){const n=X(e);return n===null?this:this.getImmediateChild(n).getChild(he(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(P(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Y(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?Zi:this.priorityNode_;return new W(i,s,o)}}updateChild(e,n){const r=X(e);if(r===null)return n;{P(X(e)!==".priority"||tr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(he(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(ke,(s,l)=>{n[s]=l.val(e),r++,o&&W.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const l in n)s[l]=n[l];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+M_(this.getPriority().val())+":"),this.forEachChild(ke,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":s_(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new Y(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Y(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Y(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Y.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Y.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ds?-1:0}withIndex(e){if(e===gi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new W(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===gi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ke),i=n.getIterator(ke);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===gi?null:this.indexMap_.get(e.toString())}}W.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class dT extends W{constructor(){super(new at(Yd),W.EMPTY_NODE,cn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return W.EMPTY_NODE}isEmpty(){return!1}}const ds=new dT;Object.defineProperties(Y,{MIN:{value:new Y(Ti,W.EMPTY_NODE)},MAX:{value:new Y(Lr,ds)}});A_.__EMPTY_NODE=W.EMPTY_NODE;Fe.__childrenNodeConstructor=W;oT(ds);lT(ds);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=!0;function Ue(t,e=null){if(t===null)return W.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),P(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Fe(n,Ue(e))}if(!(t instanceof Array)&&fT){const n=[];let r=!1;if(ht(t,(s,l)=>{if(s.substring(0,1)!=="."){const a=Ue(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new Y(s,a)))}}),n.length===0)return W.EMPTY_NODE;const o=jl(n,iT,s=>s.name,Yd);if(r){const s=jl(n,ke.getCompare());return new W(o,Ue(e),new cn({".priority":s},{".priority":ke}))}else return new W(o,Ue(e),cn.Default)}else{let n=W.EMPTY_NODE;return ht(t,(r,i)=>{if(Cn(t,r)&&r.substring(0,1)!=="."){const o=Ue(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ue(e))}}sT(Ue);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT extends _a{constructor(e){super(),this.indexPath_=e,P(!q(e)&&X(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Ai(e.name,n.name):o}makePost(e,n){const r=Ue(e),i=W.EMPTY_NODE.updateChild(this.indexPath_,r);return new Y(n,i)}maxPost(){const e=W.EMPTY_NODE.updateChild(this.indexPath_,ds);return new Y(Lr,e)}toString(){return N_(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT extends _a{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ai(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Y.MIN}maxPost(){return Y.MAX}makePost(e,n){const r=Ue(e);return new Y(n,r)}toString(){return".value"}}const mT=new pT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t){return{type:"value",snapshotNode:t}}function ki(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Go(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Qo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function gT(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){P(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Go(n,l)):P(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?s.trackChildChange(ki(n,r)):s.trackChildChange(Qo(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ke,(i,o)=>{n.hasChild(i)||r.trackChildChange(Go(i,o))}),n.isLeafNode()||n.forEachChild(ke,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Qo(i,o,s))}else r.trackChildChange(ki(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?W.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.indexedFilter_=new qd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ko.getStartPost_(e),this.endPost_=Ko.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new Y(n,r))||(r=W.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=W.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(W.EMPTY_NODE);const o=this;return n.forEachChild(ke,(s,l)=>{o.matches(new Y(s,l))||(i=i.updateImmediateChild(s,W.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ko(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new Y(n,r))||(r=W.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=W.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=W.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const l=o.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(W.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const l=o.getNext();s<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?s++:i=i.updateImmediateChild(l.name,W.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const c=this.index_.getCompare();s=(d,p)=>c(p,d)}else s=this.index_.getCompare();const l=e;P(l.numChildren()===this.limit_,"");const a=new Y(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),f=this.rangedFilter_.matches(a);if(l.hasChild(n)){const c=l.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||l.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const p=d==null?1:s(d,a);if(f&&!r.isEmpty()&&p>=0)return o!=null&&o.trackChildChange(Qo(n,r,c)),l.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(Go(n,c));const E=l.updateImmediateChild(n,W.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(o!=null&&o.trackChildChange(ki(d.name,d.node)),E.updateImmediateChild(d.name,d.node)):E}}else return r.isEmpty()?e:f&&s(u,a)>=0?(o!=null&&(o.trackChildChange(Go(u.name,u.node)),o.trackChildChange(ki(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,W.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return P(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return P(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ti}hasEnd(){return this.endSet_}getIndexEndValue(){return P(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return P(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Lr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return P(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ke}copy(){const e=new Xd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function _T(t){return t.loadsAllData()?new qd(t.getIndex()):t.hasLimit()?new vT(t):new Ko(t)}function bp(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ke?n="$priority":t.index_===mT?n="$value":t.index_===gi?n="$key":(P(t.index_ instanceof hT,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ae(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ae(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ae(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ae(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ae(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function zp(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ke&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends k_{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(P(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=cs("p:rest:"),this.listens_={}}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Bl.getListenId_(e,r),l={};this.listens_[s]=l;const a=bp(e._queryParams);this.restRequest_(o+".json",a,(u,f)=>{let c=f;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(o,c,!1,r),xi(this.listens_,s)===l){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",i(d,null)}})}unlisten(e,n){const r=Bl.getListenId_(e,n);delete this.listens_[r]}get(e){const n=bp(e._queryParams),r=e._path.toString(),i=new ga;return this.restRequest_(r+".json",n,(o,s)=>{let l=s;o===404&&(l=null,o=null),o===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+$C(n);this.log_("Sending REST request for "+s);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+s+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Wo(l.responseText)}catch{ft("Failed to parse JSON response for "+s+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&ft("Got unsuccessful REST response for "+s+" Status: "+l.status),r(l.status);r=null}},l.open("GET",s,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.rootNode_=W.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(){return{value:null,children:new Map}}function U_(t,e,n){if(q(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=X(e);t.children.has(r)||t.children.set(r,Wl());const i=t.children.get(r);e=he(e),U_(i,e,n)}}function Rc(t,e,n){t.value!==null?n(e,t.value):wT(t,(r,i)=>{const o=new ue(e.toString()+"/"+r);Rc(i,o,n)})}function wT(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&ht(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up=10*1e3,CT=30*1e3,ST=5*60*1e3;class xT{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new ET(e);const r=Up+(CT-Up)*Math.random();_o(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ht(e,(i,o)=>{o>0&&Cn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),_o(this.reportStats_.bind(this),Math.floor(Math.random()*2*ST))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(jt||(jt={}));function j_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Jd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Zd(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=jt.ACK_USER_WRITE,this.source=j_()}operationForChild(e){if(q(this.path)){if(this.affectedTree.value!=null)return P(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ue(e));return new Hl(ne(),n,this.revert)}}else return P(X(this.path)===e,"operationForChild called for unrelated child."),new Hl(he(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n){this.source=e,this.path=n,this.type=jt.LISTEN_COMPLETE}operationForChild(e){return q(this.path)?new Yo(this.source,ne()):new Yo(this.source,he(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=jt.OVERWRITE}operationForChild(e){return q(this.path)?new Ar(this.source,ne(),this.snap.getImmediateChild(e)):new Ar(this.source,he(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=jt.MERGE}operationForChild(e){if(q(this.path)){const n=this.children.subtree(new ue(e));return n.isEmpty()?null:n.value?new Ar(this.source,ne(),n.value):new qo(this.source,ne(),n)}else return P(X(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new qo(this.source,he(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(q(e))return this.isFullyInitialized()&&!this.filtered_;const n=X(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function kT(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(gT(s.childName,s.snapshotNode))}),eo(t,i,"child_removed",e,r,n),eo(t,i,"child_added",e,r,n),eo(t,i,"child_moved",o,r,n),eo(t,i,"child_changed",e,r,n),eo(t,i,"value",e,r,n),i}function eo(t,e,n,r,i,o){const s=r.filter(l=>l.type===n);s.sort((l,a)=>RT(t,l,a)),s.forEach(l=>{const a=IT(t,l,o);i.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(a,t.query_))})})}function IT(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function RT(t,e,n){if(e.childName==null||n.childName==null)throw Li("Should only compare child_ events.");const r=new Y(e.childName,e.snapshotNode),i=new Y(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t,e){return{eventCache:t,serverCache:e}}function yo(t,e,n,r){return ya(new nr(e,n,r),t.serverCache)}function B_(t,e,n,r){return ya(t.eventCache,new nr(e,n,r))}function $l(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Mr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yu;const NT=()=>(yu||(yu=new at(px)),yu);class ge{static fromObject(e){let n=new ge(null);return ht(e,(r,i)=>{n=n.set(new ue(r),i)}),n}constructor(e,n=NT()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ne(),value:this.value};if(q(e))return null;{const r=X(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(he(e),n);return o!=null?{path:Me(new ue(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(q(e))return this;{const n=X(e),r=this.children.get(n);return r!==null?r.subtree(he(e)):new ge(null)}}set(e,n){if(q(e))return new ge(n,this.children);{const r=X(e),o=(this.children.get(r)||new ge(null)).set(he(e),n),s=this.children.insert(r,o);return new ge(this.value,s)}}remove(e){if(q(e))return this.children.isEmpty()?new ge(null):new ge(null,this.children);{const n=X(e),r=this.children.get(n);if(r){const i=r.remove(he(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new ge(null):new ge(this.value,o)}else return this}}get(e){if(q(e))return this.value;{const n=X(e),r=this.children.get(n);return r?r.get(he(e)):null}}setTree(e,n){if(q(e))return n;{const r=X(e),o=(this.children.get(r)||new ge(null)).setTree(he(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new ge(this.value,s)}}fold(e){return this.fold_(ne(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Me(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ne(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(q(e))return null;{const o=X(e),s=this.children.get(o);return s?s.findOnPath_(he(e),Me(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ne(),n)}foreachOnPath_(e,n,r){if(q(e))return this;{this.value&&r(n,this.value);const i=X(e),o=this.children.get(i);return o?o.foreachOnPath_(he(e),Me(n,i),r):new ge(null)}}foreach(e){this.foreach_(ne(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Me(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.writeTree_=e}static empty(){return new Ht(new ge(null))}}function wo(t,e,n){if(q(e))return new Ht(new ge(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=tt(i,e);return o=o.updateChild(s,n),new Ht(t.writeTree_.set(i,o))}else{const i=new ge(n),o=t.writeTree_.setTree(e,i);return new Ht(o)}}}function jp(t,e,n){let r=t;return ht(n,(i,o)=>{r=wo(r,Me(e,i),o)}),r}function Bp(t,e){if(q(e))return Ht.empty();{const n=t.writeTree_.setTree(e,new ge(null));return new Ht(n)}}function Nc(t,e){return zr(t,e)!=null}function zr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(tt(n.path,e)):null}function Wp(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ke,(r,i)=>{e.push(new Y(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Y(r,i.value))}),e}function Kn(t,e){if(q(e))return t;{const n=zr(t,e);return n!=null?new Ht(new ge(n)):new Ht(t.writeTree_.subtree(e))}}function Pc(t){return t.writeTree_.isEmpty()}function Ii(t,e){return W_(ne(),t.writeTree_,e)}function W_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(P(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=W_(Me(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Me(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t,e){return G_(e,t)}function PT(t,e,n,r,i){P(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=wo(t.visibleWrites,e,n)),t.lastWriteId=r}function DT(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function LT(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);P(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const l=t.allWrites[s];l.visible&&(s>=n&&AT(l,r.path)?i=!1:Ut(r.path,l.path)&&(o=!0)),s--}if(i){if(o)return MT(t),!0;if(r.snap)t.visibleWrites=Bp(t.visibleWrites,r.path);else{const l=r.children;ht(l,a=>{t.visibleWrites=Bp(t.visibleWrites,Me(r.path,a))})}return!0}else return!1}function AT(t,e){if(t.snap)return Ut(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ut(Me(t.path,n),e))return!0;return!1}function MT(t){t.visibleWrites=H_(t.allWrites,OT,ne()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function OT(t){return t.visible}function H_(t,e,n){let r=Ht.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let l;if(o.snap)Ut(n,s)?(l=tt(n,s),r=wo(r,l,o.snap)):Ut(s,n)&&(l=tt(s,n),r=wo(r,ne(),o.snap.getChild(l)));else if(o.children){if(Ut(n,s))l=tt(n,s),r=jp(r,l,o.children);else if(Ut(s,n))if(l=tt(s,n),q(l))r=jp(r,ne(),o.children);else{const a=xi(o.children,X(l));if(a){const u=a.getChild(he(l));r=wo(r,ne(),u)}}}else throw Li("WriteRecord should have .snap or .children")}}return r}function $_(t,e,n,r,i){if(!r&&!i){const o=zr(t.visibleWrites,e);if(o!=null)return o;{const s=Kn(t.visibleWrites,e);if(Pc(s))return n;if(n==null&&!Nc(s,ne()))return null;{const l=n||W.EMPTY_NODE;return Ii(s,l)}}}else{const o=Kn(t.visibleWrites,e);if(!i&&Pc(o))return n;if(!i&&n==null&&!Nc(o,ne()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ut(u.path,e)||Ut(e,u.path))},l=H_(t.allWrites,s,e),a=n||W.EMPTY_NODE;return Ii(l,a)}}}function FT(t,e,n){let r=W.EMPTY_NODE;const i=zr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ke,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=Kn(t.visibleWrites,e);return n.forEachChild(ke,(s,l)=>{const a=Ii(Kn(o,new ue(s)),l);r=r.updateImmediateChild(s,a)}),Wp(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=Kn(t.visibleWrites,e);return Wp(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function bT(t,e,n,r,i){P(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Me(e,n);if(Nc(t.visibleWrites,o))return null;{const s=Kn(t.visibleWrites,o);return Pc(s)?i.getChild(n):Ii(s,i.getChild(n))}}function zT(t,e,n,r){const i=Me(e,n),o=zr(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=Kn(t.visibleWrites,i);return Ii(s,r.getNode().getImmediateChild(n))}else return null}function UT(t,e){return zr(t.visibleWrites,e)}function jT(t,e,n,r,i,o,s){let l;const a=Kn(t.visibleWrites,e),u=zr(a,ne());if(u!=null)l=u;else if(n!=null)l=Ii(a,n);else return[];if(l=l.withIndex(s),!l.isEmpty()&&!l.isLeafNode()){const f=[],c=s.getCompare(),d=o?l.getReverseIteratorFrom(r,s):l.getIteratorFrom(r,s);let p=d.getNext();for(;p&&f.length<i;)c(p,r)!==0&&f.push(p),p=d.getNext();return f}else return[]}function BT(){return{visibleWrites:Ht.empty(),allWrites:[],lastWriteId:-1}}function Vl(t,e,n,r){return $_(t.writeTree,t.treePath,e,n,r)}function ef(t,e){return FT(t.writeTree,t.treePath,e)}function Hp(t,e,n,r){return bT(t.writeTree,t.treePath,e,n,r)}function Gl(t,e){return UT(t.writeTree,Me(t.treePath,e))}function WT(t,e,n,r,i,o){return jT(t.writeTree,t.treePath,e,n,r,i,o)}function tf(t,e,n){return zT(t.writeTree,t.treePath,e,n)}function V_(t,e){return G_(Me(t.treePath,e),t.writeTree)}function G_(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;P(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),P(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Qo(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Go(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,ki(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Qo(r,e.snapshotNode,i.oldSnap));else throw Li("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Q_=new $T;class nf{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new nr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return tf(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Mr(this.viewCache_),o=WT(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t){return{filter:t}}function GT(t,e){P(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),P(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function QT(t,e,n,r,i){const o=new HT;let s,l;if(n.type===jt.OVERWRITE){const u=n;u.source.fromUser?s=Dc(t,e,u.path,u.snap,r,i,o):(P(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!q(u.path),s=Ql(t,e,u.path,u.snap,r,i,l,o))}else if(n.type===jt.MERGE){const u=n;u.source.fromUser?s=YT(t,e,u.path,u.children,r,i,o):(P(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),s=Lc(t,e,u.path,u.children,r,i,l,o))}else if(n.type===jt.ACK_USER_WRITE){const u=n;u.revert?s=JT(t,e,u.path,r,i,o):s=qT(t,e,u.path,u.affectedTree,r,i,o)}else if(n.type===jt.LISTEN_COMPLETE)s=XT(t,e,n.path,r,o);else throw Li("Unknown operation type: "+n.type);const a=o.getChanges();return KT(e,s,a),{viewCache:s,changes:a}}function KT(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=$l(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(z_($l(e)))}}function K_(t,e,n,r,i,o){const s=e.eventCache;if(Gl(r,n)!=null)return e;{let l,a;if(q(n))if(P(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Mr(e),f=u instanceof W?u:W.EMPTY_NODE,c=ef(r,f);l=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const u=Vl(r,Mr(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=X(n);if(u===".priority"){P(tr(n)===1,"Can't have a priority with additional path components");const f=s.getNode();a=e.serverCache.getNode();const c=Hp(r,n,f,a);c!=null?l=t.filter.updatePriority(f,c):l=s.getNode()}else{const f=he(n);let c;if(s.isCompleteForChild(u)){a=e.serverCache.getNode();const d=Hp(r,n,s.getNode(),a);d!=null?c=s.getNode().getImmediateChild(u).updateChild(f,d):c=s.getNode().getImmediateChild(u)}else c=tf(r,u,e.serverCache);c!=null?l=t.filter.updateChild(s.getNode(),u,c,f,i,o):l=s.getNode()}}return yo(e,l,s.isFullyInitialized()||q(n),t.filter.filtersNodes())}}function Ql(t,e,n,r,i,o,s,l){const a=e.serverCache;let u;const f=s?t.filter:t.filter.getIndexedFilter();if(q(n))u=f.updateFullNode(a.getNode(),r,null);else if(f.filtersNodes()&&!a.isFiltered()){const p=a.getNode().updateChild(n,r);u=f.updateFullNode(a.getNode(),p,null)}else{const p=X(n);if(!a.isCompleteForPath(n)&&tr(n)>1)return e;const _=he(n),x=a.getNode().getImmediateChild(p).updateChild(_,r);p===".priority"?u=f.updatePriority(a.getNode(),x):u=f.updateChild(a.getNode(),p,x,_,Q_,null)}const c=B_(e,u,a.isFullyInitialized()||q(n),f.filtersNodes()),d=new nf(i,c,o);return K_(t,c,n,i,d,l)}function Dc(t,e,n,r,i,o,s){const l=e.eventCache;let a,u;const f=new nf(i,e,o);if(q(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),a=yo(e,u,!0,t.filter.filtersNodes());else{const c=X(n);if(c===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=yo(e,u,l.isFullyInitialized(),l.isFiltered());else{const d=he(n),p=l.getNode().getImmediateChild(c);let _;if(q(d))_=r;else{const E=f.getCompleteChild(c);E!=null?R_(d)===".priority"&&E.getChild(P_(d)).isEmpty()?_=E:_=E.updateChild(d,r):_=W.EMPTY_NODE}if(p.equals(_))a=e;else{const E=t.filter.updateChild(l.getNode(),c,_,d,f,s);a=yo(e,E,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function $p(t,e){return t.eventCache.isCompleteForChild(e)}function YT(t,e,n,r,i,o,s){let l=e;return r.foreach((a,u)=>{const f=Me(n,a);$p(e,X(f))&&(l=Dc(t,l,f,u,i,o,s))}),r.foreach((a,u)=>{const f=Me(n,a);$p(e,X(f))||(l=Dc(t,l,f,u,i,o,s))}),l}function Vp(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Lc(t,e,n,r,i,o,s,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;q(n)?u=r:u=new ge(null).setTree(n,r);const f=e.serverCache.getNode();return u.children.inorderTraversal((c,d)=>{if(f.hasChild(c)){const p=e.serverCache.getNode().getImmediateChild(c),_=Vp(t,p,d);a=Ql(t,a,new ue(c),_,i,o,s,l)}}),u.children.inorderTraversal((c,d)=>{const p=!e.serverCache.isCompleteForChild(c)&&d.value===null;if(!f.hasChild(c)&&!p){const _=e.serverCache.getNode().getImmediateChild(c),E=Vp(t,_,d);a=Ql(t,a,new ue(c),E,i,o,s,l)}}),a}function qT(t,e,n,r,i,o,s){if(Gl(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(q(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Ql(t,e,n,a.getNode().getChild(n),i,o,l,s);if(q(n)){let u=new ge(null);return a.getNode().forEachChild(gi,(f,c)=>{u=u.set(new ue(f),c)}),Lc(t,e,n,u,i,o,l,s)}else return e}else{let u=new ge(null);return r.foreach((f,c)=>{const d=Me(n,f);a.isCompleteForPath(d)&&(u=u.set(f,a.getNode().getChild(d)))}),Lc(t,e,n,u,i,o,l,s)}}function XT(t,e,n,r,i){const o=e.serverCache,s=B_(e,o.getNode(),o.isFullyInitialized()||q(n),o.isFiltered());return K_(t,s,n,r,Q_,i)}function JT(t,e,n,r,i,o){let s;if(Gl(r,n)!=null)return e;{const l=new nf(r,e,i),a=e.eventCache.getNode();let u;if(q(n)||X(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=Vl(r,Mr(e));else{const c=e.serverCache.getNode();P(c instanceof W,"serverChildren would be complete if leaf node"),f=ef(r,c)}f=f,u=t.filter.updateFullNode(a,f,o)}else{const f=X(n);let c=tf(r,f,e.serverCache);c==null&&e.serverCache.isCompleteForChild(f)&&(c=a.getImmediateChild(f)),c!=null?u=t.filter.updateChild(a,f,c,he(n),l,o):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(a,f,W.EMPTY_NODE,he(n),l,o):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Vl(r,Mr(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||Gl(r,ne())!=null,yo(e,u,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new qd(r.getIndex()),o=_T(r);this.processor_=VT(o);const s=n.serverCache,l=n.eventCache,a=i.updateFullNode(W.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(W.EMPTY_NODE,l.getNode(),null),f=new nr(a,s.isFullyInitialized(),i.filtersNodes()),c=new nr(u,l.isFullyInitialized(),o.filtersNodes());this.viewCache_=ya(c,f),this.eventGenerator_=new TT(this.query_)}get query(){return this.query_}}function ek(t){return t.viewCache_.serverCache.getNode()}function tk(t){return $l(t.viewCache_)}function nk(t,e){const n=Mr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!q(e)&&!n.getImmediateChild(X(e)).isEmpty())?n.getChild(e):null}function Gp(t){return t.eventRegistrations_.length===0}function rk(t,e){t.eventRegistrations_.push(e)}function Qp(t,e,n){const r=[];if(n){P(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Kp(t,e,n,r){e.type===jt.MERGE&&e.source.queryId!==null&&(P(Mr(t.viewCache_),"We should always have a full cache before handling merges"),P($l(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=QT(t.processor_,i,e,n,r);return GT(t.processor_,o.viewCache),P(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Y_(t,o.changes,o.viewCache.eventCache.getNode(),null)}function ik(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ke,(o,s)=>{r.push(ki(o,s))}),n.isFullyInitialized()&&r.push(z_(n.getNode())),Y_(t,r,n.getNode(),e)}function Y_(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return kT(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl;class q_{constructor(){this.views=new Map}}function ok(t){P(!Kl,"__referenceConstructor has already been defined"),Kl=t}function sk(){return P(Kl,"Reference.ts has not been loaded"),Kl}function lk(t){return t.views.size===0}function rf(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return P(o!=null,"SyncTree gave us an op for an invalid query."),Kp(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(Kp(s,e,n,r));return o}}function X_(t,e,n,r,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let l=Vl(n,i?r:null),a=!1;l?a=!0:r instanceof W?(l=ef(n,r),a=!1):(l=W.EMPTY_NODE,a=!1);const u=ya(new nr(l,a,!1),new nr(r,i,!1));return new ZT(e,u)}return s}function ak(t,e,n,r,i,o){const s=X_(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),rk(s,n),ik(s,n)}function uk(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const l=rr(t);if(i==="default")for(const[a,u]of t.views.entries())s=s.concat(Qp(u,n,r)),Gp(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||o.push(u.query));else{const a=t.views.get(i);a&&(s=s.concat(Qp(a,n,r)),Gp(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||o.push(a.query)))}return l&&!rr(t)&&o.push(new(sk())(e._repo,e._path)),{removed:o,events:s}}function J_(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Yn(t,e){let n=null;for(const r of t.views.values())n=n||nk(r,e);return n}function Z_(t,e){if(e._queryParams.loadsAllData())return Ea(t);{const r=e._queryIdentifier;return t.views.get(r)}}function ey(t,e){return Z_(t,e)!=null}function rr(t){return Ea(t)!=null}function Ea(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl;function ck(t){P(!Yl,"__referenceConstructor has already been defined"),Yl=t}function dk(){return P(Yl,"Reference.ts has not been loaded"),Yl}let fk=1;class Yp{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ge(null),this.pendingWriteTree_=BT(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ty(t,e,n,r,i){return PT(t.pendingWriteTree_,e,n,r,i),i?hs(t,new Ar(j_(),e,n)):[]}function Cr(t,e,n=!1){const r=DT(t.pendingWriteTree_,e);if(LT(t.pendingWriteTree_,e)){let o=new ge(null);return r.snap!=null?o=o.set(ne(),!0):ht(r.children,s=>{o=o.set(new ue(s),!0)}),hs(t,new Hl(r.path,o,n))}else return[]}function fs(t,e,n){return hs(t,new Ar(Jd(),e,n))}function hk(t,e,n){const r=ge.fromObject(n);return hs(t,new qo(Jd(),e,r))}function pk(t,e){return hs(t,new Yo(Jd(),e))}function mk(t,e,n){const r=sf(t,n);if(r){const i=lf(r),o=i.path,s=i.queryId,l=tt(o,e),a=new Yo(Zd(s),l);return af(t,o,a)}else return[]}function ny(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let l=[];if(s&&(e._queryIdentifier==="default"||ey(s,e))){const a=uk(s,e,n,r);lk(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const u=a.removed;if(l=a.events,!i){const f=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,c=t.syncPointTree_.findOnPath(o,(d,p)=>rr(p));if(f&&!c){const d=t.syncPointTree_.subtree(o);if(!d.isEmpty()){const p=yk(d);for(let _=0;_<p.length;++_){const E=p[_],x=E.query,m=sy(t,E);t.listenProvider_.startListening(Eo(x),Xo(t,x),m.hashFn,m.onComplete)}}}!c&&u.length>0&&!r&&(f?t.listenProvider_.stopListening(Eo(e),null):u.forEach(d=>{const p=t.queryToTagMap.get(Ca(d));t.listenProvider_.stopListening(Eo(d),p)}))}wk(t,u)}return l}function ry(t,e,n,r){const i=sf(t,r);if(i!=null){const o=lf(i),s=o.path,l=o.queryId,a=tt(s,e),u=new Ar(Zd(l),a,n);return af(t,s,u)}else return[]}function gk(t,e,n,r){const i=sf(t,r);if(i){const o=lf(i),s=o.path,l=o.queryId,a=tt(s,e),u=ge.fromObject(n),f=new qo(Zd(l),a,u);return af(t,s,f)}else return[]}function vk(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(d,p)=>{const _=tt(d,i);o=o||Yn(p,_),s=s||rr(p)});let l=t.syncPointTree_.get(i);l?(s=s||rr(l),o=o||Yn(l,ne())):(l=new q_,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;o!=null?a=!0:(a=!1,o=W.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,_)=>{const E=Yn(_,ne());E&&(o=o.updateImmediateChild(p,E))}));const u=ey(l,e);if(!u&&!e._queryParams.loadsAllData()){const d=Ca(e);P(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const p=Ek();t.queryToTagMap.set(d,p),t.tagToQueryMap.set(p,d)}const f=wa(t.pendingWriteTree_,i);let c=ak(l,e,n,f,o,a);if(!u&&!s&&!r){const d=Z_(l,e);c=c.concat(Ck(t,e,d))}return c}function of(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,l)=>{const a=tt(s,e),u=Yn(l,a);if(u)return u});return $_(i,e,o,n,!0)}function _k(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,f)=>{const c=tt(u,n);r=r||Yn(f,c)});let i=t.syncPointTree_.get(n);i?r=r||Yn(i,ne()):(i=new q_,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=r!=null,s=o?new nr(r,!0,!1):null,l=wa(t.pendingWriteTree_,e._path),a=X_(i,e,l,o?s.getNode():W.EMPTY_NODE,o);return tk(a)}function hs(t,e){return iy(e,t.syncPointTree_,null,wa(t.pendingWriteTree_,ne()))}function iy(t,e,n,r){if(q(t.path))return oy(t,e,n,r);{const i=e.get(ne());n==null&&i!=null&&(n=Yn(i,ne()));let o=[];const s=X(t.path),l=t.operationForChild(s),a=e.children.get(s);if(a&&l){const u=n?n.getImmediateChild(s):null,f=V_(r,s);o=o.concat(iy(l,a,u,f))}return i&&(o=o.concat(rf(i,t,r,n))),o}}function oy(t,e,n,r){const i=e.get(ne());n==null&&i!=null&&(n=Yn(i,ne()));let o=[];return e.children.inorderTraversal((s,l)=>{const a=n?n.getImmediateChild(s):null,u=V_(r,s),f=t.operationForChild(s);f&&(o=o.concat(oy(f,l,a,u)))}),i&&(o=o.concat(rf(i,t,r,n))),o}function sy(t,e){const n=e.query,r=Xo(t,n);return{hashFn:()=>(ek(e)||W.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?mk(t,n._path,r):pk(t,n._path);{const o=vx(i,n);return ny(t,n,null,o)}}}}function Xo(t,e){const n=Ca(e);return t.queryToTagMap.get(n)}function Ca(t){return t._path.toString()+"$"+t._queryIdentifier}function sf(t,e){return t.tagToQueryMap.get(e)}function lf(t){const e=t.indexOf("$");return P(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ue(t.substr(0,e))}}function af(t,e,n){const r=t.syncPointTree_.get(e);P(r,"Missing sync point for query tag that we're tracking");const i=wa(t.pendingWriteTree_,e);return rf(r,n,i,null)}function yk(t){return t.fold((e,n,r)=>{if(n&&rr(n))return[Ea(n)];{let i=[];return n&&(i=J_(n)),ht(r,(o,s)=>{i=i.concat(s)}),i}})}function Eo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(dk())(t._repo,t._path):t}function wk(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Ca(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function Ek(){return fk++}function Ck(t,e,n){const r=e._path,i=Xo(t,e),o=sy(t,n),s=t.listenProvider_.startListening(Eo(e),i,o.hashFn,o.onComplete),l=t.syncPointTree_.subtree(r);if(i)P(!rr(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,f,c)=>{if(!q(u)&&f&&rr(f))return[Ea(f).query];{let d=[];return f&&(d=d.concat(J_(f).map(p=>p.query))),ht(c,(p,_)=>{d=d.concat(_)}),d}});for(let u=0;u<a.length;++u){const f=a[u];t.listenProvider_.stopListening(Eo(f),Xo(t,f))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new uf(n)}node(){return this.node_}}class cf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Me(this.path_,e);return new cf(this.syncTree_,n)}node(){return of(this.syncTree_,this.path_)}}const Sk=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},qp=function(t,e,n){if(!t||typeof t!="object")return t;if(P(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return xk(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Tk(t[".sv"],e);P(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},xk=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:P(!1,"Unexpected server value: "+t)}},Tk=function(t,e,n){t.hasOwnProperty("increment")||P(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&P(!1,"Unexpected increment value: "+r);const i=e.node();if(P(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},kk=function(t,e,n,r){return df(e,new cf(n,t),r)},ly=function(t,e,n){return df(t,new uf(e),n)};function df(t,e,n){const r=t.getPriority().val(),i=qp(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,l=qp(s.getValue(),e,n);return l!==s.getValue()||i!==s.getPriority().val()?new Fe(l,Ue(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Fe(i))),s.forEachChild(ke,(l,a)=>{const u=df(a,e.getImmediateChild(l),n);u!==a&&(o=o.updateImmediateChild(l,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function hf(t,e){let n=e instanceof ue?e:new ue(e),r=t,i=X(n);for(;i!==null;){const o=xi(r.node.children,i)||{children:{},childCount:0};r=new ff(i,r,o),n=he(n),i=X(n)}return r}function Oi(t){return t.node.value}function ay(t,e){t.node.value=e,Ac(t)}function uy(t){return t.node.childCount>0}function Ik(t){return Oi(t)===void 0&&!uy(t)}function Sa(t,e){ht(t.node.children,(n,r)=>{e(new ff(n,t,r))})}function cy(t,e,n,r){n&&!r&&e(t),Sa(t,i=>{cy(i,e,!0,r)}),n&&r&&e(t)}function Rk(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ps(t){return new ue(t.parent===null?t.name:ps(t.parent)+"/"+t.name)}function Ac(t){t.parent!==null&&Nk(t.parent,t.name,t)}function Nk(t,e,n){const r=Ik(n),i=Cn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ac(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Ac(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=/[\[\].#$\/\u0000-\u001F\u007F]/,Dk=/[\[\].#$\u0000-\u001F\u007F]/,wu=10*1024*1024,dy=function(t){return typeof t=="string"&&t.length!==0&&!Pk.test(t)},fy=function(t){return typeof t=="string"&&t.length!==0&&!Dk.test(t)},Lk=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),fy(t)},hy=function(t,e,n,r){r&&e===void 0||pf(Wd(t,"value"),e,n)},pf=function(t,e,n){const r=n instanceof ue?new qx(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+pr(r));if(typeof e=="function")throw new Error(t+"contains a function "+pr(r)+" with contents = "+e.toString());if(l_(e))throw new Error(t+"contains "+e.toString()+" "+pr(r));if(typeof e=="string"&&e.length>wu/3&&va(e)>wu)throw new Error(t+"contains a string greater than "+wu+" utf8 bytes "+pr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(ht(e,(s,l)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!dy(s)))throw new Error(t+" contains an invalid key ("+s+") "+pr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Xx(r,s),pf(t,l,r),Jx(r)}),i&&o)throw new Error(t+' contains ".value" child '+pr(r)+" in addition to actual children.")}},py=function(t,e,n,r){if(!(r&&n===void 0)&&!fy(n))throw new Error(Wd(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Ak=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),py(t,e,n,r)},mf=function(t,e){if(X(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Mk=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!dy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Lk(n))throw new Error(Wd(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function my(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!D_(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function en(t,e,n){my(t,n),Fk(t,r=>Ut(r,e)||Ut(e,r))}function Fk(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(bk(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function bk(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Tr&&Ye("event: "+n.toString()),Mi(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="repo_interrupt",Uk=25;class jk{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ok,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wl(),this.transactionQueueTree_=new ff,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Bk(t,e,n){if(t.stats_=Gd(t.repoInfo_),t.forceRestClient_||Ex())t.server_=new Bl(t.repoInfo_,(r,i,o,s)=>{Xp(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Jp(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ae(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new fn(t.repoInfo_,e,(r,i,o,s)=>{Xp(t,r,i,o,s)},r=>{Jp(t,r)},r=>{Wk(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=kx(t.repoInfo_,()=>new xT(t.stats_,t.server_)),t.infoData_=new yT,t.infoSyncTree_=new Yp({startListening:(r,i,o,s)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=fs(t.infoSyncTree_,r._path,a),setTimeout(()=>{s("ok")},0)),l},stopListening:()=>{}}),vf(t,"connected",!1),t.serverSyncTree_=new Yp({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(l,a)=>{const u=s(l,a);en(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function gy(t){const n=t.infoData_.getNode(new ue(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function gf(t){return Sk({timestamp:gy(t)})}function Xp(t,e,n,r,i){t.dataUpdateCount++;const o=new ue(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const a=Ml(n,u=>Ue(u));s=gk(t.serverSyncTree_,o,a,i)}else{const a=Ue(n);s=ry(t.serverSyncTree_,o,a,i)}else if(r){const a=Ml(n,u=>Ue(u));s=hk(t.serverSyncTree_,o,a)}else{const a=Ue(n);s=fs(t.serverSyncTree_,o,a)}let l=o;s.length>0&&(l=Ta(t,o)),en(t.eventQueue_,l,s)}function Jp(t,e){vf(t,"connected",e),e===!1&&Vk(t)}function Wk(t,e){ht(e,(n,r)=>{vf(t,n,r)})}function vf(t,e,n){const r=new ue("/.info/"+e),i=Ue(n);t.infoData_.updateSnapshot(r,i);const o=fs(t.infoSyncTree_,r,i);en(t.eventQueue_,r,o)}function vy(t){return t.nextWriteId_++}function Hk(t,e,n){const r=_k(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const o=Ue(i).withIndex(e._queryParams.getIndex());vk(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=fs(t.serverSyncTree_,e._path,o);else{const l=Xo(t.serverSyncTree_,e);s=ry(t.serverSyncTree_,e._path,o,l)}return en(t.eventQueue_,e._path,s),ny(t.serverSyncTree_,e,n,null,!0),o},i=>(xa(t,"get for query "+Ae(e)+" failed: "+i),Promise.reject(new Error(i))))}function $k(t,e,n,r,i){xa(t,"set",{path:e.toString(),value:n,priority:r});const o=gf(t),s=Ue(n,r),l=of(t.serverSyncTree_,e),a=ly(s,l,o),u=vy(t),f=ty(t.serverSyncTree_,e,a,u,!0);my(t.eventQueue_,f),t.server_.put(e.toString(),s.val(!0),(d,p)=>{const _=d==="ok";_||ft("set at "+e+" failed: "+d);const E=Cr(t.serverSyncTree_,u,!_);en(t.eventQueue_,e,E),Qk(t,i,d,p)});const c=Cy(t,e);Ta(t,c),en(t.eventQueue_,c,[])}function Vk(t){xa(t,"onDisconnectEvents");const e=gf(t),n=Wl();Rc(t.onDisconnect_,ne(),(i,o)=>{const s=kk(i,o,t.serverSyncTree_,e);U_(n,i,s)});let r=[];Rc(n,ne(),(i,o)=>{r=r.concat(fs(t.serverSyncTree_,i,o));const s=Cy(t,i);Ta(t,s)}),t.onDisconnect_=Wl(),en(t.eventQueue_,ne(),r)}function Gk(t){t.persistentConnection_&&t.persistentConnection_.interrupt(zk)}function xa(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ye(n,...e)}function Qk(t,e,n,r){e&&Mi(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function _y(t,e,n){return of(t.serverSyncTree_,e,n)||W.EMPTY_NODE}function _f(t,e=t.transactionQueueTree_){if(e||ka(t,e),Oi(e)){const n=wy(t,e);P(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Kk(t,ps(e),n)}else uy(e)&&Sa(e,n=>{_f(t,n)})}function Kk(t,e,n){const r=n.map(u=>u.currentWriteId),i=_y(t,e,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const f=n[u];P(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const c=tt(e,f.path);o=o.updateChild(c,f.currentOutputSnapshotRaw)}const l=o.val(!0),a=e;t.server_.put(a.toString(),l,u=>{xa(t,"transaction put response",{path:a.toString(),status:u});let f=[];if(u==="ok"){const c=[];for(let d=0;d<n.length;d++)n[d].status=2,f=f.concat(Cr(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&c.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();ka(t,hf(t.transactionQueueTree_,e)),_f(t,t.transactionQueueTree_),en(t.eventQueue_,e,f);for(let d=0;d<c.length;d++)Mi(c[d])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{ft("transaction at "+a.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}Ta(t,e)}},s)}function Ta(t,e){const n=yy(t,e),r=ps(n),i=wy(t,n);return Yk(t,i,r),r}function Yk(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],u=tt(n,a.path);let f=!1,c;if(P(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)f=!0,c=a.abortReason,i=i.concat(Cr(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=Uk)f=!0,c="maxretry",i=i.concat(Cr(t.serverSyncTree_,a.currentWriteId,!0));else{const d=_y(t,a.path,s);a.currentInputSnapshot=d;const p=e[l].update(d.val());if(p!==void 0){pf("transaction failed: Data returned ",p,a.path);let _=Ue(p);typeof p=="object"&&p!=null&&Cn(p,".priority")||(_=_.updatePriority(d.getPriority()));const x=a.currentWriteId,m=gf(t),h=ly(_,d,m);a.currentOutputSnapshotRaw=_,a.currentOutputSnapshotResolved=h,a.currentWriteId=vy(t),s.splice(s.indexOf(x),1),i=i.concat(ty(t.serverSyncTree_,a.path,h,a.currentWriteId,a.applyLocally)),i=i.concat(Cr(t.serverSyncTree_,x,!0))}else f=!0,c="nodata",i=i.concat(Cr(t.serverSyncTree_,a.currentWriteId,!0))}en(t.eventQueue_,n,i),i=[],f&&(e[l].status=2,function(d){setTimeout(d,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(c==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(c),!1,null))))}ka(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Mi(r[l]);_f(t,t.transactionQueueTree_)}function yy(t,e){let n,r=t.transactionQueueTree_;for(n=X(e);n!==null&&Oi(r)===void 0;)r=hf(r,n),e=he(e),n=X(e);return r}function wy(t,e){const n=[];return Ey(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Ey(t,e,n){const r=Oi(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Sa(e,i=>{Ey(t,i,n)})}function ka(t,e){const n=Oi(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,ay(e,n.length>0?n:void 0)}Sa(e,r=>{ka(t,r)})}function Cy(t,e){const n=ps(yy(t,e)),r=hf(t.transactionQueueTree_,e);return Rk(r,i=>{Eu(t,i)}),Eu(t,r),cy(r,i=>{Eu(t,i)}),n}function Eu(t,e){const n=Oi(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(P(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(P(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Cr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?ay(e,void 0):n.length=o+1,en(t.eventQueue_,ps(e),i);for(let s=0;s<r.length;s++)Mi(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Xk(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ft(`Invalid query segment '${n}' in query '${t}'`)}return e}const Zp=function(t,e){const n=Jk(t),r=n.namespace;n.domain==="firebase.com"&&_n(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&_n("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||fx();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new y_(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ue(n.pathString)}},Jk=function(t){let e="",n="",r="",i="",o="",s=!0,l="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(f,c)),f<c&&(i=qk(t.substring(f,c)));const d=Xk(t.substring(Math.min(t.length,c)));u=e.indexOf(":"),u>=0?(s=l==="https"||l==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),o=r}"ns"in d&&(o=d.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:s,scheme:l,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Zk=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const o=new Array(8);for(i=7;i>=0;i--)o[i]=em.charAt(n%64),n=Math.floor(n/64);P(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=em.charAt(e[i]);return P(s.length===20,"nextPushId: Length should be 20."),s}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ae(this.snapshot.exportVal())}}class tI{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return P(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return q(this._path)?null:R_(this._path)}get ref(){return new Sn(this._repo,this._path)}get _queryIdentifier(){const e=zp(this._queryParams),n=$d(e);return n==="{}"?"default":n}get _queryObject(){return zp(this._queryParams)}isEqual(e){if(e=br(e),!(e instanceof yf))return!1;const n=this._repo===e._repo,r=D_(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Yx(this._path)}}class Sn extends yf{constructor(e,n){super(e,n,new Xd,!1)}get parent(){const e=P_(this._path);return e===null?null:new Sn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Jo{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ue(e),r=Zo(this.ref,e);return new Jo(this._node.getChild(n),r,ke)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Jo(i,Zo(this.ref,r),ke)))}hasChild(e){const n=new ue(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function pt(t,e){return t=br(t),t._checkNotDeleted("ref"),e!==void 0?Zo(t._root,e):t._root}function Zo(t,e){return t=br(t),X(t._path)===null?Ak("child","path",e,!1):py("child","path",e,!1),new Sn(t._repo,Me(t._path,e))}function Ia(t,e){t=br(t),mf("push",t._path),hy("push",e,t._path,!0);const n=gy(t._repo),r=Zk(n),i=Zo(t,r),o=Zo(t,r);let s;return e!=null?s=tn(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function wf(t){return mf("remove",t._path),tn(t,null)}function tn(t,e){t=br(t),mf("set",t._path),hy("set",e,t._path,!1);const n=new ga;return $k(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Gt(t){t=br(t);const e=new nI(()=>{}),n=new Ef(e);return Hk(t._repo,t,n).then(r=>new Jo(r,new Sn(t._repo,t._path),t._queryParams.getIndex()))}class Ef{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new eI("value",this,new Jo(e.snapshotNode,new Sn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new tI(this,e,n):null}matches(e){return e instanceof Ef?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}ok(Sn);ck(Sn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="FIREBASE_DATABASE_EMULATOR_HOST",Mc={};let iI=!1;function oI(t,e,n,r){const i=e.lastIndexOf(":"),o=e.substring(0,i),s=Bd(o);t.repoInfo_=new y_(e,s,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function sI(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||_n("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ye("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=Zp(o,i),l=s.repoInfo,a,u;typeof process<"u"&&process.env&&(u=process.env[rI]),u?(a=!0,o=`http://${u}?ns=${l.namespace}`,s=Zp(o,i),l=s.repoInfo):a=!s.repoInfo.secure;const f=i&&a?new mi(mi.OWNER):new Sx(t.name,t.options,e);Mk("Invalid Firebase Database URL",s),q(s.path)||_n("Database URL must point to the root of a Firebase Database (not including a child path).");const c=aI(l,t,f,new Cx(t,n));return new uI(c,t)}function lI(t,e){const n=Mc[e];(!n||n[t.key]!==t)&&_n(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Gk(t),delete n[t.key]}function aI(t,e,n,r){let i=Mc[e.name];i||(i={},Mc[e.name]=i);let o=i[t.toURLString()];return o&&_n("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new jk(t,iI,n,r),i[t.toURLString()]=o,o}class uI{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Bk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Sn(this._repo,ne())),this._rootInternal}_delete(){return this._rootInternal!==null&&(lI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&_n("Cannot call "+e+" on a deleted database.")}}function cI(t=KS(),e){const n=HS(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=NC("database");r&&dI(n,...r)}return n}function dI(t,e,n,r={}){t=br(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Ol(r,o.repoInfo_.emulatorOptions))return;_n("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&_n('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new mi(mi.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:DC(r.mockUserToken,t.app.options.projectId);s=new mi(l)}Bd(e)&&(PC(e),MC("Database",!0)),oI(o,i,r,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t){lx(QS),bl(new Ho("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return sI(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),hi(Ep,Cp,t),hi(Ep,Cp,"esm2020")}fn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};fn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};fI();const hI={apiKey:"AIzaSyBZrH8urTLPrdmzpFVk_FCtipyhPjtGxcI",authDomain:"notes-146bd.firebaseapp.com",projectId:"notes-146bd",databaseURL:"https://notes-146bd-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"notes-146bd.firebasestorage.app",messagingSenderId:"599771691003",appId:"1:599771691003:web:fc08b5b85f0e8e53ae7d5e"},pI=t_(hI),mt=cI(pI),mI=async()=>{try{const t=pt(mt,"folders"),e=await Gt(t);if(e.exists()){const n=[],r=e.val();return Array.isArray(r)?r.forEach((i,o)=>{i&&n.push({id:String(o),...i})}):Object.entries(r).forEach(([i,o])=>{o&&n.push({id:i,...o})}),n}return[]}catch(t){return console.error("Error getting folders:",t),[]}},gI=async t=>{try{const e=pt(mt,"folders"),n=Ia(e);return await tn(n,{name:t}),{id:n.key,name:t}}catch(e){throw console.error("Error creating folder:",e),e}},vI=async t=>{try{const e=pt(mt,"notes"),n=await Gt(e);if(n.exists()){const r=[],i=n.val();return Array.isArray(i)?i.forEach((o,s)=>{o&&String(o.folderId)===String(t)&&r.push({id:String(s),...o})}):Object.entries(i).forEach(([o,s])=>{s&&String(s.folderId)===String(t)&&r.push({id:o,...s})}),r}return[]}catch(e){return console.error("Error getting notes:",e),[]}},Sy=async t=>{try{const e=pt(mt,`notes/${t}`),n=await Gt(e);return n.exists()?{id:t,...n.val()}:null}catch(e){return console.error("Error getting note:",e),null}},_I=async(t,e,n)=>{try{const r=pt(mt,"notes"),i=await Gt(r);if(i.exists()&&Array.isArray(i.val())){const s=i.val().length,l=pt(mt,`notes/${s}`);return await tn(l,{title:t,body:e,folderId:n,id:s}),{id:String(s),title:t,body:e,folderId:n}}else{const o=Ia(r);return await tn(o,{title:t,body:e,folderId:n}),{id:o.key,title:t,body:e,folderId:n}}}catch(r){throw console.error("Error creating note:",r),r}},yI=async(t,e,n)=>{try{const r=pt(mt,`notes/${t}`),i=await Gt(r);if(i.exists()){const o=i.val();return await tn(r,{...o,title:e,body:n}),!0}return!1}catch(r){throw console.error("Error updating note:",r),r}},wI=async()=>{try{const t=pt(mt,"archive"),e=await Gt(t);if(e.exists()){const n=[],r=e.val();return Array.isArray(r)?r.forEach((i,o)=>{i&&n.push({id:String(o),...i})}):Object.entries(r).forEach(([i,o])=>{o&&n.push({id:i,...o})}),n}return[]}catch(t){return console.error("Error getting archive:",t),[]}},xy=async t=>{try{const e=pt(mt,`archive/${t}`),n=await Gt(e);return n.exists()?{id:t,...n.val()}:null}catch(e){return console.error("Error getting archived note:",e),null}},EI=async t=>{try{const e=pt(mt,`notes/${t}`),n=await Gt(e);if(n.exists()){const r=n.val(),i=pt(mt,"archive"),o=await Gt(i);if(o.exists()&&Array.isArray(o.val())){const s=o.val();s.push(r),await tn(i,s)}else{const s=Ia(i);await tn(s,r)}return await wf(e),{id:t,...r}}return null}catch(e){throw console.error("Error moving to archive:",e),e}},CI=async t=>{try{const e=pt(mt,`archive/${t}`),n=await Gt(e);if(n.exists()){const r=n.val(),i=pt(mt,"notes"),o=await Gt(i);if(o.exists()&&Array.isArray(o.val())){const s=o.val();s.push(r),await tn(i,s)}else{const s=Ia(i);await tn(s,r)}return await wf(e),{id:t,...r}}return null}catch(e){throw console.error("Error restoring from archive:",e),e}},SI=async t=>{try{const e=pt(mt,`archive/${t}`);return await wf(e),!0}catch(e){throw console.error("Error deleting from archive:",e),e}},xI=({children:t})=>M.jsx("div",{className:oi["folders-column"],children:t}),TI=({children:t})=>M.jsx("div",{role:"list",className:oi["folders-list"],children:t});async function kI(t){const n=(await t.request.formData()).get("folder-name"),r=await gI(n);return os(`/notes/${r.id}`)}function II(){const t=zd();return M.jsxs(xI,{children:[M.jsxs(Pd,{children:[M.jsxs(go,{method:"post",action:"/","aria-label":"Utwrz nowy folder",children:[M.jsx("input",{name:"folder-name",className:oi["new-folder-input"],type:"text",defaultValue:"Nowy folder",placeholder:"Nazwa folderu","aria-label":"Nazwa nowego folderu"}),M.jsx(xv,{type:"submit","aria-label":"Dodaj nowy folder",children:"+"})]}),M.jsx(il,{to:"/archive",className:oi["archive-link-mobile"],"aria-label":"Przejd do archiwum",children:({isActive:e})=>M.jsx(ou,{active:e,icon:"archive",children:"Archiwum"})})]}),M.jsx(Sv,{className:oi["folders-title"],children:"Foldery"}),M.jsx(TI,{children:t.map((e,n)=>M.jsx(il,{to:`/notes/${e.id}`,"aria-label":`Folder ${e.name}`,children:({isActive:r})=>M.jsx(ou,{active:r,children:e.name})},n))}),M.jsx(il,{to:"/archive",className:oi["archive-link"],"aria-label":"Przejd do archiwum",children:({isActive:e})=>M.jsx(ou,{active:e,icon:"archive",children:"Archiwum"})})]})}const RI={"flex-container":"_flex-container_qpiwf_1"};function NI({children:t}){return M.jsx("div",{className:RI["flex-container"],children:t})}const PI="_loader_awzzp_1",tm={loader:PI,"lds-ring":"_lds-ring_awzzp_13"};function DI(){return M.jsx("div",{className:tm.loader,children:M.jsxs("div",{className:tm["lds-ring"],children:[M.jsx("div",{}),M.jsx("div",{}),M.jsx("div",{}),M.jsx("div",{})]})})}function LI(){const{state:t,formMethod:e}=OE(),n=(t==="loading"||t==="submitting")&&e!=="patch";return M.jsxs(NI,{children:[n&&M.jsx(DI,{}),M.jsx(II,{}),M.jsx(bv,{})]})}const AI="_container_1sv1c_17",Ty={"notes-container":"_notes-container_1sv1c_1","notes-list":"_notes-list_1sv1c_8",container:AI},MI="_active_1qcix_5",OI="_title_1qcix_22",FI="_body_1qcix_33",Hs={"short-note":"_short-note_1qcix_1",active:MI,title:OI,body:FI};function bI({note:t,active:e}){return M.jsxs("div",{className:fa(Hs["short-note"],e&&Hs.active),role:"listitem",children:[M.jsx("div",{className:Hs.title,children:t.title}),M.jsx("div",{className:Hs.body,children:t.body})]})}const zI=({children:t})=>M.jsx("div",{className:Ty["notes-container"],children:t}),UI=({children:t})=>M.jsx("div",{className:Ty["notes-list"],role:"list",children:t});async function jI({params:t}){const e=await _I("Nowa notatka","Tre notatki",t.folderId);return os(`/notes/${e.folderId}/note/${e.id}`)}function nm(){const t=zd(),e=lr();return M.jsxs(zI,{children:[M.jsxs(UI,{children:[M.jsxs(Pd,{children:[M.jsx(Sv,{children:"Notatki"}),M.jsx(go,{method:"POST","aria-label":"Utwrz now notatk",children:M.jsx(xv,{type:"submit","aria-label":"Dodaj now notatk",children:"+"})})]}),t.map((n,r)=>M.jsx(il,{to:e.pathname.includes("/archive")?`/archive/note/${n.id}`:`/notes/${n.folderId}/note/${n.id}`,"aria-label":`Notatka: ${n.title||"Bez tytuu"}`,children:({isActive:i})=>M.jsx(bI,{active:i,note:n})},r))]}),M.jsx(bv,{})]})}const BI="/notes/assets/restore-dcfc1cbf.svg",WI="_image_ksjfu_1",HI="_button_ksjfu_8",$I="_container_ksjfu_12",Pn={image:WI,button:HI,container:$I,"note-editor":"_note-editor_ksjfu_32","align-right":"_align-right_ksjfu_79",delete:"_delete_ksjfu_101"};function rm(t,e){let n=null;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>{t(...r)},e)}}const VI=({children:t})=>M.jsx("div",{className:Pn["note-editor"],children:t});async function GI({request:t,params:e}){const n=await t.formData(),r=n.get("title"),i=n.get("body");return await yI(e.noteId,r,i),null}async function QI({params:t}){const e=await Sy(t.noteId);if(!e)throw new Error;return await EI(t.noteId),os(`/notes/${e.folderId}`)}async function KI({params:t}){return await SI(t.noteId),os("/archive")}async function YI({request:t,params:e}){const n=await xy(e.noteId);if(!n)throw new Error;return await CI(e.noteId),os(`/notes/${n.folderId}`)}function im(){const t=zd(),e=Bv(),n=lr(),r=Di(),i=T.useCallback(rm(o=>{const s=o.target.closest("form");e(s,{method:"PATCH"})},300),[rm,e]);return M.jsxs("div",{className:Pn.container,children:[M.jsxs(Pd,{children:[r.pathname.includes("/archive")&&M.jsx(go,{method:"POST",action:"restore","aria-label":"Przywr notatk z archiwum",children:M.jsx("button",{className:Pn.button,"aria-label":"Przywr notatk",children:M.jsx("img",{className:Pn.image,src:BI,alt:"Ikona przywracania"})})}),M.jsx(go,{method:"DELETE",action:"delete","aria-label":"Usu notatk",children:M.jsx("button",{className:fa(Pn.button,Pn.delete,r.pathname.includes("archive")&&Pn["align-right"]),"aria-label":r.pathname.includes("/archive")?"Usu na zawsze":"Przenie do archiwum",children:M.jsx("img",{className:Pn.image,src:Ev,alt:"Ikona usuwania"})})})]}),M.jsx(go,{method:"PATCH",onChange:i,"aria-label":"Edytuj notatk",children:M.jsxs(VI,{children:[M.jsx("input",{type:"text",name:"title",defaultValue:t.title,readOnly:n.pathname.includes("/archive"),disabled:n.pathname.includes("/archive"),"aria-label":"Tytu notatki",placeholder:"Tytu notatki"}),M.jsx("textarea",{name:"body",defaultValue:t.body,readOnly:n.pathname.includes("/archive"),disabled:n.pathname.includes("/archive"),"aria-label":"Tre notatki",placeholder:"Tre notatki"})]},t.id)})]})}const qI={"error-page":"_error-page_gc08t_1"};function Gr(){return M.jsxs("div",{className:qI["error-page"],children:[M.jsx("h2",{children:"Strona nieznaleziona!"}),M.jsx("p",{children:"Wpisano niepoprawny adres URL!"}),M.jsx(Uv,{to:"..",children:"Wr"})]})}const XI=eC([{path:"/",element:M.jsx(LI,{}),errorElement:M.jsx(Gr,{}),shouldRevalidate:({formAction:t})=>t==="/",loader:async()=>mI(),action:kI,children:[{index:!0,element:null},{path:"/notes/:folderId",element:M.jsx(nm,{}),errorElement:M.jsx(Gr,{}),loader:async({params:t})=>vI(t.folderId),action:jI,children:[{path:"note/:noteId",element:M.jsx(im,{}),errorElement:M.jsx(Gr,{}),shouldRevalidate:({formAction:t})=>!t,loader:async({params:t})=>{const e=await Sy(t.noteId);if(!e)throw new Error;return e},action:GI,children:[{path:"delete",action:QI}]}]},{path:"archive",element:M.jsx(nm,{}),errorElement:M.jsx(Gr,{}),loader:async()=>wI(),children:[{path:"note/:noteId",element:M.jsx(im,{}),errorElement:M.jsx(Gr,{}),shouldRevalidate:({formAction:t})=>!t,loader:async({params:t})=>{const e=await xy(t.noteId);if(!e)throw new Error;return e},children:[{path:"delete",action:KI},{path:"restore",action:YI}]}]}]},{path:"*",element:M.jsx(Gr,{})}],{basename:"/notes"});Cu.createRoot(document.getElementById("root")).render(M.jsx(gm.StrictMode,{children:M.jsx(aC,{router:XI})}));
